/*! jsGraph (c) 2014 Norman Pellet, MIT license, v@2.0.100, Date: 2018-10-16T09:38Z */

!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.Graph=e():t.Graph=e()}("undefined"!=typeof self?self:this,function(){return function(i){var r={};function n(t){if(r[t])return r[t].exports;var e=r[t]={i:t,l:!1,exports:{}};return i[t].call(e.exports,e,e.exports,n),e.l=!0,e.exports}return n.m=i,n.c=r,n.d=function(t,e,i){n.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:i})},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=144)}([function(t,e,i){var g=i(2),y=i(19),v=i(12),m=i(13),x=i(20),b="prototype",k=function(t,e,i){var r,n,s,o,a=t&k.F,u=t&k.G,h=t&k.S,l=t&k.P,c=t&k.B,f=u?g:h?g[e]||(g[e]={}):(g[e]||{})[b],p=u?y:y[e]||(y[e]={}),d=p[b]||(p[b]={});for(r in u&&(i=e),i)s=((n=!a&&f&&void 0!==f[r])?f:i)[r],o=c&&n?x(s,g):l&&"function"==typeof s?x(Function.call,s):s,f&&m(f,r,s,t&k.U),p[r]!=s&&v(p,r,o),l&&d[r]!=s&&(d[r]=s)};g.core=y,k.F=1,k.G=2,k.S=4,k.P=8,k.B=16,k.W=32,k.U=64,k.R=128,t.exports=k},function(t,e,i){var r=i(4);t.exports=function(t){if(!r(t))throw TypeError(t+" is not an object!");return t}},function(t,e){var i=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=i)},function(t,e){t.exports=function(t){try{return!!t()}catch(t){return!0}}},function(t,e){t.exports=function(t){return"object"==typeof t?null!==t:"function"==typeof t}},function(t,e,i){var r,n,s;n=[e],void 0===(s="function"==typeof(r=function(t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.setAttributeTo=function(t,e,i){var r;if(i)for(r in e)t.setAttributeNS(i,r,e[r]);else for(r in e)t.setAttribute(r,e[r])},t.mapEventEmission=function(e,i){i||(i=this);var r;for(var t in e)0==t.indexOf("on")&&"function"==typeof e[t]&&(r=(r=t.substring(2)).substring(0,1).toLowerCase()+r.substring(1),i.on&&function(t){i.on(r,function(){e[t].apply(i,arguments)})}(t))},t.guid=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){var e=16*Math.random()|0,i="x"==t?e:3&e|8;return i.toString(16)})},t.throwError=function(t){console.error(t)},t.warn=function(t){console.warn(t)},t.isNumeric=function(t){return!Array.isArray(t)&&0<=t-parseFloat(t)+1},t.hue2rgb=u,t.hslToRgb=function(t,e,i){var r,n,s;if(0==e)r=n=s=i;else{var o=i<.5?i*(1+e):i+e-i*e,a=2*i-o;r=u(a,o,t+1/3),n=u(a,o,t),s=u(a,o,t-1/3)}return[Math.round(255*r),Math.round(255*n),Math.round(255*s)]},t.saveDomAttributes=function(t,e,i){if(!t)return;t._savedAttributesIds=t._savedAttributesIds||[],-1<t._savedAttributesIds.indexOf(i)&&n(t,i);for(var r in t._savedAttributes=t._savedAttributes||{},t._attributes=t._attributes||{},t._attributes[i]=e,t._savedAttributesIds.push(i),e)t._savedAttributes[r]||(t._savedAttributes[r]=t.getAttribute(r)),t.setAttribute(r,e[r])},t.hasSavedAttribute=r,t.overwriteDomAttribute=function(t,e,i){r(t,e)&&(t._savedAttributes[e]=i)},t.restoreDomAttributes=n,t.debounce=function(r,n,s){var o;return function(){var t=this,e=arguments,i=s&&!o;clearTimeout(o),o=setTimeout(function(){o=null,s||r.apply(t,e)},n),i&&r.apply(t,e)}},t.SVGParser=function(t){return(new DOMParser).parseFromString(t,"image/svg+xml")},t.reverseArray=function(t){var e=null,i=null,r=t.length;for(e=0,i=r-1;e<i;e+=1,i-=1){var n=t[e];t[e]=t[i],t[i]=n}return t},t.getOffset=function(t){var e=t.getBoundingClientRect();return{top:e.top,left:e.left}},t.setCSS=function(t,e){var i=t.style;for(var r in e)i[r]=e[r]},t.ajaxGet=function(n){return new Promise(function(e,i){var r=new XMLHttpRequest;r.open(n.type||"GET",n.url,!0),n.json&&r.setRequestHeader("Accept","application/json"),r.onload=function(){if(200===r.status){var t=r.responseText;n.json&&(t=JSON.parse(t)),e(t)}else i(new Error("Request error: "+r.status))},r.onerror=function(){i(new Error("Network error: "+r.status))},r.send()})},t.extend=function t(){var e,i,r,n,s,o;var a=arguments[0];var u=1;var h=arguments.length;var l=!1;"boolean"==typeof a?(l=a,a=arguments[1]||{},u=2):("object"!==(void 0===a?"undefined":c(a))&&"function"!=typeof a||null==a)&&(a={});for(;u<h;++u)if(null!=(e=arguments[u]))for(i in e)r=a[i],n=e[i],a!==n&&(l&&n&&(p(n)||(s=f(n)))?(s?(s=!1,o=r&&f(r)?r:[]):o=r&&p(r)?r:{},a[i]=t(l,o,n)):void 0!==n&&(a[i]=n));return a},t.mix=function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t.prototype[i]=e[i])},t.emptyDom=function(t){for(;t.firstChild;)t.removeChild(t.firstChild)};var c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};function u(t,e,i){return i<0&&(i+=1),1<i&&(i-=1),i<1/6?t+6*(e-t)*i:i<.5?e:i<2/3?t+(e-t)*(2/3-i)*6:t}function r(t,e){return t._savedAttributes&&void 0!==t._savedAttributes[e]}function n(t,e){if(t&&t._savedAttributesIds){t._savedAttributesIds.splice(t._savedAttributesIds.indexOf(e),1),delete t._attributes[e];var i={};for(var r in t._savedAttributes)i[r]=t._savedAttributes[r];r=0;for(var n=t._savedAttributesIds.length;r<n;r++)for(var s in t._attributes[t._savedAttributesIds[r]])i[s]=t._attributes[t._savedAttributesIds[r]][s];for(var s in i)t.setAttribute(s,i[s])}}var s=Object.prototype.hasOwnProperty,o=Object.prototype.toString,f=function(t){return"function"==typeof Array.isArray?Array.isArray(t):"[object Array]"===o.call(t)},p=function(t){if(!t||"[object Object]"!==o.call(t))return!1;var e,i=s.call(t,"constructor"),r=t.constructor&&t.constructor.prototype&&s.call(t.constructor.prototype,"isPrototypeOf");if(t.constructor&&!i&&!r)return!1;for(e in t);return void 0===e||s.call(t,e)};t.default={},t.isArray=f,t.isPlainObject=p})?r.apply(e,n):r)||(t.exports=s)},function(t,e,i){var r=i(58)("wks"),n=i(36),s=i(2).Symbol,o="function"==typeof s;(t.exports=function(t){return r[t]||(r[t]=o&&s[t]||(o?s:n)("Symbol."+t))}).store=r},function(t,e,i){t.exports=!i(3)(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},function(t,e,i){var r=i(1),n=i(104),s=i(23),o=Object.defineProperty;e.f=i(7)?Object.defineProperty:function(t,e,i){if(r(t),e=s(e,!0),r(i),n)try{return o(t,e,i)}catch(t){}if("get"in i||"set"in i)throw TypeError("Accessors not supported!");return"value"in i&&(t[e]=i.value),t}},function(t,e,i){var r=i(25),n=Math.min;t.exports=function(t){return 0<t?n(r(t),9007199254740991):0}},function(t,e,i){var r=i(24);t.exports=function(t){return Object(r(t))}},function(t,e){t.exports=function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!");return t}},function(t,e,i){var r=i(8),n=i(35);t.exports=i(7)?function(t,e,i){return r.f(t,e,n(1,i))}:function(t,e,i){return t[e]=i,t}},function(t,e,i){var s=i(2),o=i(12),a=i(15),u=i(36)("src"),r="toString",n=Function[r],h=(""+n).split(r);i(19).inspectSource=function(t){return n.call(t)},(t.exports=function(t,e,i,r){var n="function"==typeof i;n&&(a(i,"name")||o(i,"name",e)),t[e]!==i&&(n&&(a(i,u)||o(i,u,t[e]?""+t[e]:h.join(String(e)))),t===s?t[e]=i:r?t[e]?t[e]=i:o(t,e,i):(delete t[e],o(t,e,i)))})(Function.prototype,r,function(){return"function"==typeof this&&this[u]||n.call(this)})},function(t,e,i){var r=i(0),n=i(3),o=i(24),a=/"/g,s=function(t,e,i,r){var n=String(o(t)),s="<"+e;return""!==i&&(s+=" "+i+'="'+String(r).replace(a,"&quot;")+'"'),s+">"+n+"</"+e+">"};t.exports=function(e,t){var i={};i[e]=t(s),r(r.P+r.F*n(function(){var t=""[e]('"');return t!==t.toLowerCase()||3<t.split('"').length}),"String",i)}},function(t,e){var i={}.hasOwnProperty;t.exports=function(t,e){return i.call(t,e)}},function(t,e,i){var r=i(52),n=i(24);t.exports=function(t){return r(n(t))}},function(t,e,i){var r=i(53),n=i(35),s=i(16),o=i(23),a=i(15),u=i(104),h=Object.getOwnPropertyDescriptor;e.f=i(7)?h:function(t,e){if(t=s(t),e=o(e,!0),u)try{return h(t,e)}catch(t){}if(a(t,e))return n(!r.f.call(t,e),t[e])}},function(t,e,i){var r=i(15),n=i(10),s=i(77)("IE_PROTO"),o=Object.prototype;t.exports=Object.getPrototypeOf||function(t){return t=n(t),r(t,s)?t[s]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?o:null}},function(t,e){var i=t.exports={version:"2.5.7"};"number"==typeof __e&&(__e=i)},function(t,e,i){var s=i(11);t.exports=function(r,n,t){if(s(r),void 0===n)return r;switch(t){case 1:return function(t){return r.call(n,t)};case 2:return function(t,e){return r.call(n,t,e)};case 3:return function(t,e,i){return r.call(n,t,e,i)}}return function(){return r.apply(n,arguments)}}},function(t,e){var i={}.toString;t.exports=function(t){return i.call(t).slice(8,-1)}},function(t,e,i){"use strict";var r=i(3);t.exports=function(t,e){return!!t&&r(function(){e?t.call(null,function(){},1):t.call(null)})}},function(t,e,i){var n=i(4);t.exports=function(t,e){if(!n(t))return t;var i,r;if(e&&"function"==typeof(i=t.toString)&&!n(r=i.call(t)))return r;if("function"==typeof(i=t.valueOf)&&!n(r=i.call(t)))return r;if(!e&&"function"==typeof(i=t.toString)&&!n(r=i.call(t)))return r;throw TypeError("Can't convert object to primitive value")}},function(t,e){t.exports=function(t){if(null==t)throw TypeError("Can't call method on  "+t);return t}},function(t,e){var i=Math.ceil,r=Math.floor;t.exports=function(t){return isNaN(t=+t)?0:(0<t?r:i)(t)}},function(t,e,i){var n=i(0),s=i(19),o=i(3);t.exports=function(t,e){var i=(s.Object||{})[t]||Object[t],r={};r[t]=e(i),n(n.S+n.F*o(function(){i(1)}),"Object",r)}},function(t,e,i){var x=i(20),b=i(52),k=i(10),M=i(9),r=i(94);t.exports=function(c,t){var f=1==c,p=2==c,d=3==c,g=4==c,y=6==c,v=5==c||y,m=t||r;return function(t,e,i){for(var r,n,s=k(t),o=b(s),a=x(e,i,3),u=M(o.length),h=0,l=f?m(t,u):p?m(t,0):void 0;h<u;h++)if((v||h in o)&&(n=a(r=o[h],h,s),c))if(f)l[h]=n;else if(n)switch(c){case 3:return!0;case 5:return r;case 6:return h;case 2:l.push(r)}else if(g)return!1;return y?-1:d||g?g:l}}},function(t,e,i){var r,n,s,o;o=function(t,e,i,r,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var u=a(i),o=function(t){{if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e.default=t,e}}(r),s=a(n);function a(t){return t&&t.__esModule?t:{default:t}}var h=function(){function r(t,e){for(var i=0;i<e.length;i++){var r=e[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(t,e,i){return e&&r(t.prototype,e),i&&r(t,i),t}}();var l=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,s.default),h(e,[{key:"init",value:function(t,e){var i=this;if(this.graph=t,this.properties=e||{},this.handles=[],this.options=this.options||{},this.group=document.createElementNS(this.graph.ns,"g"),this.group.setAttribute("clip-path","url(#_clipplot"+t._creation+")"),this._selected=!1,this.createDom(),this._dom&&(this._dom.jsGraphIsShape=this),(this.group.jsGraphIsShape=this).classes=[],this.transforms=[],this._data.masker){var r=document.createElementNS(this.graph.ns,"mask");this.maskingId=Math.random(),r.setAttribute("id",this.maskingId),this.maskDomWrapper=document.createElementNS(this.graph.ns,"rect"),this.maskDomWrapper.setAttribute("fill","white"),r.appendChild(this.maskDomWrapper);var n=this._dom.cloneNode();r.appendChild(n),this.maskDom=n,this.graph.defs.appendChild(r)}return this.group&&(this._dom&&!this.isHTML()&&this.group.appendChild(this._dom),this.group.addEventListener("mouseover",function(t){i.handleMouseOver(t)}),this.group.addEventListener("mouseout",function(t){i.handleMouseOut(t)}),this.group.addEventListener("mousedown",function(t){i.graph.focus(),i.handleMouseDown(t)}),this.group.addEventListener("click",this.handleClick.bind(this)),this.group.addEventListener("dblclick",function(t){i.handleDblClick(t)})),this.initImpl(),this.graph.emit("shapeNew",this),this}},{key:"initImpl",value:function(){}},{key:"getData",value:function(){return this._data}},{key:"getType",value:function(){return this.type}},{key:"kill",value:function(t){this._inDom&&!t&&this.graph.removeShapeFromDom(this),t||this.graph._removeShape(this),this.graph.stopElementMoving(this),this.graph.emit("shapeRemoved",this),this.emit("removed",this),this._inDom=!1}},{key:"hide",value:function(){return this.hidden||(this.hidden=!0,this.isHTML()?this._dom.style.display="none":this.group.style.display="none"),this}},{key:"isHidden",value:function(){return this.hidden}},{key:"isVisible",value:function(){return!this.hidden}},{key:"show",value:function(){return this.hidden&&(this.hidden=!1,this.isHTML()?this._dom.style.display="initial":this.group.style.display="initial",this.redraw()),this}},{key:"addClass",value:function(t){return this.classes=this.classes||[],-1==this.classes.indexOf(t)&&this.classes.push(t),this.makeClasses(),this}},{key:"removeClass",value:function(t){return this.classes.splice(this.classes.indexOf(t),1),this.makeClasses(),this}},{key:"makeClasses",value:function(){return this._dom&&this._dom.setAttribute("class",this.classes.join(" ")),this}},{key:"changed",value:function(t,e){return t&&(this.graph.emit(t,this,e),this.emit(t,this,e)),this.emit("changed",this,e),this.graph.emit("shapeChanged",this,e),this}},{key:"setEventReceptacle",value:function(){this.rectEvent||(this.rectEvent=document.createElementNS(this.graph.ns,"rect"),this.rectEvent.setAttribute("pointer-events","fill"),this.rectEvent.setAttribute("fill","transparent"),this.group.appendChild(this.rectEvent),this.rectEvent.jsGraphIsShape=this);var t=this.group.getBBox();this.rectEvent.setAttribute("x",t.x),this.rectEvent.setAttribute("y",t.y-10),this.rectEvent.setAttribute("width",t.width),this.rectEvent.setAttribute("height",t.height+20)}},{key:"setSerie",value:function(t){if(t){if(!(this.serie=t).getXAxis||!t.getYAxis)throw console.error(t),"Serie does not implement the getXAxis or getYAxis method";return this.xAxis=t.getXAxis(),this.yAxis=t.getYAxis(),this}}},{key:"getSerie",value:function(){return this.serie}},{key:"autoAxes",value:function(){return this.xAxis||(this.xAxis=this.graph.getXAxis()),this.yAxis||(this.yAxis=this.graph.getYAxis()),this}},{key:"setXAxis",value:function(t){return this.xAxis=t,this}},{key:"setYAxis",value:function(t){this.yAxis=t}},{key:"getXAxis",value:function(){return this.xAxis||this.autoAxes(),this.xAxis}},{key:"getYAxis",value:function(){return this.yAxis||this.autoAxes(),this.yAxis}},{key:"setLayer",value:function(t){return this.setProp("layer",t),this}},{key:"getLayer",value:function(){var t=this.getProp("layer");return void 0!==t?t:1}},{key:"draw",value:function(t,e){return this._inDom&&!t||(this.appendToDom(),this._inDom=!0),this.makeLabels(),e||this.redraw(),this.applyStyle(),this}},{key:"redraw",value:function(){return this.hidden?this:(this.position=this.applyPosition(),this.redrawImpl(),this.position?(this.updateLabels(),this._applyTransforms()):this.updateLabels(),this)}},{key:"redrawImpl",value:function(){}},{key:"setProperties",value:function(t){this.properties=t,Array.isArray(this.properties.position)||(this.properties.position=[this.properties.position]);for(var e=this,i=0,r=this.properties.position.length;i<r;i++){var n=u.default.check(this.properties.position[i],function(t){return e.getRelativePosition(t)});this.properties.position[i]=n}return this.emit("propertiesChanged"),this}},{key:"getRelativePosition",value:function(t){var e;return null!==(e=/position([0-9]*)/.exec(t))?this.getPosition(e[1]):null!==(e=/labelPosition([0-9]*)/.exec(t))?this.getLabelPosition(e[1]):void 0}},{key:"getProperties",value:function(t){return this.properties}},{key:"setProp",value:function(t,e,i){return this.properties=this.properties||{},this.properties[t]=this.properties[t]||[],this.properties[t][i||0]=e,this.emit("propertyChanged",t),this}},{key:"getProp",value:function(t,e){return(this.properties[t]||[])[e||0]}},{key:"getProps",value:function(t,e){return this.properties[t]||[]}},{key:"addProp",value:function(t,e){this.properties[t]=this.properties[t]||[],this.properties[t].push(e)}},{key:"resetProp",value:function(t){this.properties[t]=[]}},{key:"setDom",value:function(t,e,i){this._dom&&(i&&o.hasSavedAttribute(this._dom,t)||this._dom.setAttribute(t,e))}},{key:"setDomGroup",value:function(t,e){this.group&&this.group.setAttribute(t,e)}},{key:"setStrokeColor",value:function(t){return this.setProp("strokeColor",t),this.overwriteSavedProp("stroke",t),this.applySelectedStyle(),this}},{key:"getStrokeColor",value:function(){return this.getProp("strokeColor")}},{key:"setFillColor",value:function(t){return this.setProp("fillColor",t),this.overwriteSavedProp("fill",t),this.applySelectedStyle(),this}},{key:"getFillColor",value:function(){return this.getProp("fillColor")}},{key:"setFillOpacity",value:function(t){return this.setProp("fillOpacity",t),this.overwriteSavedProp("fill-opacity",t),this.applySelectedStyle(),this}},{key:"setStrokeWidth",value:function(t){return this.setProp("strokeWidth",t),this.overwriteSavedProp("stroke-width",t),this.applySelectedStyle(),this}},{key:"getStrokeWidth",value:function(){return this.getProp("strokeWidth")}},{key:"setStrokeDasharray",value:function(t){return this.setProp("strokeDasharray",t),this.overwriteSavedProp("stroke-dasharray",t),this.applySelectedStyle(),this}},{key:"setAttributes",value:function(t){return this.setProp("attributes",t),this}},{key:"overwriteSavedProp",value:function(t,e){o.overwriteDomAttribute(this._dom,t,e)}},{key:"addAttribute",value:function(t,e){var i={};return i[t]=e,this.addProp("attributes",i),this}},{key:"addTransform",value:function(t,e){return this.addProp("transforms",{type:t,arguments:Array.isArray(e)?e:[e]}),this}},{key:"resetTransforms",value:function(){return this.resetProp("transforms"),this}},{key:"setLabelText",value:function(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0;return this.setProp("labelText",t,e),this}},{key:"setLabelData",value:function(t,e){var i=2<arguments.length&&void 0!==arguments[2]?arguments[2]:0;return this.setProp("labelData",e,i),this}},{key:"getLabelText",value:function(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0;return this.getProp("labelText",e)}},{key:"displayLabel",value:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0;return this.setProp("labelVisible",!0,t),this}},{key:"hideLabel",value:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0;return this.setProp("labelVisible",!1,t),this}},{key:"setLabelColor",value:function(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0;return this.setProp("labelColor",t,e),this}},{key:"setLabelFontSize",value:function(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0;return this.setProp("labelFontSize",t,e),this}},{key:"getLabelPosition",value:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0;return this.getProp("labelPosition",t)}},{key:"setLabelPosition",value:function(t,e){var i=u.default.check(t,function(t){return(void 0).getRelativePosition(t)});return this.setProp("labelPosition",i,e||0),this}},{key:"setLabelAngle",value:function(t,e){return this.setProp("labelAngle",t,e||0),this}},{key:"setLabelBaseline",value:function(t,e){return this.setProp("labelBaseline",t,e||0),this}},{key:"setLabelAnchor",value:function(t,e){return this.setProp("labelAnchor",t,e||0),this}},{key:"setLabelSize",value:function(t,e){return this.setProp("labelSize",t,e||0),this}},{key:"setLabelStrokeColor",value:function(t,e){return this.setProp("labelStrokeColor",t,e||0),this}},{key:"setLabelStrokeWidth",value:function(t,e){return this.setProp("labelStrokeWidth",t,e||0),this}},{key:"setLabelBackgroundColor",value:function(t,e){return this.setProp("labelBackgroundColor",t,e||0),this}},{key:"setLabelBackgroundOpacity",value:function(t,e){return this.setProp("labelBackgroundOpacity",t,e||0),this}},{key:"applyGenericStyle",value:function(){this.setDom("fill",this.getProp("fillColor"),!0),this.setDom("fill-opacity",this.getProp("fillOpacity"),!0),this.setDom("stroke",this.getProp("strokeColor"),!0),this.setDom("stroke-width",this.getProp("strokeWidth"),!0),this.setDom("stroke-dasharray",this.getProp("strokeDasharray"),!0);for(var t=this.getProps("attributes"),e=0,i=t.length;e<i;e++)for(var r in t[e])this.setDom(r,"function"==typeof t[e][r]?t[e][r].call(this,r):t[e][r],!0);return this._applyTransforms(),this}},{key:"applyStyle",value:function(){return this.applyGenericStyle()}},{key:"calculatePosition",value:function(t){var e;if(e=t instanceof u.default?t:this.getPosition(t))return e&&e.compute?e.compute(this.graph,this.getXAxis(),this.getYAxis(),this.getSerie()):void this.graph.throw()}},{key:"getPosition",value:function(t){var e=this.getProp("position",t||0);return this.setProp("position",e=u.default.check(e),t),e}},{key:"setPosition",value:function(t,e){var i=this,r=u.default.check(t,function(t){return i.getRelativePosition(t)});return this.setProp("position",r,e||0)}},{key:"sortPositions",value:function(t){return this.getProps("position").sort(t),this}},{key:"_applyTransforms",value:function(){var t=this.getProp("transforms"),e="";if(t&&0!=(t=Array.isArray(t)?t:[t]).length){for(var i=0;i<t.length;i++){switch(e+=t[i].type+"(",t[i].type){case"translate":var r=t[i].arguments[0].compute(this.graph,this.getXAxis(),this.getYAxis(),this.getSerie());e+=r.x,e+=", ",e+=r.y;break;case"rotate":if(e+=t[i].arguments[0],e+=", ",1==t[i].arguments.length){var n=this.computePosition(0);e+=n.x+", "+n.y}else e+=u.default.getDeltaPx(t[i].arguments[1],this.getXAxis()).replace("px",""),e+=", ",e+=u.default.getDeltaPx(t[i].arguments[2],this.getYAxis()).replace("px","")}e+=") "}return this.setDomGroup("transform",e),this}}},{key:"makeLabels",value:function(){var e=this;this._labels=this._labels||[],this._labelsBackground=this._labelsBackground||[],this._labels.map(function(t){e.group.removeChild(t)}),this._labelsBackground.map(function(t){e.group.removeChild(t)}),this._labels=[],this._labelsBackground[t]=[];for(var t=0;void 0!==this.getProp("labelText",t);)this._labels[t]||(this._labels[t]=document.createElementNS(this.graph.ns,"text"),this._labels[t].setAttribute("data-label-i",t),(this._labels[t].jsGraphIsShape=this)._labelsBackground[t]=document.createElementNS(this.graph.ns,"rect"),this._labelsBackground[t].setAttribute("data-label-i",t),(this._labelsBackground[t].jsGraphIsShape=this).group.appendChild(this._labelsBackground[t]),this.group.appendChild(this._labels[t]),this._labels[t].addEventListener("dblclick",function(t){t.stopPropagation(),e.labelDblClickListener(t)}),this._labelsBackground[t].addEventListener("dblclick",function(t){t.stopPropagation(),e.labelDblClickListener(t)})),t++;return this.updateLabels(),this}},{key:"isLabelEditable",value:function(t){return this.getProp("labelEditable",t||0)}},{key:"updateLabels",value:function(){this._labels=this._labels||[];for(var t=0,e=this._labels.length;t<e;t++)this._applyLabelData(t)}},{key:"_applyLabelData",value:function(t){if(t=t||0,!1===this.getProp("labelVisible",t))return this._labels[t].setAttribute("display","none"),void this._labelsBackground[t].setAttribute("display","none");this._labels[t].setAttribute("display","initial"),this._labelsBackground[t].setAttribute("display","initial");var e=this.calculatePosition(u.default.check(this.getProp("labelPosition",t)));if(!isNaN(e.x)&&!isNaN(e.y)&&!1!==e.y&&!1!==e.x){"NaNpx"==e.x||isNaN(e.x)||"NaN"===e.x||!1===e.x||(this._labels[t].setAttribute("x",e.x),this._labels[t].setAttribute("y",e.y));var i=this.getProp("labelAngle",t)||0;if(0!=i){var r=this._labels[t].getAttribute("x"),n=this._labels[t].getAttribute("y");this._labels[t].setAttribute("transform","rotate("+i+" "+r+" "+n+")")}var s=this.getProp("labelHTMLData",t)||{};for(var o in s)this._labels[t].setAttribute(o,s[o]),this._labelsBackground[t].setAttribute(o,s[o]);this._labels[t].setAttribute("dominant-baseline",this.getProp("labelBaseline",t)||"no-change"),this._labels[t].textContent=this.getProp("labelText",t),this._labels[t].setAttribute("fill",this.getProp("labelColor",t)||"black"),this._labels[t].setAttribute("font-size",this.getProp("labelSize",t)+"px"||"12px"),this._labels[t].setAttribute("text-anchor",this._getLabelAnchor(t)),this._labels[t].setAttribute("stroke",this.getProp("labelStrokeColor",t)||"black"),this._labels[t].setAttribute("stroke-width",this.getProp("labelStrokeWidth",t)||"0px"),this._labels[t].setAttribute("stroke-location","outside");var a=this._labels[t].getBBox();return this._labelsBackground[t].setAttribute("x",a.x),this._labelsBackground[t].setAttribute("y",a.y),this._labelsBackground[t].setAttribute("width",a.width),this._labelsBackground[t].setAttribute("height",a.height),this._labelsBackground[t].setAttribute("fill",this.getProp("labelBackgroundColor")||"transparent"),this._labelsBackground[t].setAttribute("fill-opacity",this.getProp("labelBackgroundOpacity")||1),this}}},{key:"emptyLabels",value:function(){for(var t=0,e=this._labels.length;t<e;t++)this._labels[t].textContent="";return this}},{key:"_getLabelAnchor",value:function(t){var e=this.getProp("labelAnchor",t);switch(e){case"middle":case"start":case"end":return e;case"right":return"end";case"left":default:return"start"}}},{key:"isSelected",value:function(){return this._selectStatus||!1}},{key:"hasHandles",value:function(t){return void 0!==t&&this.setProp("handles",t),!!this.getProp("handles")||!!this.getProp("staticHandles")}},{key:"addHandles",value:function(){if(!this.isLocked()){if(!this.handlesInDom){this.handlesInDom=!0;for(var t=1;t<this.handles.length;t++)this.handles[t]&&this.group.appendChild(this.handles[t])}return this}}},{key:"removeHandles",value:function(){this.hideHandles(),this.handles=[]}},{key:"hideHandles",value:function(){if(!this.handlesInDom)return this;for(var t=1;t<this.handles.length;t++)this.group.removeChild(this.handles[t]);return this.handlesInDom=!1,this}},{key:"areHandlesInDom",value:function(){return this.handlesInDom}},{key:"_select",value:function(t){if(!this.isSelectable())return!1;this.appendToDom(),this._selectStatus=!0,this.applySelectedStyle(),this.hasHandles()&&!this.hasStaticHandles()&&(this.addHandles(),this.setHandles()),t||this.graph.emit("shapeSelected",this)}},{key:"applySelectedStyle",value:function(){if(this._selectStatus){var t=this.getSelectStyle(),e={};for(var i in t)"function"==typeof t[i]?e[i]=t[i].call(this):e[i]=t[i];o.saveDomAttributes(this._dom,e,"select")}}},{key:"_unselect",value:function(t){this._selectStatus=!1,o.restoreDomAttributes(this._dom,"select"),this.hasHandles()&&!this.hasStaticHandles()&&this.hideHandles(),t||this.graph.emit("shapeUnselected",this)}},{key:"getSelectStyle",value:function(){return this.selectStyle}},{key:"setSelectStyle",value:function(t){return this.selectStyle=t,this.applySelectedStyle(),this}},{key:"setStaticHandles",value:function(t){this.setProp("staticHandles",t)}},{key:"hasStaticHandles",value:function(t){return!!this.getProp("staticHandles")}},{key:"_createHandles",value:function(t,n,s,o){var a=this;if(!(this.handles&&0<this.handles.length)){for(var e=1,i=t;e<=i;e++)(function(e){var i=a,t=document.createElementNS(i.graph.ns,n);if(t.jsGraphIsShape=!0,s)for(var r in s)t.setAttribute(r,s[r]);t.addEventListener("mousedown",function(t){i.isResizable()&&(t.preventDefault(),t.stopPropagation(),i.graph.emit("beforeShapeResize",i),a.emit("beforeShapeResize"),i.graph.prevent(!1)||(i.resizing=!0,i.handleSelected=e,i.handleMouseDown(t)))}),o&&o(i.handles[e]),i.handles[e]=t}).call(this,e);return this.handles}}},{key:"createHandles",value:function(){this.hasStaticHandles()&&(this.addHandles(),this.setHandles())}},{key:"handleMouseDownImpl",value:function(){}},{key:"handleMouseMoveImpl",value:function(){}},{key:"handleMouseUpImpl",value:function(){}},{key:"handleCreateImpl",value:function(){}},{key:"handleMouseDown",value:function(t){if(!this.isLocked())return(this.isMovable()||this.isResizable())&&this.graph.elementMoving(this),this.getProp("selectOnMouseDown")&&this.graph.selectShape(this),this.isMovable()&&(this.resizing||(this.graph.emit("beforeShapeMove",self),this.graph.prevent(!1)||(this.moving=!0,this.moved=!1))),this._mouseCoords=this.graph._getXY(t),this.handleMouseDownImpl(t,this._mouseCoords)}},{key:"handleClick",value:function(t){if(this.graph.emit("shapeClicked",this),this.emit("shapeClicked"),!this.isSelectable())return!1;t.shiftKey||this.graph.unselectShapes(),this.getProp("selectOnClick")&&this.graph.selectShape(this)}},{key:"handleMouseMove",value:function(t){if(!this.resizing&&!this.moving||this.isSelected()||this.graph.selectShape(this),this.graph.emit("beforeShapeMouseMove",this),this.emit("beforeShapeMouseMove"),this.graph.prevent(!1)||!this._mouseCoords)return!1;this.moved=!0;var e=this.graph._getXY(t),i=this.getXAxis().getRelVal(e.x-this._mouseCoords.x),r=this.getYAxis().getRelVal(e.y-this._mouseCoords.y);return 0==i&&0===r||(this.preventUnselect=!0),this._mouseCoords=e,this.handleMouseMoveImpl(t,i,r,e.x-this._mouseCoords.x,e.y-this._mouseCoords.y)}},{key:"handleMouseUp",value:function(t){return this.moving&&this.moved&&(this.graph.emit("shapeMoved",this),this.emit("shapeMoved")),(this.handleSelected||this.resize)&&(this.graph.emit("shapeResized",this),this.emit("shapeResized")),this.moving=!1,this.resizing=!1,this.handleSelected=!1,this.graph.elementMoving(!1),this.handleMouseUpImpl(t)}},{key:"handleDblClick",value:function(t){}},{key:"handleMouseOver",value:function(){this.getProp("highlightOnMouseOver")&&(this.moving||this.resizing||this.highlight()),this.graph.emit("shapeMouseOver",this)}},{key:"handleMouseOut",value:function(){this.getProp("highlightOnMouseOver")&&this.unHighlight(),this.graph.emit("shapeMouseOut",this)}},{key:"lock",value:function(){return this.setProp("locked",!0),this}},{key:"unlock",value:function(){return this.setProp("locked",!1),this}},{key:"isLocked",value:function(){return this.getProp("locked")||this.graph.shapesLocked}},{key:"movable",value:function(t){this.setProp("movable",!0)}},{key:"unmovable",value:function(){return this.setProp("movable",!1),!1}},{key:"isMovable",value:function(){return this.getProp("movable")}},{key:"resizable",value:function(){this.setProp("resizable",!0)}},{key:"unresizable",value:function(){this.setProp("resizable",!1)}},{key:"isResizable",value:function(){return this.getProp("resizable")}},{key:"selectable",value:function(){this.setProp("selectable",!0)}},{key:"unselectable",value:function(){this.graph.unselectShape(this),this.setProp("selectable",!1)}},{key:"isSelectable",value:function(){return this.getProp("selectable")}},{key:"highlight",value:function(t,e){return t||(t=this.getHighlightAttributes()),e||(e="highlight"),o.saveDomAttributes(this._dom,t,e),this.highlightImpl(),this}},{key:"unHighlight",value:function(t){return t||(t="highlight"),o.restoreDomAttributes(this._dom,t),this.unHighlightImpl(),this}},{key:"highlightImpl",value:function(){}},{key:"unHighlightImpl",value:function(){}},{key:"getHighlightAttributes",value:function(){return this._highlightAttributes}},{key:"setHighlightAttributes",value:function(t){return this._highlightAttributes=t,this}},{key:"getMaskingID",value:function(){return this.maskingId}},{key:"maskWith",value:function(t){var e=t.getMaskingID();e?this._dom.setAttribute("mask","url(#"+e+")"):this._dom.removeAttribute("mask")}},{key:"updateMask",value:function(){}},{key:"labelDblClickListener",value:function(t){var i=parseInt(t.target.getAttribute("data-label-i")),r=this;if(!isNaN(i)&&this.isLabelEditable(i)){t.preventDefault(),t.stopPropagation();var n=document.createElement("input");n.setAttribute("type","text"),n.setAttribute("value",r.getProp("labelText",i)),r.graph.wrapper.prepend(n),n.select(),o.setCSS(n,{position:"absolute",marginTop:parseInt(t.target.getAttribute("y").replace("px",""))+this.graph.getPaddingTop()-10+"px",marginLeft:parseInt(t.target.getAttribute("x").replace("px",""))+this.graph.getPaddingLeft()-50+"px",textAlign:"center",width:"100px"});var s=r.getLabelText(i),e=function t(){r.setLabelText(n.value,i),r._labels[i].textContent=n.value;var e=n.value;n.remove(),n.removeEventListener("blur",t),n=!1,r.changed("shapeLabelChanged",{previousValue:s,nextValue:e})};n.addEventListener("blur",e),n.addEventListener("keyup",function(t){13===t.keyCode&&e()}),n.addEventListener("keypress",function(t){t.stopPropagation()}),n.addEventListener("keydown",function(t){t.stopPropagation()}),n.focus()}}},{key:"appendToDom",value:function(){return this._forcedParentDom?this._forcedParentDom.appendChild(this.group):this.graph.appendShapeToDom(this),this}},{key:"forceParentDom",value:function(t){return this._forcedParentDom=t,this}},{key:"isHTML",value:function(){return!1}}]),e}();l.prototype.computePosition=l.prototype.calculatePosition,l.prototype.showLabel=l.prototype.displayLabel,l.prototype.remove=l.prototype.kill,e.default=l,t.exports=e.default},n=[t,e,i(55),i(5),i(56)],void 0===(s="function"==typeof(r=o)?r.apply(e,n):r)||(t.exports=s)},function(t,e,i){var r,n,s,o;o=function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r,n=(r=i)&&r.__esModule?r:{default:r};var s=function(){function r(t,e){for(var i=0;i<e.length;i++){var r=e[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(t,e,i){return e&&r(t.prototype,e),i&&r(t,i),t}}();var o=function(t){function i(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i);var e=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(i.__proto__||Object.getPrototypeOf(i)).apply(this,arguments));return e.options=Object.assign({},i.default(),e.constructor.default(),t),e}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(i,n.default),s(i,null,[{key:"default",value:function(){return{}}}]),s(i,[{key:"init",value:function(t){this.graph=t}},{key:"onMouseDown",value:function(){}},{key:"onMouseUp",value:function(){}},{key:"onMouseMove",value:function(){}}]),i}();e.default=o,t.exports=e.default},n=[t,e,i(56)],void 0===(s="function"==typeof(r=o)?r.apply(e,n):r)||(t.exports=s)},function(t,e,i){"use strict";if(i(7)){var v=i(33),m=i(2),x=i(3),b=i(0),k=i(69),r=i(100),f=i(20),M=i(42),n=i(35),S=i(12),s=i(44),o=i(25),A=i(9),_=i(130),a=i(38),u=i(23),h=i(15),w=i(54),P=i(4),p=i(10),d=i(91),C=i(39),L=i(18),O=i(40).f,g=i(93),l=i(36),c=i(6),y=i(27),E=i(59),T=i(66),X=i(96),D=i(49),j=i(63),I=i(41),N=i(95),Y=i(120),F=i(8),B=i(17),R=F.f,H=B.f,W=m.RangeError,z=m.TypeError,V=m.Uint8Array,G="ArrayBuffer",U="Shared"+G,Z="BYTES_PER_ELEMENT",q="prototype",K=Array[q],J=r.ArrayBuffer,Q=r.DataView,$=y(0),tt=y(2),et=y(3),it=y(4),rt=y(5),nt=y(6),st=E(!0),ot=E(!1),at=X.values,ut=X.keys,ht=X.entries,lt=K.lastIndexOf,ct=K.reduce,ft=K.reduceRight,pt=K.join,dt=K.sort,gt=K.slice,yt=K.toString,vt=K.toLocaleString,mt=c("iterator"),xt=c("toStringTag"),bt=l("typed_constructor"),kt=l("def_constructor"),Mt=k.CONSTR,St=k.TYPED,At=k.VIEW,_t="Wrong length!",wt=y(1,function(t,e){return Et(T(t,t[kt]),e)}),Pt=x(function(){return 1===new V(new Uint16Array([1]).buffer)[0]}),Ct=!!V&&!!V[q].set&&x(function(){new V(1).set({})}),Lt=function(t,e){var i=o(t);if(i<0||i%e)throw W("Wrong offset!");return i},Ot=function(t){if(P(t)&&St in t)return t;throw z(t+" is not a typed array!")},Et=function(t,e){if(!(P(t)&&bt in t))throw z("It is not a typed array constructor!");return new t(e)},Tt=function(t,e){return Xt(T(t,t[kt]),e)},Xt=function(t,e){for(var i=0,r=e.length,n=Et(t,r);i<r;)n[i]=e[i++];return n},Dt=function(t,e,i){R(t,e,{get:function(){return this._d[i]}})},jt=function(t){var e,i,r,n,s,o,a=p(t),u=arguments.length,h=1<u?arguments[1]:void 0,l=void 0!==h,c=g(a);if(null!=c&&!d(c)){for(o=c.call(a),r=[],e=0;!(s=o.next()).done;e++)r.push(s.value);a=r}for(l&&2<u&&(h=f(h,arguments[2],2)),e=0,i=A(a.length),n=Et(this,i);e<i;e++)n[e]=l?h(a[e],e):a[e];return n},It=function(){for(var t=0,e=arguments.length,i=Et(this,e);t<e;)i[t]=arguments[t++];return i},Nt=!!V&&x(function(){vt.call(new V(1))}),Yt=function(){return vt.apply(Nt?gt.call(Ot(this)):Ot(this),arguments)},Ft={copyWithin:function(t,e){return Y.call(Ot(this),t,e,2<arguments.length?arguments[2]:void 0)},every:function(t){return it(Ot(this),t,1<arguments.length?arguments[1]:void 0)},fill:function(t){return N.apply(Ot(this),arguments)},filter:function(t){return Tt(this,tt(Ot(this),t,1<arguments.length?arguments[1]:void 0))},find:function(t){return rt(Ot(this),t,1<arguments.length?arguments[1]:void 0)},findIndex:function(t){return nt(Ot(this),t,1<arguments.length?arguments[1]:void 0)},forEach:function(t){$(Ot(this),t,1<arguments.length?arguments[1]:void 0)},indexOf:function(t){return ot(Ot(this),t,1<arguments.length?arguments[1]:void 0)},includes:function(t){return st(Ot(this),t,1<arguments.length?arguments[1]:void 0)},join:function(t){return pt.apply(Ot(this),arguments)},lastIndexOf:function(t){return lt.apply(Ot(this),arguments)},map:function(t){return wt(Ot(this),t,1<arguments.length?arguments[1]:void 0)},reduce:function(t){return ct.apply(Ot(this),arguments)},reduceRight:function(t){return ft.apply(Ot(this),arguments)},reverse:function(){for(var t,e=this,i=Ot(e).length,r=Math.floor(i/2),n=0;n<r;)t=e[n],e[n++]=e[--i],e[i]=t;return e},some:function(t){return et(Ot(this),t,1<arguments.length?arguments[1]:void 0)},sort:function(t){return dt.call(Ot(this),t)},subarray:function(t,e){var i=Ot(this),r=i.length,n=a(t,r);return new(T(i,i[kt]))(i.buffer,i.byteOffset+n*i.BYTES_PER_ELEMENT,A((void 0===e?r:a(e,r))-n))}},Bt=function(t,e){return Tt(this,gt.call(Ot(this),t,e))},Rt=function(t){Ot(this);var e=Lt(arguments[1],1),i=this.length,r=p(t),n=A(r.length),s=0;if(i<n+e)throw W(_t);for(;s<n;)this[e+s]=r[s++]},Ht={entries:function(){return ht.call(Ot(this))},keys:function(){return ut.call(Ot(this))},values:function(){return at.call(Ot(this))}},Wt=function(t,e){return P(t)&&t[St]&&"symbol"!=typeof e&&e in t&&String(+e)==String(e)},zt=function(t,e){return Wt(t,e=u(e,!0))?n(2,t[e]):H(t,e)},Vt=function(t,e,i){return!(Wt(t,e=u(e,!0))&&P(i)&&h(i,"value"))||h(i,"get")||h(i,"set")||i.configurable||h(i,"writable")&&!i.writable||h(i,"enumerable")&&!i.enumerable?R(t,e,i):(t[e]=i.value,t)};Mt||(B.f=zt,F.f=Vt),b(b.S+b.F*!Mt,"Object",{getOwnPropertyDescriptor:zt,defineProperty:Vt}),x(function(){yt.call({})})&&(yt=vt=function(){return pt.call(this)});var Gt=s({},Ft);s(Gt,Ht),S(Gt,mt,Ht.values),s(Gt,{slice:Bt,set:Rt,constructor:function(){},toString:yt,toLocaleString:Yt}),Dt(Gt,"buffer","b"),Dt(Gt,"byteOffset","o"),Dt(Gt,"byteLength","l"),Dt(Gt,"length","e"),R(Gt,xt,{get:function(){return this[St]}}),t.exports=function(t,c,e,s){var f=t+((s=!!s)?"Clamped":"")+"Array",i="get"+t,o="set"+t,p=m[f],a=p||{},r=p&&L(p),n=!p||!k.ABV,u={},h=p&&p[q],d=function(t,n){R(t,n,{get:function(){return t=n,(e=this._d).v[i](t*c+e.o,Pt);var t,e},set:function(t){return e=n,i=t,r=this._d,s&&(i=(i=Math.round(i))<0?0:255<i?255:255&i),void r.v[o](e*c+r.o,i,Pt);var e,i,r},enumerable:!0})};n?(p=e(function(t,e,i,r){M(t,p,f,"_d");var n,s,o,a,u=0,h=0;if(P(e)){if(!(e instanceof J||(a=w(e))==G||a==U))return St in e?Xt(p,e):jt.call(p,e);n=e,h=Lt(i,c);var l=e.byteLength;if(void 0===r){if(l%c)throw W(_t);if((s=l-h)<0)throw W(_t)}else if(l<(s=A(r)*c)+h)throw W(_t);o=s/c}else o=_(e),n=new J(s=o*c);for(S(t,"_d",{b:n,o:h,l:s,e:o,v:new Q(n)});u<o;)d(t,u++)}),h=p[q]=C(Gt),S(h,"constructor",p)):x(function(){p(1)})&&x(function(){new p(-1)})&&j(function(t){new p,new p(null),new p(1.5),new p(t)},!0)||(p=e(function(t,e,i,r){var n;return M(t,p,f),P(e)?e instanceof J||(n=w(e))==G||n==U?void 0!==r?new a(e,Lt(i,c),r):void 0!==i?new a(e,Lt(i,c)):new a(e):St in e?Xt(p,e):jt.call(p,e):new a(_(e))}),$(r!==Function.prototype?O(a).concat(O(r)):O(a),function(t){t in p||S(p,t,a[t])}),p[q]=h,v||(h.constructor=p));var l=h[mt],g=!!l&&("values"==l.name||null==l.name),y=Ht.values;S(p,bt,!0),S(h,St,f),S(h,At,!0),S(h,kt,p),(s?new p(1)[xt]==f:xt in h)||R(h,xt,{get:function(){return f}}),u[f]=p,b(b.G+b.W+b.F*(p!=a),u),b(b.S,f,{BYTES_PER_ELEMENT:c}),b(b.S+b.F*x(function(){a.of.call(p,1)}),f,{from:jt,of:It}),Z in h||S(h,Z,c),b(b.P,f,Ft),I(f),b(b.P+b.F*Ct,f,{set:Rt}),b(b.P+b.F*!g,f,Ht),v||h.toString==yt||(h.toString=yt),b(b.P+b.F*x(function(){new p(1).slice()}),f,{slice:Bt}),b(b.P+b.F*(x(function(){return[1,2].toLocaleString()!=new p([1,2]).toLocaleString()})||!x(function(){h.toLocaleString.call([1,2])})),f,{toLocaleString:Yt}),D[f]=g?l:y,v||g||S(h,mt,y)}}else t.exports=function(){}},function(t,e,i){var s=i(125),r=i(0),n=i(58)("metadata"),o=n.store||(n.store=new(i(128))),a=function(t,e,i){var r=o.get(t);if(!r){if(!i)return;o.set(t,r=new s)}var n=r.get(e);if(!n){if(!i)return;r.set(e,n=new s)}return n};t.exports={store:o,map:a,has:function(t,e,i){var r=a(e,i,!1);return void 0!==r&&r.has(t)},get:function(t,e,i){var r=a(e,i,!1);return void 0===r?void 0:r.get(t)},set:function(t,e,i,r){a(i,r,!0).set(t,e)},keys:function(t,e){var i=a(t,e,!1),r=[];return i&&i.forEach(function(t,e){r.push(e)}),r},key:function(t){return void 0===t||"symbol"==typeof t?t:String(t)},exp:function(t){r(r.S,"Reflect",t)}}},function(t,e,i){var r=i(36)("meta"),n=i(4),s=i(15),o=i(8).f,a=0,u=Object.isExtensible||function(){return!0},h=!i(3)(function(){return u(Object.preventExtensions({}))}),l=function(t){o(t,r,{value:{i:"O"+ ++a,w:{}}})},c=t.exports={KEY:r,NEED:!1,fastKey:function(t,e){if(!n(t))return"symbol"==typeof t?t:("string"==typeof t?"S":"P")+t;if(!s(t,r)){if(!u(t))return"F";if(!e)return"E";l(t)}return t[r].i},getWeak:function(t,e){if(!s(t,r)){if(!u(t))return!0;if(!e)return!1;l(t)}return t[r].w},onFreeze:function(t){return h&&c.NEED&&u(t)&&!s(t,r)&&l(t),t}}},function(t,e){t.exports=!1},function(t,e,i){var r=i(6)("unscopables"),n=Array.prototype;null==n[r]&&i(12)(n,r,{}),t.exports=function(t){n[r][t]=!0}},function(t,e){t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},function(t,e){var i=0,r=Math.random();t.exports=function(t){return"Symbol(".concat(void 0===t?"":t,")_",(++i+r).toString(36))}},function(t,e,i){var r=i(106),n=i(78);t.exports=Object.keys||function(t){return r(t,n)}},function(t,e,i){var r=i(25),n=Math.max,s=Math.min;t.exports=function(t,e){return(t=r(t))<0?n(t+e,0):s(t,e)}},function(t,e,r){var n=r(1),s=r(107),o=r(78),a=r(77)("IE_PROTO"),u=function(){},h="prototype",l=function(){var t,e=r(75)("iframe"),i=o.length;for(e.style.display="none",r(79).appendChild(e),e.src="javascript:",(t=e.contentWindow.document).open(),t.write("<script>document.F=Object<\/script>"),t.close(),l=t.F;i--;)delete l[h][o[i]];return l()};t.exports=Object.create||function(t,e){var i;return null!==t?(u[h]=n(t),i=new u,u[h]=null,i[a]=t):i=l(),void 0===e?i:s(i,e)}},function(t,e,i){var r=i(106),n=i(78).concat("length","prototype");e.f=Object.getOwnPropertyNames||function(t){return r(t,n)}},function(t,e,i){"use strict";var r=i(2),n=i(8),s=i(7),o=i(6)("species");t.exports=function(t){var e=r[t];s&&e&&!e[o]&&n.f(e,o,{configurable:!0,get:function(){return this}})}},function(t,e){t.exports=function(t,e,i,r){if(!(t instanceof e)||void 0!==r&&r in t)throw TypeError(i+": incorrect invocation!");return t}},function(t,e,i){var f=i(20),p=i(118),d=i(91),g=i(1),y=i(9),v=i(93),m={},x={};(e=t.exports=function(t,e,i,r,n){var s,o,a,u,h=n?function(){return t}:v(t),l=f(i,r,e?2:1),c=0;if("function"!=typeof h)throw TypeError(t+" is not iterable!");if(d(h)){for(s=y(t.length);c<s;c++)if((u=e?l(g(o=t[c])[0],o[1]):l(t[c]))===m||u===x)return u}else for(a=h.call(t);!(o=a.next()).done;)if((u=p(a,l,o.value,e))===m||u===x)return u}).BREAK=m,e.RETURN=x},function(t,e,i){var n=i(13);t.exports=function(t,e,i){for(var r in e)n(t,r,e[r],i);return t}},function(t,e,i){var r,n,s,o;o=function(t,e,i,r,n,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var u=h(i),A=function(t){{if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e.default=t,e}}(r),o=h(n),a=h(s);function h(t){return t&&t.__esModule?t:{default:t}}var _=function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function(t,e){var i=[],r=!0,n=!1,s=void 0;try{for(var o,a=t[Symbol.iterator]();!(r=(o=a.next()).done)&&(i.push(o.value),!e||i.length!==e);r=!0);}catch(t){n=!0,s=t}finally{try{!r&&a.return&&a.return()}finally{if(n)throw s}}return i}(t,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")},l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};var c=function(){function r(t,e){for(var i=0;i<e.length;i++){var r=e[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(t,e,i){return e&&r(t.prototype,e),i&&r(t,i),t}}();var f={title:"",paddingTop:30,paddingBottom:5,paddingLeft:20,paddingRight:20,close:{left:!0,right:!0,top:!0,bottom:!0},closeColor:"black",fontSize:12,fontFamily:"Myriad Pro, Helvetica, Arial",plugins:{},pluginAction:{},mouseActions:[],keyActions:[],wheel:{},dblclick:{},shapesUnselectOnClick:!0,shapesUniqueSelection:!0},w={shape:"circle",r:4},p=new Map,d=function(t){function S(t,e,i){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,S);var r=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(S.__proto__||Object.getPrototypeOf(S)).call(this));for(var n in r._creation=A.guid(),r._drawn=!1,t!==Object(t)||t instanceof HTMLElement?"string"==typeof t?t=document.getElementById(t):"number"==typeof t.length&&(t=t[0]):(i=e,e=t,t=null),r.options=A.extend({},f,e),function(){this.dom=document.createElementNS(d.ns,"svg"),this.dom.setAttributeNS("http://www.w3.org/2000/xmlns/","xmlns:xlink","http://www.w3.org/1999/xlink"),A.setAttributeTo(this.dom,{xmlns:d.ns,"font-family":this.options.fontFamily,"font-size":this.options.fontSize});try{A.setAttributeTo(this.dom,{"data-jsgraph-version":"v2.0.100"})}catch(t){}this.defs=document.createElementNS(d.ns,"defs"),this.dom.appendChild(this.defs),this.groupEvent=document.createElementNS(d.ns,"g"),this.rectEvent=document.createElementNS(d.ns,"rect"),A.setAttributeTo(this.rectEvent,{"pointer-events":"fill",fill:"transparent"}),this.groupEvent.appendChild(this.rectEvent),this.dom.appendChild(this.groupEvent),this.domTitle=document.createElementNS(d.ns,"text"),this.setTitle(this.options.title),A.setAttributeTo(this.domTitle,{"text-anchor":"middle",y:20}),this.groupEvent.appendChild(this.domTitle),this.graphingZone=document.createElementNS(d.ns,"g"),this.updateGraphingZone(),this.groupEvent.appendChild(this.graphingZone),this.axisGroup=document.createElementNS(d.ns,"g"),this.graphingZone.appendChild(this.axisGroup),this.groupGrids=document.createElementNS(d.ns,"g"),this.groupPrimaryGrids=document.createElementNS(d.ns,"g"),this.groupSecondaryGrids=document.createElementNS(d.ns,"g"),this.axisGroup.appendChild(this.groupGrids),this.groupGrids.appendChild(this.groupSecondaryGrids),this.groupGrids.appendChild(this.groupPrimaryGrids),this.plotGroup=document.createElementNS(d.ns,"g"),this.graphingZone.appendChild(this.plotGroup),this.layers=[],this._makeClosingLines(),this.clip=document.createElementNS(d.ns,"clipPath"),this.clip.setAttribute("id","_clipplot"+this._creation),this.defs.appendChild(this.clip),this.clipRect=document.createElementNS(d.ns,"rect"),this.clip.appendChild(this.clipRect),this.clip.setAttribute("clipPathUnits","userSpaceOnUse"),this.markerArrow=document.createElementNS(this.ns,"marker"),this.markerArrow.setAttribute("viewBox","0 0 10 10"),this.markerArrow.setAttribute("id","arrow"+this._creation),this.markerArrow.setAttribute("refX","6"),this.markerArrow.setAttribute("refY","5"),this.markerArrow.setAttribute("markerUnits","strokeWidth"),this.markerArrow.setAttribute("markerWidth","8"),this.markerArrow.setAttribute("markerHeight","6"),this.markerArrow.setAttribute("orient","auto");var t,e=document.createElementNS(d.ns,"path");e.setAttribute("d","M 0 0 L 10 5 L 0 10 z"),this.markerArrow.appendChild(e),this.defs.appendChild(this.markerArrow),this.markerHorizontalSplit=document.createElementNS(d.ns,"marker"),this.markerHorizontalSplit.setAttribute("viewBox","0 0 6 8"),this.markerHorizontalSplit.setAttribute("id","horionzalsplit_"+this.getId()),this.markerHorizontalSplit.setAttribute("refX","3"),this.markerHorizontalSplit.setAttribute("refY","4"),this.markerHorizontalSplit.setAttribute("markerUnits","strokeWidth"),this.markerHorizontalSplit.setAttribute("markerWidth","6"),this.markerHorizontalSplit.setAttribute("markerHeight","8"),(t=document.createElementNS(d.ns,"line")).setAttribute("x1","0"),t.setAttribute("y1","8"),t.setAttribute("x2","6"),t.setAttribute("y2","0"),t.setAttribute("stroke","black"),this.markerHorizontalSplit.appendChild(t),this.defs.appendChild(this.markerHorizontalSplit),this.markerVerticalSplit=document.createElementNS(d.ns,"marker"),this.markerVerticalSplit.setAttribute("viewBox","0 0 8 6"),this.markerVerticalSplit.setAttribute("id","verticalsplit_"+this.getId()),this.markerVerticalSplit.setAttribute("refX","4"),this.markerVerticalSplit.setAttribute("refY","3"),this.markerVerticalSplit.setAttribute("markerUnits","strokeWidth"),this.markerVerticalSplit.setAttribute("markerWidth","8"),this.markerVerticalSplit.setAttribute("markerHeight","6"),(t=document.createElementNS(d.ns,"line")).setAttribute("x1","0"),t.setAttribute("y1","0"),t.setAttribute("x2","8"),t.setAttribute("y2","6"),t.setAttribute("stroke","black"),this.markerVerticalSplit.appendChild(t),this.defs.appendChild(this.markerVerticalSplit),this.vertLineArrow=document.createElementNS(d.ns,"marker"),this.vertLineArrow.setAttribute("viewBox","0 0 10 10"),this.vertLineArrow.setAttribute("id","verticalline"+this._creation),this.vertLineArrow.setAttribute("refX","0"),this.vertLineArrow.setAttribute("refY","5"),this.vertLineArrow.setAttribute("markerUnits","strokeWidth"),this.vertLineArrow.setAttribute("markerWidth","20"),this.vertLineArrow.setAttribute("markerHeight","10"),this.vertLineArrow.setAttribute("orient","auto"),this.vertLineArrow.setAttribute("stroke-width","1px");var i=document.createElementNS(d.ns,"path");i.setAttribute("d","M 0 -10 L 0 10"),i.setAttribute("stroke","black"),this.vertLineArrow.appendChild(i),this.defs.appendChild(this.vertLineArrow),this.bypassHandleMouse=!1}.bind(r)(),t&&r.setWrapper(t),r.prevented=!1,r.axis={left:[],top:[],bottom:[],right:[]},r.shapes=[],r.shapesLocked=!1,r.plugins={},r.options.pluginAction)r.options.pluginAction.plugin=n,r.options.mouseActions.push(r.options.pluginAction);if(r.selectedShapes=[],r.series=[],r._axesHaveChanged=!0,r.options.hasOwnProperty("padding")&&A.isNumeric(r.options.padding)&&(r.options.paddingTop=r.options.paddingBottom=r.options.paddingLeft=r.options.paddingRight=r.options.padding),r.currentAction=!1,r.ns=S.ns,r.nsxlink=S.nsxlink,i)for(var n in i)for(var s=0,o=i[n].length;s<o;s++)switch(n){case"top":r.getTopAxis(s,i[n][s]);break;case"left":r.getLeftAxis(s,i[n][s]);break;case"right":r.getRightAxis(s,i[n][s]);break;case"bottom":r.getBottomAxis(s,i[n][s])}return r._pluginsInit(),r}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(S,o.default),c(S,[{key:"setWrapper",value:function(t){if(!t)throw new Error("The wrapper DOM element was not found.");if(!t.appendChild)throw new Error("The wrapper appears to be an invalid HTMLElement");if(t.style["-webkit-user-select"]="none",t.style["-moz-user-select"]="none",t.style["-o-user-select"]="none",t.style["-ms-user-select"]="none",t.style["user-select"]="none",t.style.position="relative",t.style.outline="none",this.wrapper=t,!this.height||!this.width){var e=getComputedStyle(t),i=parseInt(e.width,10),r=parseInt(e.height,10);this.setSize(i,r),this._resize()}t.appendChild(this.dom),function(o){if(!o.wrapper)throw"No wrapper exists. Cannot register the events.";o.dom.setAttribute("tabindex",0),o.dom.addEventListener("keydown",function(t){y(o,t,"keydown")}),o.dom.addEventListener("keypress",function(t){y(o,t,"keypress")}),o.dom.addEventListener("keyup",function(t){y(o,t,"keyup")}),o.dom.addEventListener("mousemove",function(t){var e=o._getXY(t);!function(t,e,i,r){if(t.bypassHandleMouse)return t.bypassHandleMouse.handleMouseMove(r);if(t.activePlugin&&t._pluginExecute(t.activePlugin,"onMouseMove",[t,e,i,r]))return;var n;if(t._applyToAxes("handleMouseMove",[e-t.options.paddingLeft,r],!0,!1),t._applyToAxes("handleMouseMove",[i-t.options.paddingTop,r],!1,!0),!t.activePlugin&&t.options.trackingLine&&t.options.trackingLine.enable&&t.options.trackingLine.snapToSerie&&"common"==t.options.trackingLine.mode){var s=t.options.trackingLine.snapToSerie;if(n=s.handleMouseMove(!1,!0),this.trackingObject)if(n){t.trackingObject.show(),t.trackingObject.getPosition(0).x=n.xClosest,t.trackingObject.getPosition(1).x=n.xClosest,t.trackingObject.redraw();var e=s.getXAxis().getPx(n.xClosest)+t.options.paddingLeft}else t.trackingObject.hide();var o=t.options.trackingLine.series;o||(o=t.getSeries().map(function(t){return{serie:t,withinPx:20,withinVal:-1}})),t._trackingLegend=m(t,o,e,i,t._trackingLegend,t.options.trackingLine.textMethod,n.xClosest)}if(t.options.onMouseMoveData){for(var a={},u=0;u<t.series.length;u++)a[t.series[u].getName()]=t.series[u].handleMouseMove(!1,!0);t.options.onMouseMoveData.call(t,r,a)}v(t,r,[t,e,i,r],"onMouseMove")}(o,e.x,e.y,t)}),o.dom.addEventListener("mouseleave",function(t){var e;(e=o).options.handleMouseLeave&&e.options.handleMouseLeave.call(e)}),o.groupEvent.addEventListener("mousedown",function(t){if(o.focus(),3!=t.which&&!t.ctrlKey){var e=o._getXY(t);!function(t,e,i,r){if(t.forcedPlugin)return t.activePlugin=t.forcedPlugin,t._pluginExecute(t.activePlugin,"onMouseDown",[t,e,i,r]);t.activePlugin&&(t.activePlugin=!1);v(t,r,[t,e,i,r],"onMouseDown")}(o,e.x,e.y,t)}}),o.dom.addEventListener("mouseup",function(t){o.emit("mouseUp",t);var e=o._getXY(t);!function(t,e,i,r){if(t.bypassHandleMouse)return t.bypassHandleMouse.handleMouseUp(r),t.activePlugin=!1;t._pluginExecute(t.activePlugin,"onMouseUp",[t,e,i,r]),t.activePlugin=!1}(o,e.x,e.y,t)}),o.wrapper.addEventListener("mouseup",function(t){t.stopPropagation()}),o.dom.addEventListener("dblclick",function(t){o.emit("dblClick",t);var e=o._getXY(t);!function(t,e,i,r){t.options.dblclick;v(t,r,[e,i,r],"onDblClick")}(o,e.x,e.y,t)}),o.groupEvent.addEventListener("click",function(t){if(3!=t.which&&!t.ctrlKey){var e,i,r,n,s=o._getXY(t);o.prevent(!1)||(e=o,i=s.x,r=s.y,n=t,e.emit("click",[e,i,r,n]),v(e,n,[i,r,n],"onClick"),n.target.jsGraphIsShape||e.prevent(!1)||!e.options.shapesUnselectOnClick||e.unselectShapes())}}),o.groupEvent.addEventListener("mousewheel",function(t){var e=t.wheelDeltaY||t.wheelDelta||-t.deltaY,i=o._getXY(t);return P(o,e,i.x,i.y,t),!1}),o.groupEvent.addEventListener("wheel",function(t){var e=o._getXY(t),i=t.wheelDeltaY||t.wheelDelta||-t.deltaY;return P(o,i,e.x,e.y,t),!1})}(this)}},{key:"getDom",value:function(){return this.dom}},{key:"getId",value:function(){return this._creation}},{key:"getWrapper",value:function(){return this.wrapper}},{key:"setOption",value:function(t,e){return this.options[t]=e,this}},{key:"setTitle",value:function(t){this.options.title=t,this.domTitle.textContent=t}},{key:"displayTitle",value:function(){this.domTitle.setAttribute("display","inline")}},{key:"hideTitle",value:function(){this.domTitle.setAttribute("display","none")}},{key:"hide",value:function(){"none"!==this.dom.style.display&&(this.dom.style.display="none")}},{key:"show",value:function(){"none"==this.dom.style.display&&(this.dom.style.display="initial")}},{key:"redraw",value:function(t,e){var i,r,n,s;if(this.width&&this.height)return this.sizeSet?!t||e||(s=(n=this)._axesHaveChanged,n._axesHaveChanged=!1,s)||(r=(i=this)._sizeChanged,i._sizeChanged=!1,r)?(this.executeRedrawSlaves(),function(n){var s={top:[],bottom:[],left:[],right:[]},o={top:[],bottom:[],left:[],right:[]};n._painted=!0,n._applyToAxes(function(t,e){if(t.isShown()){if(t.showGroup(),!t.floating){var i=g(t.getSpan(),o[e]);t.setLevel(i),s[e][i]=Math.max(t.getAxisPosition(),s[e][i]||0)}}else t.hideGroup()},!1,!0,!1);var a=s.top.reduce(function(t,e){return t+e},0),u=s.bottom.reduce(function(t,e){return t+e},0);n.drawingSpaceHeight=n.getDrawingHeight()-a-u,[s.top,s.bottom].map(function(r){r.reduce(function(t,e,i){return r[i]=t+e,t+e},0)}),n._applyToAxes(function(t,e){t.isShown()&&!t.floating&&t.setShift(s[e][t.getLevel()])},!1,!0,!1),n._applyToAxes(function(t,e){if(t.isShown()?t.showGroup():t.hideGroup(),t.setMinPx(a),t.setMaxPx(n.getDrawingHeight(!0)-u),!t.floating){var i=t.linkedToAxis?0:t.draw();if(t.isShown()){var r=g(t.getSpan(),o[e]);t.setLevel(r),s[e][r]=Math.max(i,s[e][r]||0)}}},!1,!1,!0);var i=A.extend(!0,{},s);n._applyToAxes(function(t,e){t.isShown()&&!t.floating&&(i[e][t.getLevel()]=Math.max(s[e][t.getLevel()],t.equalizePosition(s[e][t.getLevel()])))},!1,!1,!0);var r=(s=i).left.reduce(function(t,e){return t+e},0),h=s.right.reduce(function(t,e){return t+e},0);n.drawingSpaceWidth=n.getDrawingWidth()-r-h,[s.left,s.right].map(function(r){r.reduce(function(t,e,i){return r[i]=t+e,t+e},0)}),n._applyToAxes(function(t,e){t.isShown()&&!t.floating&&t.setShift(s[e][t.getLevel()])},!1,!1,!0),n._applyToAxes(function(t,e){t.isShown(),t.setMinPx(r),t.setMaxPx(n.getDrawingWidth(!0)-h),t.floating||t.linkedToAxis||t.draw()},!1,!0,!1),n._applyToAxes(function(t){if(t.floating){var e=t.getFloatingAxis(),i=t.getFloatingValue(),r=e.getPx(i);t.setShift(r),t.linkedToAxis||t.draw()}},!1,!0,!0),M(n,"right",n.getDrawingWidth(!0),n.getDrawingWidth(!0),a,n.getDrawingHeight(!0)-u),M(n,"left",0,0,a,n.getDrawingHeight(!0)-u),M(n,"top",r,n.getDrawingWidth(!0)-h,0,0),M(n,"bottom",r,n.getDrawingWidth(!0)-h,n.getDrawingHeight(!0)-u,n.getDrawingHeight(!0)-u),n.clipRect.setAttribute("y",a),n.clipRect.setAttribute("x",r),n.clipRect.setAttribute("width",n.getDrawingWidth()-r-h),n.clipRect.setAttribute("height",n.getDrawingHeight()-a-u),n.rectEvent.setAttribute("y",a+n.getPaddingTop()),n.rectEvent.setAttribute("x",r+n.getPaddingLeft()),n.rectEvent.setAttribute("width",n.drawingSpaceWidth),n.rectEvent.setAttribute("height",n.drawingSpaceHeight),n.drawingSpaceMinX=r+n.getPaddingLeft(),n.drawingSpaceMinY=a+n.getPaddingTop(),n.drawingSpaceMaxX=n.getDrawingWidth()-h+n.getPaddingLeft(),n.drawingSpaceMaxY=n.getDrawingHeight()-u+n.getPaddingTop(),n._applyToAxes(function(t,e){t.isShown()&&t.drawLines()},!1,!0,!0),n.shift=s,n.redrawShapes()}(this),!0):(this.executeRedrawSlaves(!0),!1):(this._resize(),this.executeRedrawSlaves(),!0)}},{key:"executeRedrawSlaves",value:function(){this._pluginsExecute("preDraw")}},{key:"draw",value:function(t){this.drawn=!0,this.updateLegend(!0),this.drawSeries(this.redraw(!0,t)),this._pluginsExecute("postDraw")}},{key:"delayUpdate",value:function(){return this._lockUpdate=!0,this}},{key:"doUpdate",value:function(){return this.legend&&this.legend.update(),this.draw(),this.legend&&this.legend.update(),this}},{key:"resumeUpdate",value:function(){return this._lockUpdate=!1,this}},{key:"isDelayedUpdate",value:function(){return this._lockUpdate}},{key:"setWidth",value:function(t,e){this.width=t,e||this._resize()}},{key:"setHeight",value:function(t,e){this.height=t,e||this._resize()}},{key:"resize",value:function(t,e){return t&&e&&this.setSize(t,e),this._resize(),this}},{key:"setSize",value:function(t,e){this.setWidth(t,!0),this.setHeight(e,!0),this.getDrawingHeight(),this.getDrawingWidth()}},{key:"getWidth",value:function(){return this.width}},{key:"getHeight",value:function(){return this.height}},{key:"getPaddingTop",value:function(){return this.options.paddingTop}},{key:"getPaddingLeft",value:function(){return this.options.paddingLeft}},{key:"getPaddingBottom",value:function(){return this.options.paddingBottom}},{key:"getPaddingRight",value:function(){return this.options.paddingRight}},{key:"getDrawingHeight",value:function(t){return t&&this.innerHeight?this.innerHeight:this.innerHeight=this.height-this.options.paddingTop-this.options.paddingBottom}},{key:"getDrawingWidth",value:function(t){return t&&this.innerWidth?this.innerWidth:this.innerWidth=this.width-this.options.paddingLeft-this.options.paddingRight}},{key:"cacheOffset",value:function(){this.offsetCached=A.getOffset(this.wrapper)}},{key:"uncacheOffset",value:function(){this.offsetCached=!1}},{key:"getXAxis",value:function(t,e){return 0<this.axis.top.length&&0==this.axis.bottom.length?this.getTopAxis(t,e):this.getBottomAxis(t,e)}},{key:"getYAxis",value:function(t,e){return 0<this.axis.right.length&&0==this.axis.left.length?this.getRightAxis(t,e):this.getLeftAxis(t,e)}},{key:"getTopAxis",value:function(t,e){return k(this,t,e,"top")}},{key:"getBottomAxis",value:function(t,e){return k(this,t,e,"bottom")}},{key:"getLeftAxis",value:function(t,e){return k(this,t,e,"left")}},{key:"getRightAxis",value:function(t,e){return k(this,t,e,"right")}},{key:"setXAxis",value:function(t,e){this.setBottomAxis(t,e)}},{key:"setYAxis",value:function(t,e){this.setLeftAxis(t,e)}},{key:"setLeftAxis",value:function(t,e){e=e||0,this.axis.left[e]&&this.axis.left[e].kill(),this.axis.left[e]=t}},{key:"setRightAxis",value:function(t,e){e=e||0,this.axis.right[e]&&this.axis.right[e].kill(),this.axis.right[e]=t}},{key:"setTopAxis",value:function(t,e){e=e||0,this.axis.top[e]&&this.axis.top[e].kill(),this.axis.top[e]=t}},{key:"setBottomAxis",value:function(t,e){e=e||0,this.axis.bottom[e]&&this.axis.bottom[e].kill(),this.axis.bottom[e]=t}},{key:"killAxis",value:function(e){var t,i=1<arguments.length&&void 0!==arguments[1]&&arguments[1],r=2<arguments.length&&void 0!==arguments[2]&&arguments[2];e.isX()&&(-1<(t=this.axis.bottom.indexOf(e))&&this.axis.bottom.splice(t,1),-1<(t=this.axis.top.indexOf(e))&&this.axis.top.splice(t,1),r||this.series.forEach(function(t){t.getXAxis()==e&&t.kill()})),e.isY()&&(-1<(t=this.axis.left.indexOf(e))&&this.axis.left.splice(t,1),-1<(t=this.axis.right.indexOf(e))&&this.axis.right.splice(t,1),r||this.series.forEach(function(t){t.getYAxis()==e&&t.kill()})),this.axisGroup.removeChild(e.group),this.groupPrimaryGrids.removeChild(e.gridPrimary),this.groupSecondaryGrids.removeChild(e.gridSecondary),i||this.draw(!0)}},{key:"hasXAxis",value:function(t){return this.hasTopAxis(t)||this.hasBottomAxis(t)}},{key:"hasYAxis",value:function(t){return this.hasLeftAxis(t)||this.hasRightAxis(t)}},{key:"hasTopAxis",value:function(t){return this.hasAxis(t,this.axis.top)}},{key:"hasBottomAxis",value:function(t){return this.hasAxis(t,this.axis.bottom)}},{key:"hasLeftAxis",value:function(t){return this.hasAxis(t,this.axis.left)}},{key:"hasRightAxis",value:function(t){return this.hasAxis(t,this.axis.right)}},{key:"hasAxis",value:function(t,e){for(var i=0,r=e.length;i<r;i++){if(e[i]==t)return!0;if(e[i].hasAxis(t))return!0}return!1}},{key:"autoscaleAxes",value:function(){return this._applyToAxes("setMinMaxToFitSeries",null,!0,!0),this}},{key:"autoscale",value:function(){return this.autoscaleAxes.apply(this,arguments)}},{key:"autoScale",value:function(){return this.autoscaleAxes.apply(this,arguments)}},{key:"autoScaleAxes",value:function(){return this.autoscaleAxes.apply(this,arguments)}},{key:"autoScaleAxis",value:function(t){return t&&t.setMinMaxToFitSeries(),this}},{key:"setBackgroundColor",value:function(t){return this.rectEvent.setAttribute("fill",t),this}},{key:"getAxisState",value:function(){var t={};for(var e in this.axis)t[e]=this.axis[e].map(function(t){return[t.getCurrentMin(),t.getCurrentMax()]});return t}},{key:"setAxisState",value:function(t){var e,i;for(var r in t)if(this.axis[r])for(e=0,i=t[r].length;e<i;e++)this.axis[r][e]&&(this.axis[r][e].setCurrentMin(t[r][e][0]),this.axis[r][e].setCurrentMax(t[r][e][1]));this.draw()}},{key:"saveAxisState",value:function(t){return this.savedAxisState=this.savedAxisState||{},this.savedAxisState[t]=this.getAxisState(),this}},{key:"recallAxisState",value:function(t){return this.savedAxisState[t]&&this.recallAxisState(this.savedAxisState[t]),this}},{key:"_applyToAxis",value:function(t){switch(t){case"string":return function(t,e,i){for(var r=0;r<this.axis[t].length;r++)this.axis[t][r][e].apply(this.axis[t][r],i)};case"function":return function(t,e,i){for(var r=0;r<this.axis[t].length;r++)e.call(this,this.axis[t][r],t,i)};default:throw new Error("You must either execute a function or provide a string that registers a function")}}},{key:"getBoundaryAxis",value:function(t,e,i){return this.getBoundaryAxisFromSeries(t,e,i)}},{key:"getBoundaryAxisFromSeries",value:function(t,e,i){var r,n,s,o,a,u,h="min"==e,l=(t.isX()?["getMinX","getMaxX"]:["getMinY","getMaxY"])[h?0:1],c=h?1/0:-1/0;for(r=c,a=0,u=(s=this.getSeriesFromAxis(t)).length;a<u;a++)(n=s[a]).isShown()&&(o=n[l](i),r=Math[e](isNaN(r)?c:r,isNaN(o)?c:o));return r}},{key:"getSeriesFromAxis",value:function(t){for(var e=[],i=this.series.length-1;0<=i;i--)this.series[i].getXAxis()!=t&&this.series[i].getYAxis()!=t||e.push(this.series[i]);return e}},{key:"updateDataMinMaxAxes",value:function(t){var e,i,r,n,s=["bottom","top","left","right"];for(i=0,r=s.length;i<r;i++)for(n=this.axis[s[i]].length-1;0<=n;n--){(e=this.axis[s[i]][n]).isShown();var o=this.getBoundaryAxis(this.axis[s[i]][n],"min",t),a=this.getBoundaryAxis(this.axis[s[i]][n],"max",t);isFinite(a)&&e.setMaxValueData(a),isFinite(o)&&e.setMinValueData(o)}}},{key:"_applyToAxes",value:function(t,e,i,r){var n,s=[],o=0;for((i||null==i)&&(s.push("top"),s.push("bottom")),(r||null==r)&&(s.push("left"),s.push("right")),n=s.length;o<n;o++)this._applyToAxis(void 0===t?"undefined":l(t)).call(this,s[o],t,e)}},{key:"findAxesLinkedTo",value:function(e){var i=[];return this._applyToAxes(function(t){t.linkedToAxis&&t.linkedToAxis.axis==e&&i.push(t)},{},e instanceof this.getConstructor("graph.axis.x"),e instanceof this.getConstructor("graph.axis.y")),i}},{key:"_axisHasChanged",value:function(){this._axesHaveChanged=!0}},{key:"newSerie",value:function(t,e,i){var r=void 0;return"object"===(void 0===e?"undefined":l(e))||i||(i=e,e={}),i||(i=S.SERIE_LINE),(r=this.getSerie(t))?r:(r=function(t,e,i,r){var n=t.getConstructor(r,!0);n||"string"!=typeof r||(n=t.getConstructor("graph.serie."+r,!0));{if(!n)return A.throwError("No constructor exists for the serie type provided. Use Graph.registerConstructor( name, constructor ) first is you use your own series");var s=new n(t,e,i);t.appendSerieToDom(s)}return s}(this,t,e,i))?(this.series.push(r),r.postInit(),this.emit("newSerie",r),r):void 0}},{key:"getSerie",value:function(t){if("number"==typeof t)return this.series[t]||!1;"function"==typeof t&&(t=t());for(var e=0,i=this.series.length;e<i;e++)if(this.series[e].getName()==t||this.series[e]==t)return this.series[e];return!1}},{key:"getSeries",value:function(){return this.series}},{key:"allSeries",value:function(){for(var t=arguments.length,e=Array(t),i=0;i<t;i++)e[i]=arguments[i];return this.series.filter(function(t){return e.include(t.getType())})}},{key:"drawSerie",value:function(t,e){if(!t.draw)throw new Error("Serie has no method draw");t.draw(e)}},{key:"drawSeries",value:function(t){if(this.width&&this.height)for(var e=this.series.length-1;0<=e;e--)this.series[e].isShown()&&this.drawSerie(this.series[e],t)}},{key:"resetSeries",value:function(){this.removeSeries()}},{key:"killSeries",value:function(){this.resetSeries()}},{key:"removeSeries",value:function(){for(;this.series[0];)this.series[0].kill(!0);this.series=[],this.legend&&this.legend.update()}},{key:"selectSerie",value:function(t,e){"object"!=(void 0===t?"undefined":l(t))&&(t=this.getSerie(t)),this.selectedSerie==t&&this.selectedSerie.selectionType==e||(this.selectedSerie!==t&&this.selectedSerie&&this.unselectSerie(this.selectedSerie),this.selectedSerie=t,this.triggerEvent("onSelectSerie",t),t.select(e||"selected"))}},{key:"getSelectedSerie",value:function(){return this.selectedSerie}},{key:"unselectSerie",value:function(t){t.unselect&&(t.unselect(),this.selectedSerie=!1,this.triggerEvent("onUnselectSerie",t))}},{key:"getShapesOfSerie",value:function(t){for(var e=[],i=this.shapes.length-1;0<=i;i--)this.shapes[i].getSerie()==t&&e.push(this.shapes[i]);return e}},{key:"makeToolbar",value:function(t){var e=this.getConstructor("graph.toolbar");return e?this.toolbar=new e(this,t):A.throwError("No constructor exists for toolbar")}},{key:"getShapes",value:function(){return this.shapes||[]}},{key:"newShape",value:function(t,e){var i,r=2<arguments.length&&void 0!==arguments[2]&&arguments[2],n=arguments[3];if(this.prevent(!1),!r&&(this.emit("beforeNewShape",e),this.prevent(!1)))return!1;if("object"==(void 0===t?"undefined":l(t))&&(r=e,t=(e=t).type),(e=e||{})._id=A.guid(),!(i="function"==typeof t?t:this.getConstructor("graph.shape."+t)))return A.throwError("No constructor for this shape");var s=new i(this,e);if(!s)return A.throwError("Failed to construct shape.");if(s.type=t,s.graph=this,void 0!==(s._data=e).properties&&s.setProperties(e.properties),s.init(this,n),void 0!==e.props)for(var o in e.props)s.setProp(o,e.props[o]);if(e.position){o=0;for(var a=e.position.length;o<a;o++)s.setPosition(new u.default(e.position[o]),o)}if(void 0!==e.fillColor&&s.setFillColor(e.fillColor),void 0!==e.fillOpacity&&s.setFillOpacity(e.fillOpacity),void 0!==e.strokeColor&&s.setStrokeColor(e.strokeColor),void 0!==e.strokeWidth&&s.setStrokeWidth(e.strokeWidth),void 0!==e.layer&&s.setLayer(e.layer),1==e.locked&&s.lock(),1==e.movable&&s.movable(),1==e.selectable&&s.selectable(),1==e.resizable&&s.resizable(),void 0!==e.attributes&&s.setProp("attributes",e.attributes),void 0!==e.handles&&s.setProp("handles",e.handles),void 0!==e.selectOnMouseDown&&s.setProp("selectOnMouseDown",!0),void 0!==e.selectOnClick&&s.setProp("selectOnClick",!0),void 0!==e.transforms&&Array.isArray(e.transforms)&&e.transforms.forEach(function(t){var e=t.type,i=t.value;s.addTransform(e,i)}),void 0!==e.highlightOnMouseOver&&s.setProp("highlightOnMouseOver",!0),e.labelEditable&&s.setProp("labelEditable",e.labelEditable),e.labels&&!e.label&&(e.label=e.labels),void 0!==e.label){Array.isArray(e.label)||(e.label=[e.label]);for(o=0,a=e.label.length;o<a;o++)s.showLabel(o),s.setLabelText(e.label[o].text,o),s.setLabelPosition(e.label[o].position,o),s.setLabelColor(e.label[o].color||"black",o),s.setLabelSize(e.label[o].size,o),s.setLabelAngle(e.label[o].angle||0,o),s.setLabelBaseline(e.label[o].baseline||"no-change",o),s.setLabelAnchor(e.label[o].anchor||"start",o),s.setLabelBackgroundColor(e.label[o].backgroundColor||"transparent",o),s.setLabelBackgroundOpacity(e.label[o].backgroundOpacity||1,o)}return e.serie&&s.setSerie(this.getSerie(e.serie)),s.createHandles(),s.applyStyle(),this.shapes.push(s),r||this.emit("newShape",s,e),s}},{key:"newPosition",value:function(t){return new(Function.prototype.bind.apply(u.default,[null].concat(Array.prototype.slice.call(arguments))))}},{key:"redrawShapes",value:function(){for(var t=0,e=this.shapes.length;t<e;t++)this.shapes[t].redraw()}},{key:"removeShapes",value:function(){for(var t=0,e=this.shapes.length;t<e;t++)this.shapes[t]&&this.shapes[t].kill&&this.shapes[t].kill(!0);this.shapes=[]}},{key:"selectShape",value:function(t,e){if(t){if(-1<this.selectedShapes.indexOf(t))return!1;if(!t.isSelectable())return!1;e||this.emit("beforeShapeSelect",t),this.prevent(!1)||(0<this.selectedShapes.length&&this.options.shapesUniqueSelection&&this.unselectShapes(e),t._select(e),this.selectedShapes.push(t),e||this.emit("shapeSelect",t))}}},{key:"getSelectedShapes",value:function(){return this.selectedShapes}},{key:"unselectShape",value:function(t,e){-1!=this.selectedShapes.indexOf(t)&&(e||this.emit("beforeShapeUnselect",t),this.cancelUnselectShape?this.cancelUnselectShape=!1:(t._unselect(),this.selectedShapes.splice(this.selectedShapes.indexOf(t),1),e||this.emit("shapeUnselect",t)))}},{key:"unselectShapes",value:function(t){for(;this.selectedShapes[0];)this.unselectShape(this.selectedShapes[0],t);return this}},{key:"_removeShape",value:function(t){this.shapes.splice(this.shapes.indexOf(t),1)}},{key:"appendShapeToDom",value:function(t){t.isHTML()&&this.wrapper.insertBefore(t._dom,this.dom),this.getLayer(t.getLayer(),"shape").appendChild(t.group)}},{key:"removeShapeFromDom",value:function(t){t.isHTML()&&this.wrapper.removeChild(t._dom),this.getLayer(t.getLayer(),"shape").removeChild(t.group)}},{key:"appendSerieToDom",value:function(t){this.getLayer(t.getLayer(),"serie").appendChild(t.groupMain)}},{key:"removeSerieFromDom",value:function(t){this.getLayer(t.getLayer(),"serie").removeChild(t.groupMain)}},{key:"getLayer",value:function(t,e){if(!this.layers[t]){this.layers[t]=[],this.layers[t][0]=document.createElementNS(S.ns,"g"),this.layers[t][0].setAttribute("data-layer",t),this.layers[t][1]=document.createElementNS(S.ns,"g"),this.layers[t][2]=document.createElementNS(S.ns,"g"),this.layers[t][0].appendChild(this.layers[t][1]),this.layers[t][0].appendChild(this.layers[t][2]);for(var i,r=1;!(i=this.layers[t-r])&&0<=t-r;)r++;i?i.nextSibling?this.plotGroup.insertBefore(this.layers[t][0],i.nextSibling):this.plotGroup.appendChild(this.layers[t][0]):this.plotGroup.insertBefore(this.layers[t][0],this.plotGroup.firstChild)}return this.layers[t]["shape"==e?2:1]}},{key:"focus",value:function(){this.wrapper.focus()}},{key:"elementMoving",value:function(t){this.bypassHandleMouse=t}},{key:"stopElementMoving",value:function(t){t&&t==this.bypassHandleMouse?this.bypassHandleMouse=!1:t||(this.bypassHandleMouse=!1)}},{key:"_makeClosingLines",value:function(){this.closingLines={};for(var t=["top","bottom","left","right"],e=0;e<4;e++){var i=document.createElementNS(S.ns,"line");i.setAttribute("stroke",this.options.closeColor),i.setAttribute("shape-rendering","crispEdges"),i.setAttribute("stroke-linecap","square"),i.setAttribute("display","none"),this.closingLines[t[e]]=i,this.graphingZone.appendChild(i)}}},{key:"isActionAllowed",value:function(t,e){if((e.type===t.type||void 0===e.type&&"mousedown"===t.type||("wheel"===t.type||"mousewheel"===t.type)&&"mousewheel"==e.type)&&(!e.enabled||("function"==typeof e.enabled?e.enabled(this):e.enabled))){if(e.key&&e.key!==t.keyCode){if({backspace:8,enter:13,tab:9,shift:16,ctrl:17,alt:18,pause:19,escape:27,up:33,down:34,left:37,right:39}[e.key]!==t.keyCode)return}return void 0===e.shift&&(e.shift=!1),void 0===e.ctrl&&(e.ctrl=!1),void 0===e.meta&&(e.meta=!1),void 0===e.alt&&(e.alt=!1),t.shiftKey==e.shift&&t.ctrlKey==e.ctrl&&t.metaKey==e.meta&&t.altKey==e.alt}}},{key:"forcePlugin",value:function(t){this.forcedPlugin=t}},{key:"unforcePlugin",value:function(){this.forcedPlugin=!1}},{key:"_pluginsExecute",value:function(t){for(var e=arguments.length,i=Array(1<e?e-1:0),r=1;r<e;r++)i[r-1]=arguments[r];for(var n in this.plugins)this.plugins[n]&&this.plugins[n][t]&&this.plugins[n][t].apply(this.plugins[n],i)}},{key:"_pluginExecute",value:function(t,e,i){if(t)return this.plugins[t]&&this.plugins[t][e]?(this.plugins[t][e].apply(this.plugins[t],i),!0):void 0}},{key:"pluginYieldActiveState",value:function(){this.activePlugin=!1}},{key:"_serieExecute",value:function(t,e,i){"object"!==(void 0===t?"undefined":l(t))&&(t=this.getSerie(t)),"function"==typeof t[e]&&t.apply(t,i)}},{key:"_pluginsInit",value:function(){var t,e,i;for(var r in this.options.plugins)e=r,console.log(e),i=this.options.plugins[r],(t=this.getConstructor("graph.plugin."+e))?(this.plugins[e]=new t(i),A.mapEventEmission(this.plugins[e].options,this.plugins[e]),this.plugins[e].init(this,i)):A.throwError('Plugin "'+e+'" has not been registered')}},{key:"getPlugin",value:function(t){var e=this.plugins[t];return e||A.throwError('Plugin "'+t+'" has not been loaded or properly registered')}},{key:"hasPlugin",value:function(t){return!!this.plugins[t]}},{key:"triggerEvent",value:function(){var t=arguments[0];if("function"==typeof this.options[t])return this.options[t].apply(this,arguments)}},{key:"makeLegend",value:function(t){if(this.legend)return this.legend;var e=this.getConstructor("graph.legend");return e?(this.legend=new e(this,t),this.legend):A.throwError("Graph legend is not available as it has not been registered")}},{key:"updateLegend",value:function(){var t=0<arguments.length&&void 0!==arguments[0]&&arguments[0];if(this.legend)return this.legend.update(t),this}},{key:"getLegend",value:function(){if(this.legend)return this.legend}},{key:"requireLegendUpdate",value:function(){this.legend&&this.legend.requireDelayedUpdate()}},{key:"orthogonalProjectionSetup",value:function(){this.options.zAxis=A.extend(!0,{maxZ:10,minZ:0,shiftX:-25,shiftY:-15,xAxis:this.getXAxis(),yAxis:this.getYAxis()})}},{key:"orthogonalProjectionUpdate",value:function(){var e=this;this.zAxis||(this.zAxis={g:document.createElementNS(S.ns,"g"),l:document.createElementNS(S.ns,"line")},this.zAxis.g.appendChild(this.zAxis.l),this.groupGrids.appendChild(this.zAxis.g));var t=this.options.zAxis.xAxis,i=this.options.zAxis.yAxis,r=t.getMinPx(),n=i.getMinPx(),s=t.getZProj(this.options.zAxis.maxZ),o=i.getZProj(this.options.zAxis.maxZ);this.zAxis.l.setAttribute("stroke","black"),this.zAxis.l.setAttribute("x1",r),this.zAxis.l.setAttribute("x2",r+s),this.zAxis.l.setAttribute("y1",n),this.zAxis.l.setAttribute("y2",n+o),this.updateDataMinMaxAxes(!0);var a=this.series.map(function(t){return[t.getZPos(),t]});a.sort(function(t,e){return e[0]-t[0]});var u=0;a.forEach(function(t){t[1].setLayer(u),e.appendSerieToDom(t[1]),u++}),this.drawSeries(!0)}},{key:"kill",value:function(){this.wrapper.removeChild(this.dom)}},{key:"_removeSerie",value:function(t){this.series.splice(this.series.indexOf(t),1),this._pluginsExecute("serieRemoved",t)}},{key:"contextListen",value:function(t,e,i){if(this.options.onContextMenuListen)return this.options.onContextMenuListen(t,e,i)}},{key:"lockShapes",value:function(){this.shapesLocked=!0;for(var t=0,e=this.shapes.length;t<e;t++)this.shapes[t].moving=!1,this.shapes[t].resizing=!1}},{key:"unlockShapes",value:function(){this.shapesLocked=!1}},{key:"prevent",value:function(t){var e=this.prevented;return-1!=t&&(this.prevented=null==t||t),e}},{key:"_getXY",value:function(t){var e=t.clientX,i=t.clientY,r=this.offsetCached||A.getOffset(this.wrapper);return{x:e-=r.left,y:i-=r.top}}},{key:"_resize",value:function(){this.width&&this.height&&(this.getDrawingWidth(),this.getDrawingHeight(),this.sizeSet=!0,this.dom.setAttribute("width",this.width),this.dom.setAttribute("height",this.height),this.domTitle.setAttribute("x",this.width/2),this._sizeChanged=!0,this.drawn&&(this.requireLegendUpdate(),this.draw(!0)))}},{key:"updateGraphingZone",value:function(){A.setAttributeTo(this.graphingZone,{transform:"translate("+this.options.paddingLeft+", "+this.options.paddingTop+")"}),this._sizeChanged=!0}},{key:"getDrawingSpaceWidth",value:function(){var t=this;return function(){return t.drawingSpaceWidth}}},{key:"getDrawingSpaceHeight",value:function(){var t=this;return function(){return t.drawingSpaceHeight}}},{key:"getDrawingSpaceMinX",value:function(){var t=this;return function(){return t.drawingSpaceMinX}}},{key:"getDrawingSpaceMinY",value:function(){var t=this;return function(){return t.drawingSpaceMinY}}},{key:"getDrawingSpaceMaxX",value:function(){var t=this;return function(){return t.drawingSpaceMaxX}}},{key:"getDrawingSpaceMaxY",value:function(){var t=this;return function(){return t.drawingSpaceMaxY}}},{key:"trackingLine",value:function(t){var e=this,i=this;if("boolean"!=typeof t){if(t&&(this.options.trackingLine=t),t.series=t.series||[],t.enable=void 0===t.enable||!!t.enable,"individual"==t.mode?t.series&&(Array.isArray(t.series)||("all"==t.series?t.series=this.series.map(function(t){return{serie:t}}):t.series=[t.series]),t.series.forEach(function(t){if("object"!==l(t.serie)){if("object"!==(void 0===t?"undefined":l(t)))throw new Error("Misuse of the trackingLine() method. Each serie must be an object with the serie property: { series: [ { serie: jsGraphSerie, options: { ... someOptions } } ] }");t.serie=e.getSerie(t.serie)}t.serie&&i.addSerieToTrackingLine(t.serie,t)})):t.series.forEach(function(t){t.serie.disableTracking()}),!t.noLine)return this.trackingObject||(this.trackingObject=this.newShape("line",A.extend(!0,{position:[{y:"min"},{y:"max"}],stroke:"black",layer:-1},t.trackingLineShapeOptions))),this.trackingObject.draw(),this.trackingObject}else this.options.trackingLine&&(this.options.trackingLine.enable=t)}},{key:"addSerieToTrackingLine",value:function(i,n){var s=this;this.options.trackingLine||this.trackingLine({mode:"individual"}),this.options.trackingLine.series.forEach(function(t,e){t.serie==i&&s.options.trackingLine.series.splice(e,1)}),this.options.trackingLine.series.push(Object.assign({serie:i},n)),i.enableTracking(function(t,e,i,r){s.options.trackingLine.enable&&e&&(s.trackingObject&&(s.trackingObject.show(),s.trackingObject.getPosition(0).x=e.trueX,s.trackingObject.getPosition(1).x=e.trueX,s.trackingObject.redraw()),t._trackingLegend=m(s,{serie:t},i,r,t._trackingLegend,n.textMethod?n.textMethod:function(t){for(var e in t)return t[e].serie.serie.getName()+": "+t[e].serie.serie.getYAxis().valueToHtml(t[e].yValue)},e.trueX),t._trackingLegend&&(t._trackingLegend.style.display="block"))},function(t){s.trackingObject&&s.trackingObject.hide(),t.trackingShape&&t.trackingShape.hide(),t._trackingLegend&&(t._trackingLegend.style.display="none"),t._trackingLegend=m(s,{serie:t},!1,!1,t._trackingLegend,!1,!1)})}},{key:"setKatexRenderer",value:function(t){this._katexRenderer=t}},{key:"hasKatexRenderer",value:function(){return!!this._katexRenderer}},{key:"renderWithKatex",value:function(t,e){if(this._katexRenderer){e?e.removeChild(e.firstChild):e=document.createElementNS(S.ns,"foreignObject");var i=document.createElement("div");return e.appendChild(i),this._katexRenderer(t,i),e}return!1}},{key:"exportToSchema",value:function(){var t=this,e={};e.title=this.options.title,e.width=this.getWidth(),e.height=this.getHeight();var i=[],s={x:[],y:[]};["top","bottom","left","right"].map(function(e){t.axis[e]&&(i=i.concat(t.axis[e].map(function(t){return{type:e,label:t.options.label,unit:t.options.unit,min:t.options.forcedMin,max:t.options.forcedMax,flip:t.options.flipped}})),"top"==e||"bottom"==e?s.x=s.x.concat(t.axis[e]):s.y=s.y.concat(t.axis[e]))}),e.axis=i;var o=function(t,e){var i=[];switch(t.getType()){case S.SERIE_LINE:for(var r=0;r<t.data.length;r++)for(var n=0;n<t.data[r].length-1;n+=2)i.push(t.data[r][n+(e&&t.isFlipped()||!e&&!t.isFlipped()?1:0)]);break;case S.SERIE_SCATTER:for(n=0;n<t.data.length-1;n+=2)i.push(t.data[r+(e&&t.isFlipped()||!e&&!t.isFlipped()?1:0)])}return i};return e.data=[].concat(this.series.map(function(t){var e=[],i=[];if(t.getType()==S.SERIE_LINE)for(var r in t.styles){i.push({styleName:r,color:t.styles[r].lineColor,lineWidth:t.styles[r].lineWidth,lineStyle:t.styles[r].lineStyle});var n={styleName:r,styles:[]};e.push(n),n.styles=n.styles.concat((t.styles[r].markers||[]).map(function(t){return{shape:t.type,zoom:t.zoom,lineWidth:t.strokeWidth,lineColor:t.strokeColor,color:t.fillColor,points:t.points}}))}return{label:t.getLabel(),id:t.getName(),type:function(t){switch(t){case S.SERIE_LINE:return"line";case S.SERIE_BAR:return"bar";case S.SERIE_LINE_COLORED:return"color";case S.SERIE_SCATTER:return"scatter"}}(t.getType()),x:o(t,!0),y:o(t,!1),xAxis:s.x.indexOf(t.getXAxis()),yAxis:s.y.indexOf(t.getYAxis()),style:e,lineStyle:i}})),e}}],[{key:"fromJSON",value:function(b,t){var k=void 0,e={},i={left:[],top:[],right:[],bottom:[]},M=void 0;return b.title&&(e.title=b.title),b.axis&&b.axis.forEach(function(t){t.type||A.throwError("Axis type is required (top, bottom, left or right)");var e={};t.label&&(e.labelValue=t.label),void 0!==t.unit&&(e.unit=t.unit),void 0!==t.unitWrapperAfter&&(e.unitWrapperAfter=t.unitWrapperAfter),void 0!==t.unitWrapperBefore&&(e.unitWrapperBefore=t.unitWrapperBefore),void 0!==t.min&&(e.forcedMin=t.min),void 0!==t.max&&(e.forcedMax=t.max),void 0!==t.flip&&(e.flipped=t.flip),i[t.type].push(e),t._jsGraphIndex=i[t.type].length-1}),k=new S(t,e,i),b.width&&k.setWidth(b.width),b.height&&k.setHeight(b.width),k._resize(),b.data&&b.data.forEach(function(t){var s,e,o=t.type,i={},r=void 0;switch(t.type){case"bar":A.throwError("Bar charts not supported"),o=!1;break;case"color":o=S.SERIE_LINE_COLORED;break;case"scatter":o=S.SERIE_SCATTER;break;case"box":o=S.SERIE_BOX,"x"!=t.orientation&&"y"!=t.orientation||(i.orientation=t.orientation);break;default:o=S.SERIE_LINE}if(o!==S.SERIE_BOX&&(r=S.newWaveform()),o){if(s=k.newSerie(t.id||t.label||A.guid(),i,o),t.lineStyle){var n=t.lineStyle;Array.isArray(n)&&(n={unselected:n}),Object.entries(n).forEach(function(t){var e=_(t,2),i=e[0],r=e[1],n={};switch(o){case S.SERIE_LINE:void 0!==r.lineWidth&&(n.lineWidth=r.lineWidth),void 0!==r.color&&(n.lineColor=r.color),r.lineStyle&&(n.lineStyle=r.lineStyle),s.setStyle(n,i)}})}var a={},u={};if(t.defaultStyle&&(a=t.defaultStyle),t.defaultStyles&&(u=t.defaultStyles),t.styles){var h=void 0;h=Array.isArray(t.styles)?{unselected:t.styles}:t.styles,new Set(Object.keys(u).concat(Object.keys(h))).forEach(function(t){var e=[],i=void 0;switch(h&&h[t]&&(e=h[t],Array.isArray(e)||(e=[e]),i=e.map(function(t){switch(o){case S.SERIE_LINE:return{type:t.shape,zoom:t.zoom,strokeWidth:t.lineWidth,strokeColor:t.lineColor,fillColor:t.color,points:t.points};case S.SERIE_BOX:case S.SERIE_SCATTER:return t}})),o){case S.SERIE_LINE:s.setMarkers(i,t);break;case S.SERIE_SCATTER:s.setStyle(Object.assign({},w,a,u[t]||{}),i,t);break;case S.SERIE_BOX:s.setStyle(i[0],t||"unselected")}})}if(t.color&&o==S.SERIE_LINE_COLORED&&s.setColors(t.color),o!==S.SERIE_BOX&&r.setData(t.y,t.x),s){var l=[],c=[],f=[],p=[],d=[],g=[],y=[],v=[];if(void 0!==r){if(t.errorX)for(var m=0,x=t.errorX.length;m<x;m++)Array.isArray(t.errorX[m])?(l.push(t.errorX[m][0]),c.push(t.errorX[m][1])):(l.push(t.errorX[m]),c.push(t.errorX[m]));else if(t.errorBarX||t.errorBoxX){if(t.errorBarX)for(m=0,x=t.errorBarX.length;m<x;m++)Array.isArray(t.errorBarX[m])?(l.push(t.errorBarX[m][0]),c.push(t.errorBarX[m][1])):(l.push(t.errorBarX[m]),c.push(t.errorBarX[m]));if(t.errorBoxX)for(m=0,x=t.errorBoxX.length;m<x;m++)Array.isArray(t.errorBoxX[m])?(d.push(t.errorBoxX[m][0]),g.push(t.errorBoxX[m][1])):(d.push(t.errorBoxX[m]),g.push(t.errorBoxX[m]))}if(t.errorY)for(m=0,x=t.errorY.length;m<x;m++)Array.isArray(t.errorY[m])?(f.push(t.errorY[m][0]),p.push(t.errorY[m][1])):(f.push(t.errorY[m]),p.push(t.errorY[m]));else if(t.errorBarY||t.errorBoxY){if(t.errorBarY)for(m=0,x=t.errorBarY.length;m<x;m++)Array.isArray(t.errorBarY[m])?(f.push(t.errorBarY[m][0]),p.push(t.errorBarY[m][1])):(f.push(t.errorBarY[m]),p.push(t.errorBarY[m]));if(t.errorBoxY)for(m=0,x=t.errorBoxY.length;m<x;m++)Array.isArray(t.errorBoxY[m])?(y.push(t.errorBoxY[m][0]),v.push(t.errorBoxY[m][1])):(y.push(t.errorBoxY[m]),v.push(t.errorBoxY[m]))}M={},0<l.length&&(r.setErrorBarXAbove(S.newWaveform(l)),M.right={}),0<c.length&&(r.setErrorBarXAbove(S.newWaveform(l)),M.left={}),0<f.length&&(r.setErrorBarXAbove(S.newWaveform(f)),M.top={}),0<p.length&&(r.setErrorBarXAbove(S.newWaveform(f)),M.bottom={}),s.setErrorBarStyle(M),M={},0<d.length&&(r.setErrorBoxXAbove(S.newWaveform(d)),M.right={}),0<g.length&&(r.setErrorBoxXBelow(S.newWaveform(g)),M.left={}),0<y.length&&(r.setErrorBoxAbove(S.newWaveform(y)),M.top={}),0<v.length&&(r.setErrorBoxBelow(S.newWaveform(v)),M.bottom={}),s.setErrorBoxStyle(M)}switch(b.axis?(!(e=b.axis[t.xAxis])||"top"!==e.type&&"bottom"!==e.type?(A.warn("No x axis found. Setting automatically"),s.setXAxis(k.getXAxis(0))):"top"==e.type?s.setXAxis(k.getTopAxis(e._jsGraphIndex)):"bottom"==e.type&&s.setXAxis(k.getBottomAxis(e._jsGraphIndex)),!(e=b.axis[t.yAxis])||"left"!==e.type&&"right"!==e.type?(A.warn("No y axis found. Setting automatically"),s.setYAxis(k.getYAxis(0))):"left"==e.type?s.setYAxis(k.getLeftAxis(e._jsGraphIndex)):"right"==e.type&&s.setYAxis(k.getRightAxis(e._jsGraphIndex))):(A.warn("No axes found. Setting automatically"),s.autoAxis()),o){case S.SERIE_BOX:s.setData(t.boxes);break;default:case S.SERIE_SCATTER:case S.SERIE_LINE_COLORED:case S.SERIE_LINE:s.setWaveform(r)}}}else A.throwError("No valid serie type was found")}),k.autoscaleAxes(),k.draw(),k}},{key:"registerConstructor",value:function(t,e){if(p.has(t))return A.throwError("Constructor "+e+" already exists.");p.set(t,e)}},{key:"getConstructor",value:function(t){var e=1<arguments.length&&void 0!==arguments[1]&&arguments[1];return p.has(t)?p.get(t):!e&&A.throwError('Constructor "'+t+"\" doesn't exist")}},{key:"newWaveform",value:function(){return new(Function.prototype.bind.apply(a.default,[null].concat(Array.prototype.slice.call(arguments))))}},{key:"waveform",value:function(){return new(Function.prototype.bind.apply(a.default,[null].concat(Array.prototype.slice.call(arguments))))}}]),S}();function g(t,e){for(var i=0,r=e.length;i<r;i++){for(var n=!0,s=0,o=e[i].length;s<o;s++)t[0]<e[i][s][0]&&t[1]<e[i][s][0]||t[0]>e[i][s][1]&&t[1]>e[i][s][1]||(n=!1);if(n)return e[i].push(t),i}return e.push([t]),e.length-1}function y(t,e,i){if(console.log(e,i),t.forcedPlugin)return t.activePlugin=t.forcedPlugin,void t._pluginExecute(t.activePlugin,i,[t,e]);!function(t,e,i,r){var n,s,o=t.options.keyActions;for(n=0,s=o.length;n<s;n++){if(o[n].plugin){if(t.forcedPlugin==o[n].plugin||t.isActionAllowed(e,o[n]))return o[n].options&&i.push(o[n].options),t.activePlugin=o[n].plugin,t._pluginExecute(o[n].plugin,r,i),e.preventDefault(),e.stopPropagation()}else if(o[n].callback&&t.isActionAllowed(e,o[n]))return o[n].options&&i.push(o[n].options),e.preventDefault(),e.stopPropagation(),o[n].callback.apply(t,i);o[n].removeSelectedShape&&t.isActionAllowed(e,o[n])&&(e.preventDefault(),e.stopPropagation(),t.selectedShapes.map(function(t){t.kill(o[n].keepInDom)}))}}(t,e,[t,e],i)}function v(t,e,i,r){var n,s,o=t.options.mouseActions,a=!1;for(n=0,s=o.length;n<s;n++)if(o[n].plugin){if(t.forcedPlugin==o[n].plugin||t.isActionAllowed(e,o[n])){o[n].options&&i.push(o[n].options),"wheel"!==e.type&&"mousewheel"!==e.type&&(t.activePlugin=o[n].plugin),t._pluginExecute(o[n].plugin,r,i),a=!0;continue}}else{if(o[n].callback&&t.isActionAllowed(e,o[n])){o[n].options&&i.push(o[n].options),o[n].callback.apply(t,i),a=!0;continue}if(o[n].series){var u;"all"===o[n].series&&(u=t.series),Array.isArray(o[n].series)||(u=[u]),o[n].options&&i.push(o[n].options);for(;0<u.length;n++)t._serieExecute(u[n],r,i);a=!0;continue}}return a}d.prototype.getConstructor=d.getConstructor;var m=function(o,t,a,e,u,h,l){var i=!1;Array.isArray(t)||(t=[t]);var r,n,c=[];if(!u&&o.options.trackingLine.legend&&(i=!0,r=o,(n=document.createElement("div")).setAttribute("class","trackingLegend"),n.style.position="absolute",n.style.borderRadius="4px",n.style.boxShadow="1px 1px 3px 0px rgba(100,100,100,0.6)",n.style.border="2px solid #333333",n.style.backgroundColor="rgba(255, 255, 255, 0.5 )",n.style.pointerEvents="none",n.style.paddingTop="5px",n.style.paddingBottom="5px",n.style.paddingLeft="10px",n.style.paddingRight="10px",r.getWrapper().insertBefore(n,r.getDom()),u=n),t.map(function(t){var e=t.serie.handleMouseMove(l,!1);if(!e||!h)return t.serie.trackingShape&&t.serie.trackingShape.hide(),u;if(0<t.withinPx&&1e-14<Math.abs(a-o.options.paddingLeft-t.serie.getXAxis().getPx(e.xClosest))-t.withinPx||0<t.withinVal&&Math.abs(t.serie.getXAxis().getVal(a-o.options.paddingLeft)-e.xClosest)-t.withinVal>t.serie.getXAxis().getVal(a-o.options.paddingLeft)/1e5)t.serie.trackingShape&&t.serie.trackingShape.hide();else{c[t.serie.getName()]={yValue:e.xClosest,xValue:e.yClosest,serie:t,index:e};var i=void 0;if(i=o.options.trackingLine&&o.options.trackingLine.serieShape?o.options.trackingLine.serieShape:{shape:"ellipse",properties:{rx:[3*t.serie.getLineWidth()+"px"],ry:[3*t.serie.getLineWidth()+"px"]}},t.serie.trackingShape||(t.serie.trackingShape=o.newShape(i.shape,{fillColor:t.serie.getLineColor(),strokeColor:"White",strokeWidth:t.serie.getLineWidth()},!0,i.properties).setSerie(t.serie).forceParentDom(t.serie.groupMain).draw(),i.onCreated&&i.onCreated(t.serie.trackingShape),t.serie.trackingShape.on("changed",function(){i.onChanged&&i.onChanged(t.serie.trackingShape)})),t.serie.trackingShape.show(),t.serie.trackingShape.getPosition(0).x=e.xClosest,i.magnet){var r,n=i.magnet,s=n.within;n.withinPx&&(s=t.serie.getXAxis().getRelVal(n.withinPx)),(r=t.serie.findLocalMinMax(e.xClosest,s,n.mode))&&(t.serie.trackingShape.getPosition(0).x=r)}t.serie.trackingShape.redraw()}}),o.options.trackingLine.legend){if(0!=Object.keys(c).length&&h){"none"==u.style.display||i?x(o,u,a,e,!0):b(o,u,a,e),u.style.display="block";var s=h(c,l,a,e);u.innerHTML=s}else u.style.display="none";return u}},x=function(t,i,r,n,e){var s=Date.now(),o=i.offsetHeight,a=parseInt(i.style.marginLeft.replace("px","")||0),u=parseInt(i.style.marginTop.replace("px","")||0);if(r=r>t.getWidth()/2?r-r%10-20-i.offsetWidth:r-r%10+30,n=n-n%10+o/2,e)return i.style.marginLeft=r+"px",void(i.style.marginTop=n+"px");window.requestAnimationFrame(function t(){var e=(Date.now()-s)/200;1<e&&(e=1),i.style.marginLeft=(r-a)*e+a+"px",i.style.marginTop=(n-u)*e+u+"px",e<1&&window.requestAnimationFrame(t)})},b=A.debounce(x,50);function k(t,e,i,r){i=i||{};var n,s={def:{x:t.getConstructor("graph.axis.x"),y:t.getConstructor("graph.axis.y")},time:{x:t.getConstructor("graph.axis.x.time")},bar:{x:t.getConstructor("graph.axis.x.bar")}};switch(i.type){case"time":var o=s.time;break;case"bar":o=s.bar;break;case"broken":o=s.broken;break;default:o=s.def}switch(r){case"top":case"bottom":n=o.x;break;case"left":case"right":n=o.y}return"object"==(void 0===(e=e||0)?"undefined":l(e))&&(i=e,e=0),t.axis[r][e]||(t.axis[r][e]=new n(t,r,i),t.axis[r][e].init(t,i)),t.axis[r][e]}function M(t,e,i,r,n,s){if(!1!==t.options.close){var o=0;t.axis[e].map(function(t){t.isDisplayed()&&!t.floating&&o++}),!0!==t.options.close&&!t.options.close[e]||0!=o?t.closingLines[e].setAttribute("display","none"):(t.closingLines[e].setAttribute("display","block"),t.closingLines[e].setAttribute("x1",i),t.closingLines[e].setAttribute("x2",r),t.closingLines[e].setAttribute("y1",n),t.closingLines[e].setAttribute("y2",s))}}function P(t,e,i,r,n){v(t,n,[e,n,i,r],"onMouseWheel")&&(n.preventDefault(),n.stopPropagation())}d.SERIE_LINE=Symbol(),d.SERIE_SCATTER=Symbol(),d.SERIE_CONTOUR=Symbol(),d.SERIE_BAR=Symbol(),d.SERIE_BOX=Symbol(),d.SERIE_ZONE=Symbol(),d.SERIE_LINE_COLORED=Symbol(),d.SERIE_ZONE=Symbol(),d.SERIE_DENSITYMAP=Symbol(),d.SERIE_LINE_3D=Symbol(),d.SERIE_ZONE_3D=Symbol(),d.TICKS_OUTSIDE=Symbol(),d.TICKS_INSIDE=Symbol(),d.TICKS_CENTERED=Symbol(),d.ns="http://www.w3.org/2000/svg",d.nsxlink="http://www.w3.org/1999/xlink",e.default=d,t.exports=e.default},n=[t,e,i(55),i(5),i(56),i(46)],void 0===(s="function"==typeof(r=o)?r.apply(e,n):r)||(t.exports=s)},function(t,e,i){var r,n,s,o;o=function(t,e,i,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,h=function(t){{if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e.default=t,e}}(i),s=(n=r)&&n.__esModule?n:{default:n};var o=function(){function r(t,e){for(var i=0;i<e.length;i++){var r=e[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(t,e,i){return e&&r(t.prototype,e),i&&r(t,i),t}}(),a=function(){function a(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[],e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,i=2<arguments.length&&void 0!==arguments[2]?arguments[2]:1;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,a),this.xOffset=e,this.xScale=i,this.errors={nb:0,bars:{above:null,below:null},boxes:{above:null,below:null}},this.BELOW=a.BELOW,this.ABOVE=a.ABOVE,this.BOX=a.BOX,this.BAR=a.BAR,this.setData(t)}return o(a,[{key:"setData",value:function(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:null;if(Array.isArray(t[0])){var i=[],r=[];t.forEach(function(t){i.push(t[0]),r.push(t[1])}),this.setXWaveform(i),t=r}var n=this._makeArray(t.length),s=!1,o=this.isNaNAllowed();return t.map(function(t,e){o||t[0]==t[0]&&t[1]==t[1]||(s=!0),n[e]=t}),s&&this.warn("Trying to assign NaN values to a typed array that does not support NaNs. 0's will be used instead"),this._setData(n),e&&this.setXWaveform(e),this}},{key:"getY",value:function(t,e){return e&&this.dataInUse?this.dataInUse.y[t]*this.getScale()+this.getShift():this.data[t]*this.getScale()+this.getShift()}},{key:"setXWaveform",value:function(t){if(!(t instanceof a)){if(!Array.isArray(t))throw"Cannot set X waveform. Data is not a valid array.";t=new a(t)}return this.xdata=t,this.computeXMinMax(),this}},{key:"hasXWaveform",value:function(){return!!this.xdata}},{key:"getXWaveform",value:function(){if(this.xdata)return this.xdata;for(var t=new a,e=0;e<this.getLength();e+=1)t.append(this.getX(e));return t}},{key:"rescaleX",value:function(t,e){return this.xScale=e,this.xOffset=t,this.computeXMinMax(),this}},{key:"getTypedArrayClass",value:function(){return this._typedArrayClass||!1}},{key:"setTypedArrayClass",value:function(t){this.getTypedArrayClass()&&this.isNaNAllowed()&&!this.isNaNAllowed(t)&&this.warn("NaN values are not allowed by the new constructor ("+t.name+") while it was allowed by the previous one ("+this._typedArrayClass.name+")"),this.getTypedArrayClass()&&this.isUnsigned()&&!this.isUnsigned(t)&&this.warn("You are switching from signed values to unsigned values. You may experience data corruption if there were some negative values."),this._typedArrayClass=t,this.data&&this._setData(t.from(this.data)),this.hasXWaveform()&&this.getXWaveform().setTypedArrayClass(t)}},{key:"isNaNAllowed",value:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:this._typedArrayClass;return t==Array||t==Float32Array||t==Float64Array}},{key:"isUnsigned",value:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:this._typedArrayClass;return t==Uint8Array||t==Uint8ClampedArray||t==Uint16Array||t==Uint32Array}},{key:"recalculateMinMaxNewPoint",value:function(t,e){(t<this.minX||void 0===this.minX)&&(this.minX=t),(t>this.maxX||void 0===this.maxX)&&(this.maxX=t),(e<this.minY||void 0===this.minY)&&(this.minY=e),(e>this.maxY||void 0===this.maxY)&&(this.maxY=e)}},{key:"prepend",value:function(t,e){return"function"==typeof t&&(t=t(this)),"function"==typeof e&&(e=e(this)),this.xdata?this.xdata.prepend(null,t):null!==t?(this.xdata=this.getXWaveform(),this.xdata.prepend(null,t)):this.xOffset-=this.xScale,this.data.unshift(e),this.recalculateMinMaxNewPoint(t,e),this}},{key:"append",value:function(t,e){return"function"==typeof t&&(t=t(this)),"function"==typeof e&&(e=e(this)),this.xdata?this.xdata.append(null,t):null!==t&&(this.xdata=this.getXWaveform(),this.xdata.append(null,t)),this.monotoneous&&(e>this.data[this.data.y]&&!1===this.getMonotoneousAscending()?this.monotoneous=!1:e<this.data[this.data.y]&&!0===this.getMonotoneousAscending()&&(this.monotoneous=!1)),1!=this.data.length&&void 0!==this._monotoneousAscending||(this.monotoneous=!0,e==this.data[0]?this._monotoneousAscending=void 0:this._monotoneousAscending=e>this.data[0]),this.data.push(e),this.recalculateMinMaxNewPoint(t,e),this}},{key:"_makeArray",value:function(t){var e=this.getTypedArrayClass();return e?new e(t):new Array(t)}},{key:"_setData",value:function(t){var e=t.length,i=1,r=t[1]>t[0],n=t[0],s=t[0];for(isNaN(n)&&(n=Number.MAX_VALUE),isNaN(s)&&(s=-Number.MAX_VALUE),this._monotoneous=!0;i<e;i++)t[i]!==t[i-1]&&r!==t[i]>t[i-1]&&(this._monotoneous=!1),t[i]==t[i]&&(n=Math.min(t[i],n),s=Math.max(t[i],s));if(this._monotoneous&&(this._monotoneousAscending=t[1]>t[0]),this.hasErrorBars()){for(i=0;i<e;i++)t[i]==t[i]&&(n=Math.min(n,t[i]-this.getMaxError(i,"below")),s=Math.max(s,t[i]+this.getMaxError(i,"above")));this.minY=n,this.maxY=s}else this.minY=n,this.maxY=s;this.data=t,this.computeXMinMax()}},{key:"computeXMinMax",value:function(){if(this.data)if(this.xdata)this.minX=this.xdata.getMin(),this.maxX=this.xdata.getMax();else{var t=this.xOffset+this.xScale*this.getLength(),e=this.xOffset;this.minX=Math.min(t,e),this.maxX=Math.max(t,e)}}},{key:"getDataInUse",value:function(){return this.dataInUse||this.data}},{key:"getIndexFromVal",value:function(t){var e=1<arguments.length&&void 0!==arguments[1]&&arguments[1],i=2<arguments.length&&void 0!==arguments[2]?arguments[2]:Math.round,r=void 0;r=e&&this.dataInUse?this.dataInUse.y:this.data;var n;return n=this.getIndexFromData(t,r,this.data.getMonotoneousAscending(),i),e&&this.dataInUse&&"aggregateY"==this.dataInUseType?n-n%4:n}},{key:"getIndexFromX",value:function(t){var e=1<arguments.length&&void 0!==arguments[1]&&arguments[1],i=2<arguments.length&&void 0!==arguments[2]?arguments[2]:Math.round,r=void 0;e&&this.dataInUse?r=this.dataInUse.x:this.xdata&&(r=this.xdata.getData());var n=void 0;return n=this.hasXWaveform()?this.xdata.getIndexFromData(t,r,this.xdata.getMonotoneousAscending(),i):Math.max(0,Math.min(this.getLength()-1,i((t-this.xOffset)/this.xScale))),e&&this.dataInUse&&"aggregateX"==this.dataInUseType?n-n%4:n}},{key:"getIndexFromXY",value:function(t,e){var i=2<arguments.length&&void 0!==arguments[2]&&arguments[2],r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:Math.round,n=arguments[4],s=arguments[5],o=void 0,a=void 0;i&&this.dataInUse?(o=this.dataInUse.x,a=this.dataInUse.y):this.xdata&&(o=this.xdata.data,a=this.data);var u=void 0;if(this.isXMonotoneous()){if(this.getXMin()>t||this.getXMax()<t)return!1;u=this.hasXWaveform()?this.xdata.getIndexFromData(t,o,this.xdata.getMonotoneousAscending(),r):Math.max(0,Math.min(this.getLength()-1,r((t-this.xOffset)/this.xScale)))}else{if(isNaN(e))return;u=this.getIndexFromDataXY(t,o,e,a,n,s)}return i&&this.dataInUse&&"aggregateX"==this.dataInUseType?u-u%4:u}},{key:"getIndexFromDataXY",value:function(t,e,i,r){var n=4<arguments.length&&void 0!==arguments[4]?arguments[4]:1,s=5<arguments.length&&void 0!==arguments[5]?arguments[5]:1;return t-=this.getXShift(),t/=this.getXScale(),i-=this.getShift(),function(t,e,i,r){for(var n=4<arguments.length&&void 0!==arguments[4]?arguments[4]:1,s=5<arguments.length&&void 0!==arguments[5]?arguments[5]:1,o=Number.MAX_VALUE,a=void 0,u=-1,h=0,l=i.length;h<l;h++)(a=Math.pow((t-i[h])*n,2)+Math.pow((e-r[h])*s,2))<o&&(u=h,o=a);return u}(t,i/=this.getScale(),e,r,n,s)}},{key:"getIndexFromData",value:function(t,e,i,r){if(!this.isMonotoneous())throw console.trace(),"Impossible to get the index from a non-monotoneous wave !";return t-=this.getShift(),d(t/=this.getScale(),e,!i)}},{key:"getReductionType",value:function(){return this.dataInUseType}},{key:"getXMin",value:function(){return this.minX*this.getXScale()+this.getXShift()}},{key:"getXMax",value:function(){return this.maxX*this.getXScale()+this.getXShift()}},{key:"getYMin",value:function(){return this.minY*this.getScale()+this.getShift()}},{key:"getYMax",value:function(){return this.maxY*this.getScale()+this.getShift()}},{key:"getMin",value:function(){return this.minY*this.getScale()+this.getShift()}},{key:"getMax",value:function(){return this.maxY*this.getScale()+this.getShift()}},{key:"getMinX",value:function(){return this.minX*this.getXScale()+this.getXShift()}},{key:"getMaxX",value:function(){return this.maxX*this.getXScale()+this.getXShift()}},{key:"getMinY",value:function(){return this.minY*this.getScale()+this.getShift()}},{key:"getMaxY",value:function(){return this.maxY*this.getScale()+this.getShift()}},{key:"getDataMaxX",value:function(){return this.maxX}},{key:"getDataMinX",value:function(){return this.minX}},{key:"getDataMaxY",value:function(){return this.maxY}},{key:"getDataMaxY",value:function(){return this.minY}},{key:"getDataY",value:function(){return this.data}},{key:"getData",value:function(t){return t&&this.dataInUse?this.dataInUse.y:this.data}},{key:"setShift",value:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0;return this.shift=t,this}},{key:"getShift",value:function(){return this.shift||0}},{key:"getScale",value:function(){return this.scale||1}},{key:"setScale",value:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:1;return this.scale=t,this}},{key:"setXShift",value:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0;return this.hasXWaveform&&this.getXWaveform().setShift(t),this}},{key:"getXShift",value:function(){0<arguments.length&&void 0!==arguments[0]&&arguments[0];return this.hasXWaveform?this.getXWaveform().getShift():0}},{key:"setXScale",value:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:1;return this.hasXWaveform&&this.getXWaveform().setScale(t),this}},{key:"getXScale",value:function(){return this.hasXWaveform?this.getXWaveform().getScale():1}},{key:"getLength",value:function(){return this.data.length}},{key:"getDataToUseFlat",value:function(){var t=void 0,e=0,i=void 0;if(this.dataInUse){t=this.dataInUse.x.length,i=new Array(2*t).fill(0);for(var r=0;r<t;r+=1)i[e]=this.dataInUse.x[r],i[e+1]=this.dataInUse.y[r],e+=2}else{t=this.getLength(),i=new Array(2*t).fill(0);for(r=0;r<t;r+=1)i[e+1]=this.data[r],i[e]=this.getX(r),e+=2}return i}},{key:"fit",value:function(r){var n=this;return new Promise(function(e,t){var i=new s.default(h.extend({},{dataY:n,dataX:n.getXWaveform(),done:function(t){e(t)},waveform:new a},r));i.init(),i.fit()})}},{key:"getX",value:function(t,e){return e&&this.dataInUse?this.dataInUse.x[t]*this.getXScale()+this.getXShift():this.xdata?this.xdata.data[t]*this.getXScale()+this.getXShift():this.xOffset+t*this.xScale}},{key:"getXRaw",value:function(t,e){return e&&this.dataInUse?this.dataInUse.x[t]:this.xdata?this.xdata.data[t]:t}},{key:"_integrateP",value:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0,e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:this.getLength()-1;if(t=Math.round(t),(e=Math.round(e))<t){var i=t;t=e,e=i}for(var r=e-t+1,n=0,s=0,o=void 0,a=this.getData();t<=e;t++)a.length-1>t&&(s+=o=this.getX(t+1)-this.getX(t),n+=a[t]*o);return[n,r,s]}},{key:"integrateP",value:function(t,e){return this._integrateP(t,e)[0]}},{key:"integrate",value:function(t,e){return this.integrateP(this.getIndexFromX(t),this.getIndexFromX(e))}},{key:"average",value:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0,e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:this.getLength()-1;return this.getAverageP(t,e)}},{key:"mean",value:function(){return this.average()}},{key:"getAverageP",value:function(t,e){var i=this._integrateP(t,e);return i[0]/i[2]}},{key:"getAverageX",value:function(t,e){var i=this._integrateX(t,e);return i[0]/i[2]}},{key:"checkMonotonicity",value:function(){for(var t=1,e=this.getData(),i=this.data.length,r=e[1]>e[0];t<i;t++)if(e[t]!==e[t-1]&&r!==e[t]>e[t-1])return this._monotoneous=!1;return this._monotoneousAscending=e[1]>e[0],this._monotoneous=!0}},{key:"requireXMonotonicity",value:function(){this.xdata&&this.xdata.requireMonotonicity()}},{key:"requireMonotonicity",value:function(){if(!this.isMonotoneous())throw"The wave must be monotonic"}},{key:"isMonotoneous",value:function(){return!!this._monotoneous}},{key:"isXMonotoneous",value:function(){return!this.xdata||this.xdata.isMonotoneous()}},{key:"invert",value:function(t){var e=dataY||this.data;return e.reverse(),this.isMonotoneous()&&(this._monotoneousAscending=!this._monotoneousAscending),e}},{key:"resampleForDisplay",value:function(t){var e=0;this.requireXMonotonicity();var i=!1,r=this.getDataY(),n={x:[],y:[]},s=[],o=void 0,a=void 0,u=void 0,h=void 0,l=void 0,c=void 0,f=void 0,p=!1,d=0,g=void 0,y=this.getLength();if(!t.xPosition)throw"No position calculation method provided";if(!t.resampleToPx)throw'No "resampleToPx" method was provided. Unit: px per point';if(t.minX>t.maxX){var v=t.minX;t.minX=t.maxX,t.maxX=v}for((this.xdata&&!this.xdata.getMonotoneousAscending()||!this.xdata&&this.xScale<-0)&&(i=!0,e=y);i?0<e:e<y;i?e--:e++)if(g=this.getX(e),t.minX>g)d=e;else if(f=t.xPosition(g),p)if(Math.abs(f-c)>t.resampleToPx||e==y||0==e||isNaN(r[e])){var m=(l+g)/2;if(n.x.push(m),n.y.push(o/h),s.push(m,a,u),void 0!==t.maxX&&g>t.maxX)break;p=!1}else o+=r[e],h++,a=Math.min(a,r[e]),u=Math.max(u,r[e]);else{for(d?(n.x.push(g),n.y.push(r[d])):d=e;isNaN(r[e]);)i?e--:e++;o=a=u=r[d],h=1,c=f,l=g,p=!(d=0)}return this.dataInUseType="resampled",this.dataInUse=n,s}},{key:"interpolate",value:function(t){var e=this.getDataY(),i=void 0;if(this.xdata){var r=this.xdata.getData();try{i=d(t,r,!this.xdata.getMonotoneousAscending())}catch(t){return NaN}return r[i]==t?e[i]:(t-r[i])/(r[i+1]-r[i])*(e[i+1]-e[i])+e[i]}i=(t-this.xOffset)/this.xScale;var n=Math.floor(i);return(i-n)*(e[n+1]-e[n])+e[n]}},{key:"interpolateIndex_X",value:function(t){this.getDataY();if(this.xdata){var e=this.xdata.getData(),i=Math.floor(t);return(t-i)*(e[i+1]-e[i])+e[i]}}},{key:"getMonotoneousAscending",value:function(){return this.isMonotoneous()?this._monotoneousAscending:"The waveform is not monotoneous"}},{key:"getXMonotoneousAscending",value:function(){return this.xdata?this.xdata.getMonotoneousAscending():0<this.xScale}},{key:"isXMonotoneousAscending",value:function(){return this.getXMonotoneousAscending.apply(this,arguments)}},{key:"divide",value:function(t){return this._arithmetic(t,f)}},{key:"divideBy",value:function(){return this.divide.apply(this,arguments)}},{key:"multiply",value:function(t){return this._arithmetic(t,u)}},{key:"multiplyBy",value:function(){return this.multiply.apply(this,arguments)}},{key:"log",value:function(){return this.logBase(10)}},{key:"ln",value:function(){return this.logBase(Math.E)}},{key:"logBase",value:function(t){var e=Math.log(t);this.data.map(function(t){return Math.log(t)/e})}},{key:"add",value:function(t){return this._arithmetic(t,l)}},{key:"addBy",value:function(){return this.add.apply(this,arguments)}},{key:"subtract",value:function(t){return this._arithmetic(t,c)}},{key:"subtractBy",value:function(){return this.subtract.apply(this,arguments)}},{key:"math",value:function(t){for(var e=0;e<this.getLength();e++)this.data[e]=t(this.getY(e),this.getX(e));return this._setData(this.data),this}},{key:"_arithmetic",value:function(t,e){return t instanceof a?this._waveArithmetic(t,e):"number"==typeof t?this._numberArithmetic(t,e):void 0}},{key:"_numberArithmetic",value:function(t,e){var i=0,r=this.getLength();if(e==u){for(;i<r;i++)this.data[i]*=t;this.minY*=t,this.maxY*=t}else if(e==f){for(;i<r;i++)this.data[i]/=t;this.minY/=t,this.maxY/=t}else if(e==l){for(;i<r;i++)this.data[i]+=t;this.minY+=t,this.maxY+=t}else if(e==c){for(;i<r;i++)this.data[i]-=t;this.minY-=t,this.maxY-=t}return this}},{key:"_waveArithmetic",value:function(t,e){var i=this.getDataY(),r=0,n=this.getLength();if(this.requireXMonotonicity(),t.requireXMonotonicity(),e==u)for(;r<n;r++)i[r]*=t.interpolate(this.getX(r));else if(e==f)for(;r<n;r++)i[r]/=t.interpolate(this.getX(r));else if(e==l)for(;r<n;r++)i[r]+=t.interpolate(this.getX(r));else if(e==c)for(;r<n;r++)i[r]-=t.interpolate(this.getX(r));return this._setData(i),this}},{key:"aggregate",value:function(){var e=this,t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"x";this._dataAggregating={},this._dataAggregated={},this._dataAggregationDirection=t.toUpperCase();var i=function(t){var e=1;for(;t>>=1;)e<<=1;return e}(this.getLength());this._dataAggregating=aggregator({minX:this.minX,maxX:this.maxX,minY:this.minY,maxY:this.maxY,data:this.data,xdata:this.xdata?this.xdata.getData():void 0,xScale:this.xScale,xOffset:this.xOffset,numPoints:i,direction:t}).then(function(t){e._dataAggregated=t.aggregates,e._dataAggregating=!1})}},{key:"hasAggregation",value:function(){return!!this._dataAggregated}},{key:"selectAggregatedData",value:function(t){if(t<2)return!1;var e=function(t){t--;var e=2;for(;t>>=1;)e<<=1;return e}(t);return this._dataAggregated[e]?(this.dataInUseType="aggregate"+this._dataAggregationDirection,void(this.dataInUse=this._dataAggregated[e])):this._dataAggregating?this._dataAggregating:(this.dataInUseType="none",void(this.dataInUse={y:this.data,x:this.getXWaveform().data}))}},{key:"duplicate",value:function(t){var e=new a;return e._setData(this.getDataY().slice()),e.rescaleX(this.xOffset,this.xShift),e.setShift(this.getShift()),e.setScale(this.getScale()),this.xdata?(t?e.setXWaveform(this.xdata.duplicate()):e.setXWaveform(this.xdata),e.setXShift(this.getXShift()),e.setXScale(this.getXScale())):(e.xOffset=this.xOffset,e.xScale=this.xScale),e}},{key:"subrangeX",value:function(t,e){if(this.xdata){for(var i=new a,r=0,n=this.data.length;r<n;r++)this.data[r]>=t&&this.data[r]<e&&i.append(this.dataX[r],this.data[r]);return i}var s=this.getIndexFromX(t),o=this.getIndexFromX(o);return(new a).setData(this.data.slice(s,o)).rescaleX(this.xOffset,this.xScale)}},{key:"findLocalMinMax",value:function(t,e,i){this.getIndexFromX(t);var r=this.getIndexFromX(t+e),n=this.getIndexFromX(t-e);return this.findLocalMinMaxIndex(n,r,i)}},{key:"findLocalMinMaxIndex",value:function(t,e,i){var r=void 0;e<t&&(r=e,e=t,t=r);var n=void 0,s=void 0;if("max"==i){n=Number.NEGATIVE_INFINITY;for(var o=t;o<=e;o++)this.getY(o)>n&&(n=this.getY(o),s=o)}else{n=Number.POSITIVE_INFINITY;for(o=t;o<=e;o++)this.getY(o)<n&&(n=this.getY(o),s=o)}return s!=t&&s!=e&&this.getX(s)}},{key:"warn",value:function(t){console&&console.warn(t)}},{key:"setUnit",value:function(t){return this.unit=t,this}},{key:"setXUnit",value:function(t){return this.hasXWaveform()&&this.xdata.setUnit(t),this.xunit=t,this}},{key:"getUnit",value:function(){return this.unit||""}},{key:"getXUnit",value:function(){return this.hasXWaveform()?this.xdata.getUnit():""|this.xunit}},{key:"hasXUnit",value:function(){return 0<this.getXUnit().length}},{key:"hasUnit",value:function(){return 0<this.getUnit().length}},{key:"findLevels",value:function(t,e){for(var i,r=(e=h.extend({box:1,edge:"both",rounding:"before",rangeP:[0,this.getLength()]},e)).rangeP[0],n=[],s=0;i=this.findLevel(t,h.extend(!0,{},e,{rangeP:[r,e.rangeP[1]]}));)if(n.push(i),r=Math.ceil(i),1e3<++s)return;return n}},{key:"findLevel",value:function(t,e){var i,r,n,s,o,a;(e=h.extend({box:1,edge:"both",direction:"ascending",rounding:"before",rangeP:[0,this.getLength()]},e)).rangeX&&(e.rangeP=e.rangeX.map(this.getIndexFromX));var u=e.box;for(u%2==0&&u++,"descending"==e.direction?(n=e.rangeP[1],o=e.rangeP[0],a=-1):(n=e.rangeP[0],o=e.rangeP[1],a=1);;n+=a){if("descending"==e.direction){if(n<o)break}else if(o<n)break;if(!(n<e.rangeP[0]+(u-1)/2)){if(n>e.rangeP[1]-(u-1)/2)break;if(i=this.getAverageP(n-(u-1)/2,n+(u-1)/2),void 0!==r){if(t<=i&&r){if(r=!1,"ascending"==e.edge||"both"==e.edge)for(s=n+(u-1)/2;n-(u-1)/2<=s;s--)if(this.data[s]>=t&&this.data[s-1]<=t)switch(e.rounding){case"before":return s-1;case"after":return s;case"interpolate":return p(t,this.data[s],this.data[s-1],s,s-1)}}else if(i<=t&&!r&&(r=!0,"descending"==e.edge||"both"==e.edge))for(s=n+(u-1)/2;n-(u-1)/2<=s;s--)if(this.data[s]<=t&&this.data[s-1]>=t)switch(e.rounding){case"before":return s-1;case"after":return s;case"interpolate":return p(t,this.data[s],this.data[s-1],s,s-1)}}else r=i<t}}}},{key:"normalize",value:function(t){var e=void 0,i=void 0,r=void 0,n=void 0,s=void 0,o=void 0;if("max1"==t||"max100"==t){for(e=1,"max100"==t&&(e=100),n=this.data[0],o=1;o<this.getLength();o++)this.data[o]>n&&(n=this.data[o]);for(o=0;o<this.getLength();o++)this.data[o]/=n/e}else if("sum1"==t){for(o=i=0;o<this.getLength();o++)i+=this.data[o];for(o=0;o<this.getLength();o++)this.data[o]/=i}else if("max1min0"==t){for(n=this.data[0],r=this.data[0],o=1;o<this.getLength();o++)this.data[o]>n?n=this.data[o]:this.data[o]<r&&(r=this.data[o]);for(s=1/(n-r),o=0;o<this.getLength();o++)this.data[o]=(this.data[o]-r)*s}this.setData(this.data)}},{key:"setErrorBarX",value:function(t){return Array.isArray(t)&&(t=new a(t)),this.getXWaveform().setErrorBar(t),this}},{key:"setErrorBarXBelow",value:function(t){return Array.isArray(t)&&(t=new a(t)),this.getXWaveform().setErrorBarBelow(t),this}},{key:"setErrorBarXAbove",value:function(t){return Array.isArray(t)&&(t=new a(t)),this.getXWaveform().setErrorBarAbove(t),this}},{key:"setErrorBoxX",value:function(t){Array.isArray(t)&&(t=new a(t));var e=this.getXWaveform();return e.setErrorBoxAbove(t),e.setErrorBoxBelow(t),this}},{key:"setErrorBoxXBelow",value:function(t){return Array.isArray(t)&&(t=new a(t)),this.getXWaveform().setErrorBoxBelow(t),this}},{key:"setErrorBoxXAbove",value:function(t){return Array.isArray(t)&&(t=new a(t)),this.getXWaveform().setErrorBoxAbove(t),this}},{key:"setErrorBar",value:function(t){var e=!(1<arguments.length&&void 0!==arguments[1])||arguments[1];Array.isArray(t)&&(t=new a(t)),this.errors.nb++,this.errors.nb++,this.errors.bars.bottom=t,this.errors.bars.top=t,e&&this._setData()}},{key:"setErrorBarBelow",value:function(t){var e=!(1<arguments.length&&void 0!==arguments[1])||arguments[1];Array.isArray(t)&&(t=new a(t)),this.errors.nb++,this.errors.bars.below=t,e&&this._setData()}},{key:"setErrorBarAbove",value:function(t){var e=!(1<arguments.length&&void 0!==arguments[1])||arguments[1];Array.isArray(t)&&(t=new a(t)),this.errors.nb++,this.errors.bars.above=t,e&&this._setData()}},{key:"setErrorBox",value:function(t){var e=!(1<arguments.length&&void 0!==arguments[1])||arguments[1];Array.isArray(t)&&(t=new a(t)),this.errors.nb++,this.errors.nb++,this.errors.boxes.above=t,this.errors.boxes.below=t,e&&this._setData()}},{key:"setErrorBoxBelow",value:function(t){var e=!(1<arguments.length&&void 0!==arguments[1])||arguments[1];Array.isArray(t)&&(t=new a(t)),this.errors.nb++,this.errors.boxes.below=t,e&&this._setData()}},{key:"setErrorBoxAbove",value:function(t){var e=!(1<arguments.length&&void 0!==arguments[1])||arguments[1];Array.isArray(t)&&(t=new a(t)),this.errors.boxes.above=t,e&&this._setData()}},{key:"getMaxError",value:function(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:a.ABOVE;return Math.max(this.getMaxErrorType(t,e,a.BOX),this.getMaxErrorType(t,e,a.BAR))}},{key:"getMaxErrorType",value:function(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:a.ABOVE,i=2<arguments.length&&void 0!==arguments[2]?arguments[2]:a.BOX,r=void 0;if(i==a.BOX)r=this.errors.boxes;else{if(i!=a.BAR)throw"Unknown type of error";r=this.errors.bars}var n=void 0;return(n=r[e])||(e==a.ABOVE?r[e]==a.BELOW&&(n=r.below):r[e]==a.ABOVE&&(n=r.above)),n?n.getY(t):0}},{key:"getErrorBarXBelow",value:function(t){return this.getErrorX(t,a.BELOW,a.BAR)}},{key:"getErrorBarXAbove",value:function(t){return this.getErrorX(t,a.ABOVE,a.BAR)}},{key:"getErrorBoxXBelow",value:function(t){return this.getErrorX(t,a.BELOW,a.BOX)}},{key:"getErrorBoxXAbove",value:function(t){return this.getErrorX(t,a.ABOVE,a.BOX)}},{key:"getErrorBarYBelow",value:function(t){return this.getError(t,a.BELOW,a.BAR)}},{key:"getErrorBarYAbove",value:function(t){return this.getError(t,a.ABOVE,a.BAR)}},{key:"getErrorBoxYBelow",value:function(t){return this.getError(t,a.BELOW,a.BOX)}},{key:"getErrorBoxYAbove",value:function(t){return this.getError(t,a.ABOVE,a.BOX)}},{key:"getErrorX",value:function(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:a.ABOVE,i=2<arguments.length&&void 0!==arguments[2]?arguments[2]:a.BAR;return!!this.hasXWaveform()&&this.xdata.getError(t,e,i)}},{key:"getError",value:function(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:a.ABOVE,i=(2<arguments.length&&void 0!==arguments[2]?arguments[2]:a.BAR)==a.BAR?this.errors.bars:this.errors.boxes;if(!i)return!1;var r=void 0;return(r=e==a.ABOVE?i.above:i.below)?(r==a.ABOVE&&e==a.BELOW?r=i.above:r==a.BELOW&&e==a.ABOVE&&(r=i.below),!!r&&r.getY(t)):void 0}},{key:"hasErrorBars",value:function(){return 0<this.errors.nb||this.hasXWaveform()&&0<this.xdata.errors.nb}}]),a}();a.BELOW=Symbol(),a.ABOVE=Symbol(),a.BOX=Symbol(),a.BAR=Symbol();var u=Symbol(),l=Symbol(),c=Symbol(),f=Symbol();function p(t,e,i,r,n){return(t-e)/(i-e)*(n-r)+r}function d(t,e){var i=2<arguments.length&&void 0!==arguments[2]?arguments[2]:e[e.length-1]<e[0],r=0,n=e.length-1,s=void 0,o=0,a=1;if(!i&&(e[0]>t||e[n]<t)||i&&(e[0]<t||e[n]>t))throw new Error("Target "+t+" is not in the stack");if(e[r]==t)return r;if(e[n]==t)return n;for(;;){if(100<++o)throw new Error("Error loop");for(s=Math.floor((r+n)/2);isNaN(e[s]);){if(s>=e.length-1)return e.length-1;if(s<=0)return 0;s+=a}if(s==r||e[s]==t||s==n)return s;if(e[s]<t)i?n=s:r=s;else{if(!(e[s]>t))return!1;i?r=s:n=s}a*=-1}}e.default=a,t.exports=e.default},n=[t,e,i(5),i(138)],void 0===(s="function"==typeof(r=o)?r.apply(e,n):r)||(t.exports=s)},function(t,e,i){var r=i(8).f,n=i(15),s=i(6)("toStringTag");t.exports=function(t,e,i){t&&!n(t=i?t:t.prototype,s)&&r(t,s,{configurable:!0,value:e})}},function(t,e,i){var o=i(0),r=i(24),a=i(3),u=i(81),n="["+u+"]",s=RegExp("^"+n+n+"*"),h=RegExp(n+n+"*$"),l=function(t,e,i){var r={},n=a(function(){return!!u[t]()||"​"!="​"[t]()}),s=r[t]=n?e(c):u[t];i&&(r[i]=s),o(o.P+o.F*n,"String",r)},c=l.trim=function(t,e){return t=String(r(t)),1&e&&(t=t.replace(s,"")),2&e&&(t=t.replace(h,"")),t};t.exports=l},function(t,e){t.exports={}},function(t,e,i){var r=i(4);t.exports=function(t,e){if(!r(t)||t._t!==e)throw TypeError("Incompatible receiver, "+e+" required!");return t}},function(t,e,i){var r,n,s,o;o=function(t,e,i,r,n,s,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});l(i);var a=function(t){{if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e.default=t,e}}(r),u=l(n),h=(l(s),l(o));function l(t){return t&&t.__esModule?t:{default:t}}var c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};var f=function t(e,i,r){null===e&&(e=Function.prototype);var n=Object.getOwnPropertyDescriptor(e,i);if(void 0===n){var s=Object.getPrototypeOf(e);return null===s?void 0:t(s,i,r)}if("value"in n)return n.value;var o=n.get;return void 0!==o?o.call(r):void 0},p=function(){function r(t,e){for(var i=0;i<e.length;i++){var r=e[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(t,e,i){return e&&r(t.prototype,e),i&&r(t,i),t}}();var d=function(t){function n(t,e,i){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,n);var r=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(n.__proto__||Object.getPrototypeOf(n)).apply(this,arguments));return r.selectionType="unselected",r.markerFamilies={},a.mapEventEmission(r.options,r),r.styles={},r.styles.unselected={lineColor:r.options.lineColor,lineStyle:r.options.lineStyle,lineWidth:r.options.lineWidth,markers:r.options.markers},r.styles.selected={lineWidth:3},r.markersDom=new Map,r.shown=!0,r.data=[],r._isMinOrMax={x:{min:!1,max:!1},y:{min:!1,max:!1}},r.groupLines=document.createElementNS(r.graph.ns,"g"),r.domMarker=document.createElementNS(r.graph.ns,"path"),r.domMarker.style?r.domMarker.style.cursor="pointer":r.domMarker.style={cursor:"pointer"},r.groupMain=document.createElementNS(r.graph.ns,"g"),r.additionalData={},r.marker=document.createElementNS(r.graph.ns,"circle"),r.marker.setAttribute("fill","black"),r.marker.setAttribute("r",3),r.marker.setAttribute("display","none"),r.markerLabel=document.createElementNS(r.graph.ns,"text"),r.markerLabelSquare=document.createElementNS(r.graph.ns,"rect"),r.markerLabelSquare.setAttribute("fill","white"),r.domMarkerHover={},r.domMarkerSelect={},r.markerHovered=0,r.groupMarkerSelected=document.createElementNS(r.graph.ns,"g"),r.markerPoints={},r.lines=[],r.groupMain.appendChild(r.groupLines),r.groupMain.appendChild(r.marker),r.groupMain.appendChild(r.groupMarkerSelected),r.groupMain.appendChild(r.markerLabelSquare),r.groupMain.appendChild(r.markerLabel),r.groupMarkers=document.createElementNS(r.graph.ns,"g"),r.groupMain.appendChild(r.groupMarkers),r.independantMarkers=[],r.initExtended1&&r.initExtended1(),r.groupLines.addEventListener("click",function(t){r.options.selectableOnClick&&(r.isSelected()?r.graph.unselectSerie(r):r.graph.selectSerie(r))}),r.options.markers&&r.setMarkers(r.options.markers,"unselected"),r}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(n,h.default),p(n,null,[{key:"default",value:function(){return{lineColor:"black",lineStyle:1,flip:!1,label:"",lineWidth:1,markers:!1,trackMouse:!1,trackMouseLabel:!1,trackMouseLabelRouding:1,lineToZero:!1,selectableOnClick:!1,markersIndependant:!1,overflowX:!1,overflowY:!1}}}]),p(n,[{key:"postInit",value:function(){this.extendStyles()}},{key:"setOptions",value:function(t){return this.options=a.extend(!0,{},n.prototype.defaults,t||{}),this.styles.unselected={lineColor:this.options.lineColor,lineStyle:this.options.lineStyle,markers:this.options.markers},this.applyLineStyles(),this}},{key:"onMouseOverMarker",value:function(t,e){this.toggleMarker(e,!0,!0);this.options.onMouseOverMarker&&this.options.onMouseOverMarker(e,this.infos&&this.infos[e]||!1,[this.waveform.getX(e),this.waveform.getY(e)])}},{key:"onMouseOutMarker",value:function(t,e){this.markersOffHover(),this.options.onMouseOutMarker&&this.options.onMouseOutMarker(e,this.infos&&this.infos[e]||!1,[this.waveform.getX(e),this.waveform.getY(e)])}},{key:"toggleMarker",value:function(t,e,i){var r,n=t;void 0===e&&(r=i?!this.domMarkerHover[t]:!this.domMarkerSelect[t]);var s=this["domMarker"+(i?"Hover":"Select")];if(r||!0===e){if(s[t])o=s[t];else{var o=document.createElementNS(this.graph.ns,"path");this.setMarkerStyleTo(o,this.markerFamilies[this.selectionType][this.getMarkerCurrentFamily(n)]),this["domMarker"+(i?"Hover":"Select")][t]=o,this.groupMarkerSelected.appendChild(o)}var a=this.getX(this.waveform.getX(n)),u=this.getY(this.waveform.getY(n));o.setAttribute("d","M "+a+" "+u+" "+this.getMarkerPath(this.markerFamilies[this.selectionType][this.getMarkerCurrentFamily(n)],1)),i&&this.markerHovered++}else if((!r||!1===e)&&(i&&this.domMarkerHover[t]&&!this.domMarkerSelect[t]||this.domMarkerSelect[t])){if(!s[t])return;this.groupMarkerSelected.removeChild(s[t]),delete s[t],i&&this.markerHovered--}return r}},{key:"markersOffHover",value:function(){for(var t in this.domMarkerHover)this.toggleMarker(t.split(","),!1,!0);return this}},{key:"markersOffSelect",value:function(){for(var t in this.domMarkerSelect)this.toggleMarker(t.split(","),!1,!1);return this}},{key:"onClickOnMarker",value:function(t,e){var i=this.toggleMarker(e);i&&this.options.onSelectMarker&&this.options.onSelectMarker(e,this.infos&&this.infos[e[0]]||!1),!i&&this.options.onUnselectMarker&&this.options.onUnselectMarker(e,this.infos&&this.infos[e[0]]||!1),this.options.onToggleMarker&&this.options.onToggleMarker(e,this.infos&&this.infos[e[0]]||!1,i)}},{key:"_getMarkerIndexFromEvent",value:function(t){var e=this.graph._getXY(t);return this.searchIndexByPxXY(e.x-this.graph.getPaddingLeft(),e.y-this.graph.getPaddingTop())}},{key:"onMouseWheel",value:function(){}},{key:"empty",value:function(){for(var t=0,e=this.lines.length;t<e;t++)this.groupLines.removeChild(this.lines[t]);return this.lines=[],this}},{key:"select",value:function(t){return t=t||"selected",this.selected="unselected"!==t,this.areMarkersShown()||this.areMarkersShown(t)?(this.selectionType=t,this.draw(!0)):this.selectionType=t,this.applyLineStyles(),this.applyLineStyle(this.getSymbolForLegend()),this}},{key:"unselect",value:function(){return this.selected=!1,this.select("unselected")}},{key:"degrade",value:function(t){return this.degradationPx=t,this}},{key:"drawInit",value:function(t){var e=this;try{this.axisCheck()}catch(t){return console.warn(t),!1}if(this.currentLineId=0,this.counter=0,this._drawn=!0,this.currentLine="",this.waveform){if(this.degradationPx)this.waveform.resampleForDisplay({resampleToPx:this.degradationPx,xPosition:this.getXAxis().getPx.bind(this.getXAxis()),minX:this.getXAxis().getCurrentMin(),maxX:this.getXAxis().getCurrentMax()}),this._dataToUse=[this.waveform.getDataToUseFlat()];else if(this.waveform.hasAggregation()){var i=this.getXAxis(),r=this.graph.getDrawingWidth()*(i.getDataMax()-i.getDataMin())/(i.getCurrentMax()-i.getCurrentMin()),n=this.waveform.selectAggregatedData(r);if(n instanceof Promise)return n.then(function(){e.draw(t)}),!1;if(!1===n)return!1;this._dataToUse=this.waveform.getDataToUseFlat()}}else this._dataToUse=this.data,this._xDataToUse=this.xData;return!0}},{key:"removeLinesGroup",value:function(){this._afterLinesGroup=this.groupLines.nextSibling,this.groupMain.removeChild(this.groupLines)}},{key:"insertLinesGroup",value:function(){if(!this._afterLinesGroup)throw"Could not find group after lines to insertion.";this.groupMain.insertBefore(this.groupLines,this._afterLinesGroup),this._afterLinesGroup=!1}},{key:"removeExtraLines",value:function(){for(var t=this.currentLineId,e=this.lines.length;t<e;t++)this.groupLines.removeChild(this.lines[t]);this.lines.splice(this.currentLineId,e-this.currentLineId),this.currentLineId=0}},{key:"draw",value:function(t){if(f(n.prototype.__proto__||Object.getPrototypeOf(n.prototype),"draw",this).apply(this,arguments),!this.getXAxis()||!this.getYAxis())throw"No axes were defined for this serie";if(t||this.hasDataChanged()){if(!this.drawInit(t))return;this._dataToUse,this._xDataToUse,this._slotToUse;this.removeLinesGroup(),this.eraseMarkers(),this.lookForMaxima=!0,this.lookForMinima=!1,this.markerFamily=this.markerFamilies[this.selectionType||"unselected"],this.pos0=this.getYAxis().getPos(0),this.hasErrors()&&this.errorDrawInit(),this._draw(),this.hasErrors()&&this.errorDraw(),this.removeExtraLines(),this.insertMarkers(),this.insertLinesGroup()}for(var e in this.domMarkerHover)this.toggleMarker(e.split(","),!1,!0);for(var e in this.domMarkerSelect)this.toggleMarker(e.split(","),!1,!1);this.applyLineStyle(this.getSymbolForLegend()),this.hasStyleChanged(this.selectionType)&&this.updateStyle(),this.dataHasChanged(!1),f(n.prototype.__proto__||Object.getPrototypeOf(n.prototype),"afterDraw",this).call(this)}},{key:"_draw",value:function(){var t,r=this,e=this.waveform,i=void 0,n=void 0,s=!1,o=!1,a=void 0,u=void 0,h=void 0,l=void 0,c=this.getXAxis(),f=this.getYAxis(),p=c.getCurrentMin(),d=f.getCurrentMin(),g=c.getCurrentMax(),y=f.getCurrentMax();if(e){t=e.getData(!0);var v=void 0,m=void 0,x=void 0,b=void 0,k=void 0,M=void 0,S=void 0,A=void 0,_=e.getShift(),w=e.getScale(),P=!1,C=!1,L=void 0,O=this.isMonotoneous(),E=this.markersShown(),T=0,X=e.getLength();if(this.currentLine="",e.isXMonotoneous()){if(e.isXMonotoneousAscending())try{T=e.getIndexFromX(p,!0)||0,X=e.getIndexFromX(g,!0)}catch(t){X=e.getLength()}else try{T=e.getIndexFromX(g,!0)||0,X=e.getIndexFromX(p,!0)}catch(t){X=e.getLength()}(X+=2)>t.length&&(X=t.length)}for(;T<X;T+=1)if(i=e.getX(T,!0),n=t[T]*w+_,i==i&&n==n){if(!this.options.overflowX&&i<p&&s<p||!this.options.overflowX&&g<i&&g<s||(!this.options.overflowY&&n<d&&o<d||!this.options.overflowY&&y<n&&y<o)&&!this.options.lineToZero)s=i,o=n,C=!0;else if(this.counter2=T,E&&this.getMarkerCurrentFamily(this.counter2),h=this.getX(i),l=this.getY(n),h!=a||l!=u)if(h==h&&l==l){if(P=O?!this.options.overflowY&&(n<d||y<n):!this.options.overflowX&&(i<p||g<i)||!this.options.overflowY&&(n<d||y<n),this.options.lineToZero){if(P=i<p||g<i)continue}else if(P||C){!1!==s&&!1!==o||C?(L=[],m=n-(v=(i-p)/(i-s))*(n-o),b=n-(x=(i-g)/(i-s))*(n-o),M=i-(k=(n-d)/(n-o))*(i-s),A=i-(S=(n-y)/(n-o))*(i-s),v<1&&0<v&&!1!==m&&m<y&&d<m&&L.push([p,m]),x<1&&0<x&&!1!==b&&b<y&&d<b&&L.push([g,b]),k<1&&0<k&&!1!==M&&M<g&&p<M&&L.push([M,d]),S<1&&0<S&&!1!==A&&A<g&&p<A&&L.push([A,y]),0<L.length?P?C?2==L.length&&(this._createLine(),this._addPoint(this.getX(L[0][0]),this.getY(L[0][1]),L[0][0],L[0][1],!1,!1,!1),this._addPoint(this.getX(L[1][0]),this.getY(L[1][1]),L[0][0],L[0][1],!1,!1,!1)):(1<L.length&&(console.error("Programmation error. Please e-mail me."),console.log(L,A,M,b,m,n,d,y,o)),this._addPoint(this.getX(L[0][0]),this.getY(L[0][1]),L[0][0],L[0][1],!1,!1,!1)):(1<L.length&&(console.error("Programmation error. Please e-mail me."),console.log(L,A,M,b,m,n,d,y,o)),this._createLine(),this._addPoint(this.getX(L[0][0]),this.getY(L[0][1]),L[0][0],L[0][1],!1,!1,!1),this._addPoint(h,l,s,o,!1,!1,!0)):P||this._addPoint(h,l,s,o,T,!1,!1)):(a=h,u=l,s=i,o=n),a=h,u=l,s=i,o=n,C=P;continue}this._addPoint(h,l,i,n,T,!1,!0),a=h,u=l,s=i,o=n}else 0<this.counter&&this._createLine()}else this._createLine();if(this._createLine(),this._tracker){this._trackerDom&&this._trackerDom.remove();var D=this.groupLines.cloneNode(!0);for(this.groupMain.appendChild(D),T=0,X=D.children.length;T<X;T++)D.children[T].setAttribute("stroke","transparent"),D.children[T].setAttribute("stroke-width","25px"),D.children[T].setAttribute("pointer-events","stroke");this._trackerDom=D,this.groupMain.addEventListener("mousemove",function(t){var e=r.graph._getXY(t),i=r.handleMouseMove(!1,!1);r._trackingCallback(r,i,e.x,e.y)}),this.groupMain.addEventListener("mouseleave",function(t){r._trackingOutCallback(r)})}return this}}},{key:"kill",value:function(){f(n.prototype.__proto__||Object.getPrototypeOf(n.prototype),"kill",this).call(this)}},{key:"getMarkerCurrentFamily",value:function(t){if(this.markerPoints&&this.markerPoints[this.selectionType]){for(var e,i=0;i<this.markerPoints[this.selectionType].length&&this.markerPoints[this.selectionType][i][0]<=t;i++)this.markerPoints[this.selectionType][i][1]>=t&&(this.markerCurrentFamily=this.markerPoints[this.selectionType][i][2],e=this.markerFamilies[this.selectionType][this.markerCurrentFamily]);return!!e&&(this.getMarkerDom(e),this.markerCurrentFamily)}}},{key:"setMarkerStyleTo",value:function(t,e){if(!t||!e)throw console.trace(),"Cannot set marker style. DOM does not exist.";t.setAttribute("fill",e.fillColor||"transparent"),t.setAttribute("stroke",e.strokeColor||this.getLineColor()),t.setAttribute("stroke-width",e.strokeWidth||1)}},{key:"hideTrackingMarker",value:function(){this.marker.setAttribute("display","none"),this.markerLabel.setAttribute("display","none"),this.markerLabelSquare.setAttribute("display","none")}},{key:"_addPoint",value:function(t,e,i,r,n,s,o){t==t&&e==e&&(0==this.counter?this.currentLine="M ":this.options.lineToZero||s?this.currentLine+="M ":this.currentLine+="L ",this.currentLine+=t,this.currentLine+=" ",this.currentLine+=e,this.currentLine+=" ",this.options.lineToZero&&void 0!==this.pos0&&(this.currentLine+="L ",this.currentLine+=t,this.currentLine+=" ",this.currentLine+=this.pos0,this.currentLine+=" "),this.hasErrors()&&this.errorAddPoint(n,i,r,t,e),this.markerPoints&&this.markersShown()&&!1!==o&&this.markerFamily&&function(t,e,i,r,n){if(!e)return;if(t.options.markersIndependant){var s=t.getMarkerDomIndependent(t.counter2,e),o="M "+i+" "+r+" ";o+=e.markerPath+" ",s.setAttribute("d",o)}n.path=n.path||"",n.path+="M "+i+" "+r+" ",n.path+=e.markerPath+" "}(this,this.markerFamily[this.markerCurrentFamily],t,e,this.markersDom.get(this.markerFamily[this.markerCurrentFamily])),this.counter++)}},{key:"_createLine",value:function(){var t,e=this.currentLineId++;return this.lines[e]?t=this.lines[e]:(t=document.createElementNS(this.graph.ns,"path"),this.applyLineStyle(t),this.groupLines.appendChild(t),this.lines[e]=t),0==this.counter?t.setAttribute("d",""):t.setAttribute("d",this.currentLine),this.currentLine="M ",this.counter=0,t}},{key:"applyLineStyles",value:function(){for(var t=0;t<this.lines.length;t++)this.applyLineStyle(this.lines[t])}},{key:"applyLineStyle",value:function(t){t.setAttribute("stroke",this.getLineColor()),t.setAttribute("stroke-width",this.getLineWidth()),this.getLineDashArray()?t.setAttribute("stroke-dasharray",this.getLineDashArray()):t.removeAttribute("stroke-dasharray"),t.setAttribute("fill","none")}},{key:"updateStyle",value:function(){this.applyLineStyles(),this.setLegendSymbolStyle(),this.styleHasChanged(!1)}},{key:"getMarkerPath",value:function(t,e){var i=t.zoom||1,r=(e=e||0,[]);switch(t.type){case 2:r=["m",-2,-2,"l",4,4,"m",-4,0,"l",4,-4];break;case 3:r=["m",-2,0,"l",4,0,"m",-2,-2,"l",0,4];break;case 4:r=["m",-1,-1,"l",2,0,"l",-1,2,"z"];break;default:case 1:r=["m",-2,-2,"l",4,0,"l",0,4,"l",-4,0,"z"]}if(!(1!=i&&i||e))return r.join(" ");if(r){for(var n=0,s=r.length;n<s;n++)"number"==c(r[n])&&(r[n]*=i+e);return r.join(" ")}}},{key:"getMarkerDom",value:function(t){var i=this;if(!this.markersDom.has(t)){var e=document.createElementNS(this.graph.ns,"path");this.setMarkerStyleTo(e,t),this.markersDom.set(t,{dom:e,path:""}),e.addEventListener("mouseover",function(t){var e=i._getMarkerIndexFromEvent(t);i.onMouseOverMarker(t,e)}),e.addEventListener("mouseout",function(t){var e=i._getMarkerIndexFromEvent(t);i.onMouseOutMarker(t,e)}),e.addEventListener("click",function(t){var e=i._getMarkerIndexFromEvent(t);i.onClickOnMarker(t,e)})}return t.dom}},{key:"getMarkerDomIndependent",value:function(e,t){var i=this;if(!this.independantMarkers[e]){var r=document.createElementNS(this.graph.ns,"path");this.setMarkerStyleTo(r,t),r.addEventListener("mouseover",function(t){i.onMouseOverMarker(t,e)}),r.addEventListener("mouseout",function(t){i.onMouseOutMarker(t,e)}),r.addEventListener("click",function(t){i.onClickOnMarker(t,e)}),this.independantMarkers[e]=r}return this.groupMarkers.appendChild(this.independantMarkers[e]),this.independantMarkers[e]}},{key:"searchIndexByPxXY",value:function(t,e){for(var i,r,n,s=!1,o=!1,a=(this._xDataToUse,0),u=this.waveform.getLength();a<u;a+=1)r=this.waveform.getX(a),n=this.waveform.getY(a),i=Math.pow(this.getX(r)-t,2)+Math.pow(this.getY(n)-e,2),(!s||i<s)&&(s=i,o=a);return o}},{key:"searchClosestValue",value:function(t,e){if(this.waveform){var i=void 0;try{i=this.waveform.getIndexFromXY(t,e,void 0,void 0,this.getXAxis().getRelPx(1),this.getYAxis().getRelPx(1))}catch(t){throw console.log(t),new Error("Error while finding the closest index")}if(isNaN(i))return!1;var r={},n=void 0;return n=t>this.waveform.getX(i)?-1:0,Object.assign(r,{indexMin:i+n,indexMax:i+n+1,indexClosest:i,xMin:this.waveform.getX(i+n),xMax:this.waveform.getX(i+n+1),yMin:this.waveform.getY(i+n),yMax:this.waveform.getY(i+n+1),xClosest:this.waveform.getX(i),yClosest:this.waveform.getY(i),xExact:t}),r}}},{key:"handleMouseMove",value:function(t,e,i){var r=t||this.getXAxis().getMouseVal(),n=i||this.getYAxis().getMouseVal(),s=this.searchClosestValue(r,n);if(s){var o;if(s.xMax==s.xMin&&(o=s.yMin),e&&this.options.trackMouse){if(null==s.xMin)return!1;if(!this.marker)return;var a=this.getX(this.getFlip()?s.yClosest:s.xClosest),u=this.getY(this.getFlip()?s.xClosest:s.yClosest);if(isNaN(a)||isNaN(u))return;switch(this.marker.setAttribute("display","block"),this.marker.setAttribute("cx",a),this.marker.setAttribute("cy",u),this.markerLabel.setAttribute("display","block"),this.markerLabelSquare.setAttribute("display","block"),this.options.trackMouseLabel){case!1:break;default:this.markerLabel.textContent=this.options.trackMouseLabel.replace("<x>",r.toFixed(this.options.trackMouseLabelRouding)).replace("<y>",o.toFixed(this.options.trackMouseLabelRouding))}this.markerLabel.setAttribute("x",a+5),this.markerLabel.setAttribute("y",u-5),this.markerLabelSquare.setAttribute("x",a+5),this.markerLabelSquare.setAttribute("y",u-5-this.graph.options.fontSize),this.markerLabelSquare.setAttribute("width",this.markerLabel.getComputedTextLength()+2),this.markerLabelSquare.setAttribute("height",this.graph.options.fontSize+2)}return{xBefore:s.xMin,xAfter:s.xMax,yBefore:s.yMin,yAfter:s.yMax,trueX:s.xExact,indexClosest:s.indexClosest,interpolatedY:o,xClosest:s.xClosest,yClosest:s.yClosest}}}},{key:"getMax",value:function(t,e){var i,r,n,s,o=Math.min(t,e),a=Math.max(t,e),u=this.searchClosestValue(o),h=this.searchClosestValue(a),l=-1/0;if(u||(o=this.minX,u=this.searchClosestValue(o)),h||(a=this.maxX,h=this.searchClosestValue(a)),!u||!h)return-1/0;for(i=u.dataIndex;i<=h.dataIndex;i++)for(n=i==u.dataIndex?u.xBeforeIndexArr:0,s=i==h.dataIndex?h.xBeforeIndexArr:this.data[i].length,r=n;r<=s;r+=2)l=Math.max(l,this.data[i][r+1]);return l}},{key:"getMin",value:function(t,e){var i,r,n,s,o=Math.min(t,e),a=Math.max(t,e),u=this.searchClosestValue(o),h=this.searchClosestValue(a),l=1/0;if(u||(o=this.minX,u=this.searchClosestValue(o)),h||(a=this.maxX,h=this.searchClosestValue(a)),!u||!h)return 1/0;for(i=u.dataIndex;i<=h.dataIndex;i++)for(n=i==u.dataIndex?u.xBeforeIndexArr:0,s=i==h.dataIndex?h.xBeforeIndexArr:this.data[i].length,r=n;r<=s;r+=2)l=Math.min(l,this.data[i][r+1]);return l}},{key:"setStyle",value:function(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"unselected";this.styles[e]=t,this.styleHasChanged(e)}},{key:"setLineStyle",value:function(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"unselected",i=arguments[2];return this.styles[e]=this.styles[e]||{},this.styles[e].lineStyle=t,i&&this.setLineStyle(t,"selected"),this.styleHasChanged(e),this}},{key:"getLineStyle",value:function(t){return this.getStyle(t).lineStyle}},{key:"getLineDashArray",value:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:this.selectionType||"unselected";switch(this.getStyle(t).lineStyle){case 2:return"1, 1";case 3:return"2, 2";case 4:return"3, 3";case 5:return"4, 4";case 6:return"5, 5";case 7:return"5 2";case 8:return"2 5";case 9:return"4 2 4 4";case 10:return"1,3,1";case 11:return"9 2";case 12:return"2 9";case 1:case!1:return!1;default:return this.styles[t].lineStyle}this.styleHasChanged(t)}},{key:"getStyle",value:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:this.selectionType||"unselected";return this.styles[t]}},{key:"extendStyles",value:function(){for(var t in this.styles){var e=this.styles[t];e&&(this.styles[t]=a.extend(!0,{},this.styles.unselected,e))}}},{key:"extendStyle",value:function(t,e){var i=this.styles[t];this.styles[t]=a.extend(!0,{},this.styles[e||"unselected"],i||{}),this.styles[t].markers.map(function(t){t.dom&&(t.dom="")}),this._recalculateMarkerPoints(t,this.styles[t].markers),this.styleHasChanged(t)}},{key:"setLineWidth",value:function(t,e,i){return e=e||"unselected",this.styles[e]=this.styles[e]||{},this.styles[e].lineWidth=t,i&&this.setLineWidth(t,"selected"),this.styleHasChanged(e),this}},{key:"getLineWidth",value:function(t){return this.getStyle(t).lineWidth||1}},{key:"setLineColor",value:function(t,e,i){return e=e||"unselected",this.styles[e]=this.styles[e]||{},this.styles[e].lineColor=t,i&&this.setLineColor(t,"selected"),this.styleHasChanged(e),this}},{key:"getLineColor",value:function(t){return this.getStyle(t).lineColor||"black"}},{key:"showMarkers",value:function(t,e){return t=t||"unselected",this.styles[t]=this.styles[t]||{},this.styles[t].showMarkers=!0,e&&this._drawn?this.draw(!0):this.styleHasChanged(t),this}},{key:"hideMarkers",value:function(t,e){return t=t||"unselected",this.styles[t].showMarkers=!1,e&&this._drawn?this.draw(!0):this.styleHasChanged(t),this}},{key:"markersShown",value:function(t){return!1!==this.getStyle(t).showMarkers}},{key:"areMarkersShown",value:function(){return this.markersShown.apply(this,arguments)}},{key:"isMarkersShown",value:function(){return this.markersShown.apply(this,arguments)}},{key:"setMarkers",value:function(t,e,i){return this.styles[e||"unselected"]=this.styles[e||"unselected"]||{},this.showMarkers(e,!1),Array.isArray(t)||"object"!=(void 0===t?"undefined":c(t))?t||(t=[{type:1,zoom:1,points:"all"}]):t=[t],this.styles[e||"unselected"].markers=t,i&&(this.styles.selected.markers=a.extend(!0,{},t)),this._recalculateMarkerPoints(e,t),this.styleHasChanged(e),this.dataHasChanged(!0),this}},{key:"setMarkersPoints",value:function(t,e,i){this._extendMarkers("points",t,e,i,!0)}},{key:"setMarkersColor",value:function(t,e,i){this._extendMarkers("color",t,e,i)}},{key:"setMarkersType",value:function(t,e,i){this._extendMarkers("type",t,e,i)}},{key:"setMarkersZoom",value:function(t,e,i){this._extendMarkers("zoom",t,e,i)}},{key:"setMarkersStrokeColor",value:function(t,e,i){this._extendMarkers("strokeColor",t,e,i)}},{key:"setMarkersStrokeWidth",value:function(t,e,i){this._extendMarkers("strokeWidth",t,e,i)}},{key:"setMarkersFillColor",value:function(t,e,i){this._extendMarkers("fillColor",t,e,i)}},{key:"_extendMarkers",value:function(t,e,i,r,n){i=i||0,r=r||"unselected",this.styles[r]&&this.styles[r].markers&&(this.styles[r].markers[i][t]=e,n&&this._recalculateMarkerPoints(r,this.styles[r].markers),this.markersDom[this.styles[r].markers[i]]&&this.setMarkerStyleTo(this.markersDom[this.styles[r].markers[i]].dom,this.styles[r].markers[i]))}},{key:"_recalculateMarkerPoints",value:function(t,e){var i=[];i.push([0,1/0,null]);for(var r=0,n=e.length;r<n;r++){e[r].markerPath=this.getMarkerPath(e[r]),e[r].points||(e[r].points="all"),Array.isArray(e[r].points)||(e[r].points=[e[r].points]);for(var s=0,o=e[r].points.length;s<o;s++)"all"==e[r].points[s]?i.push([0,1/0,r]):Array.isArray(e[r].points[s])?i.push([e[r].points[s][0],e[r].points[s][1],r]):i.push([e[r].points[s],e[r].points[s],r])}this.markerFamilies[t||"unselected"]=e,i.sort(function(t,e){return t[0]-e[0]||(null==t[2]?-1:1)}),this.markerPoints[t||"unselected"]=i}},{key:"insertMarkers",value:function(t){if(this.markerFamilies&&this.markerFamilies[t||this.selectionType]&&!this.options.markersIndependant)for(var e=0,i=this.markerFamilies[t||this.selectionType].length;e<i;e++)if(this.markersDom.has(this.markerFamilies[t||this.selectionType][e])){var r=this.markersDom.get(this.markerFamilies[t||this.selectionType][e]);r.dom.setAttribute("d",r.path),this.groupMarkers.appendChild(r.dom),this.currentMarkersSelectionType=this.selectionType}}},{key:"getMarkerForLegend",value:function(){if(this.markerPoints&&this.markerPoints[this.selectionType]){if(!this.markerForLegend){var t=document.createElementNS(this.graph.ns,"path");this.setMarkerStyleTo(t,this.markerFamilies[this.selectionType][0]),t.setAttribute("d","M 14 0 "+this.getMarkerPath(this.markerFamilies[this.selectionType][0])),this.markerForLegend=t}return this.markerForLegend}}},{key:"eraseMarkers",value:function(){var e=this;if(this.options.markersIndependant){for(var t in this.independantMarkers)e.groupMarkers.removeChild(this.independantMarkers[t]);this.independantMarkers={}}else this.currentMarkersSelectionType&&(this.markersDom.forEach(function(t){t.dom&&t.dom.parentNode===e.groupMarkers&&(e.groupMarkers.removeChild(t.dom),t.path="")}),this.currentMarkersSelectionType=!1)}},{key:"isMonotoneous",value:function(){return this.waveform?this.waveform.isMonotoneous():!!this.xmonotoneous}},{key:"findLocalMinMax",value:function(t,e,i){return!!this.waveform&&this.waveform.findLocalMinMax(t,e,i)}}]),n}();a.mix(d,u.default),e.default=d,t.exports=e.default},n=[t,e,i(45),i(5),i(74),i(46),i(57)],void 0===(s="function"==typeof(r=o)?r.apply(e,n):r)||(t.exports=s)},function(t,e,i){var r=i(21);t.exports=Object("z").propertyIsEnumerable(0)?Object:function(t){return"String"==r(t)?t.split(""):Object(t)}},function(t,e){e.f={}.propertyIsEnumerable},function(t,e,i){var n=i(21),s=i(6)("toStringTag"),o="Arguments"==n(function(){return arguments}());t.exports=function(t){var e,i,r;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(i=function(t,e){try{return t[e]}catch(t){}}(e=Object(t),s))?i:o?n(e):"Object"==(r=n(e))&&"function"==typeof e.callee?"Arguments":r}},function(t,e,i){var r,n,s;n=[t,e],void 0===(s="function"==typeof(r=function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};var i=function(){function r(t,e){for(var i=0;i<e.length;i++){var r=e[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(t,e,i){return e&&r(t.prototype,e),i&&r(t,i),t}}();function d(t){return!!(t&&t.indexOf&&-1<t.indexOf("px"))&&parseInt(t.replace("px",""))}var r=function(){function n(t,e,i,r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,n),"object"==(void 0===t?"undefined":s(t))?(this.x=t.x,this.y=t.y,this.dx=t.dx,this.dy=t.dy):(this.x=t,this.y=e,this.dx=i,this.dy=r)}return i(n,[{key:"duplicate",value:function(){return new n(this.x,this.y,this.dx,this.dy)}},{key:"compute",value:function(t,e,i,r){if(t&&e&&i&&t.hasXAxis&&t.hasYAxis||t.throw(),!t.hasXAxis(e))throw"Graph does not contain the x axis that was used as a parameter";if(!t.hasYAxis(i))throw"Graph does not contain the x axis that was used as a parameter";return this._compute(t,e,i,r)}},{key:"_compute",value:function(t,e,i,r){var n=this._relativeTo;if(n)var s=n._compute(t,e,i,r);var o,a={x:!1,y:!1};for(var u in e||(e=t.getXAxis()),i||(i=t.getYAxis()),a){var h="x"==u?e:i,l=this[u],c=this["d"+u];if(void 0===l&&(void 0!==c&&void 0===n||void 0===n)){if("x"==u){if(void 0===c)continue;a[u]=n?n[u]:0}else if(void 0!==this.x&&r)if(!1!==d(this.x))console.warn("You have defined x in px and not y. Makes no sense. Returning 0 for y"),a[u]=0;else try{if(!(p=r.searchClosestValue(this.x)))throw new Error("Could not find y position for x = "+this.x+' on serie "'+r.getName()+'". Returning 0 for y.');a[u]=r.getY(p.yClosest)}catch(t){console.error(t),a[u]=0}}else void 0!==l&&(a[u]=this.getPx(l,h));if(void 0!==c){var f=void 0!==l||null==s||null==s[u]?a[u]:s[u];if("y"==u&&s&&void 0!==s.x&&null==s.y){if(!r)throw new Error("Error. No serie exists. Cannot find y value");var p;(p=r.searchClosestValue(n.x))&&(f=r.getY(p.yMin))}f||(f=0),!1!==(o=d(c))?a[u]=f+o:!1!==(o=this._parsePercent(c))?a[u]=f+this._getPositionPx(o,!0,h,t):h&&(a[u]=f+h.getRelPx(c))}}return a}},{key:"_getPositionPx",value:function(t,e,i,r){var n;return!1!==(n=d(t))?n:!1!==(n=this._parsePercent(t))?n/100*(e?r.getDrawingWidth():r.getDrawingHeight()):i?i.getPos(t):void 0}},{key:"_parsePercent",value:function(t){return!!(t&&t.indexOf&&-1<t.indexOf("%"))&&t}},{key:"getDeltaPx",value:function(t,e){var i;return!1!==(i=d(t))?i+"px":e.getRelPx(t)+"px"}},{key:"deltaPosition",value:function(t,e,i){var r,n,s=this[t="y"==t?"y":"x"],o=this["d"+t];if(void 0!==s)!1!==(r=d(s))?!1!==(n=d(e))?this[t]=r+n+"px":this[t]=r+i.getRelPx(e)+"px":(s=this.getValPosition(s,i),!1!==(n=d(e))?this[t]=s+i.getRelVal(n):this[t]=s+e);else if(void 0!==o){if("y"==t&&void 0===s&&!this._relativeTo)return;!1!==(r=d(o))?!1!==(n=d(e))?this["d"+t]=r+n+"px":this["d"+t]=r+i.getRelPx(e)+"px":(o=this.getValPosition(o,i),!1!==(n=d(e))?this["d"+t]=o+i.getRelVal(n):this["d"+t]=o+e)}}},{key:"getValPosition",value:function(t,e){return"max"==t?e.getMaxValue():"min"==t?e.getMinValue():t}},{key:"getPx",value:function(t,e,i){var r,n;if("function"==typeof t)return t(e,i);if(!1!==(r=d(t)))return r;if(!1!==(r=this._parsePercent(t)))return r;if(e){if("min"==t)return e.getMinPx();if("max"==t)return e.getMaxPx();if(i)return e.getRelPx(t);if(n=t,!isNaN(parseFloat(n))&&isFinite(n))return e.getPos(t)}}},{key:"getPxRel",value:function(t,e){return this.getPx(t,e,!0)}},{key:"relativeTo",value:function(t){return this._relativeTo=n.check(t),this}}],[{key:"check",value:function(t,e){if(t instanceof n)return t;var i=new n(t);if(t&&t.relativeTo){var r=e(t.relativeTo);r&&i.relativeTo(r)}return i}}]),n}();e.default=r,t.exports=e.default})?r.apply(e,n):r)||(t.exports=s)},function(t,e,i){var r,n,s;n=[t,e],void 0===(s="function"==typeof(r=function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};function i(){}var r=i.prototype;function s(t,e){for(var i=t.length;i--;)if(t[i].listener===e)return i;return-1}function n(t){return function(){return this[t].apply(this,arguments)}}r.getListeners=function(t){var e,i,r=this._getEvents();if(t instanceof RegExp)for(i in e={},r)r.hasOwnProperty(i)&&t.test(i)&&(e[i]=r[i]);else e=r[t]||(r[t]=[]);return e},r.flattenListeners=function(t){var e,i=[];for(e=0;e<t.length;e+=1)i.push(t[e].listener);return i},r.getListenersAsObject=function(t){var e,i=this.getListeners(t);return i instanceof Array&&((e={})[t]=i),e||i},r.addListener=function(t,e){var i,r=this.getListenersAsObject(t),n="object"===(void 0===e?"undefined":a(e));for(i in r)r.hasOwnProperty(i)&&-1===s(r[i],e)&&r[i].push(n?e:{listener:e,once:!1});return this},r.on=n("addListener"),r.addOnceListener=function(t,e){return this.addListener(t,{listener:e,once:!0})},r.once=n("addOnceListener"),r.defineEvent=function(t){return this.getListeners(t),this},r.defineEvents=function(t){for(var e=0;e<t.length;e+=1)this.defineEvent(t[e]);return this},r.removeListener=function(t,e){var i,r,n=this.getListenersAsObject(t);for(r in n)n.hasOwnProperty(r)&&-1!==(i=s(n[r],e))&&n[r].splice(i,1);return this},r.off=n("removeListener"),r.addListeners=function(t,e){return this.manipulateListeners(!1,t,e)},r.removeListeners=function(t,e){return this.manipulateListeners(!0,t,e)},r.manipulateListeners=function(t,e,i){var r,n,s=t?this.removeListener:this.addListener,o=t?this.removeListeners:this.addListeners;if("object"!==(void 0===e?"undefined":a(e))||e instanceof RegExp)for(r=i.length;r--;)s.call(this,e,i[r]);else for(r in e)e.hasOwnProperty(r)&&(n=e[r])&&("function"==typeof n?s.call(this,r,n):o.call(this,r,n));return this},r.removeEvent=function(t){var e,i=void 0===t?"undefined":a(t),r=this._getEvents();if("string"===i)delete r[t];else if(t instanceof RegExp)for(e in r)r.hasOwnProperty(e)&&t.test(e)&&delete r[e];else delete this._events;return this},r.removeAllListeners=n("removeEvent"),r.emitEvent=function(t,e){var i,r,n,s=this.getListenersAsObject(t);for(n in s)if(s.hasOwnProperty(n))for(r=s[n].length;r--;)!0===(i=s[n][r]).once&&this.removeListener(t,i.listener),i.listener.apply(this,e||[])===this._getOnceReturnValue()&&this.removeListener(t,i.listener);return this},r.trigger=n("emitEvent"),r.emit=function(t){var e=Array.prototype.slice.call(arguments,1);return this.emitEvent(t,e)},r.setOnceReturnValue=function(t){return this._onceReturnValue=t,this},r._getOnceReturnValue=function(){return!this.hasOwnProperty("_onceReturnValue")||this._onceReturnValue},r._getEvents=function(){return this._events||(this._events={})},e.default=i,t.exports=e.default})?r.apply(e,n):r)||(t.exports=s)},function(t,e,i){var r,n,s,o;o=function(t,e,i,r,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=a(i),o=(function(t){{if(t&&t.__esModule)return;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);e.default=t}}(r),a(n));function a(t){return t&&t.__esModule?t:{default:t}}var u=function(){function r(t,e){for(var i=0;i<e.length;i++){var r=e[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(t,e,i){return e&&r(t.prototype,e),i&&r(t,i),t}}();var h=function(t){function n(t,e,i){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,n);var r=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(n.__proto__||Object.getPrototypeOf(n)).apply(this,arguments));return r.graph=t,r.name=e,r.options=Object.assign({},n.default(),r.constructor.default(),i),r}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(n,s.default),u(n,null,[{key:"default",value:function(){return{redrawShapesAfterDraw:!1}}}]),u(n,[{key:"postInit",value:function(){}},{key:"draw",value:function(){}},{key:"beforeDraw",value:function(){}},{key:"afterDraw",value:function(){this.options.redrawShapesAfterDraw&&this.graph.getShapesOfSerie(this).forEach(function(t){t.redraw()}),this.emit("draw")}},{key:"setData",value:function(t,e,i){if(t instanceof o.default)return this.setWaveform(t);throw"Setting data other than waveforms in not supported by default. You must implemented this method in the inherited class."}},{key:"_addData",value:function(t,e){return[]}},{key:"clearData",value:function(){return this.setData(new o.default),this}},{key:"getData",value:function(){return this.data}},{key:"setOptions",value:function(t){this.options=t||{}}},{key:"setOption",value:function(t,e){this.options[t]=e}},{key:"kill",value:function(t){return this.graph.removeSerieFromDom(this),this.graph._removeSerie(this),this.graph.legend&&!t&&this.graph.legend.update(),this.graph=void 0,this}},{key:"hide",value:function(t){var e=1<arguments.length&&void 0!==arguments[1]&&arguments[1];if(this.hidden=!0,this.groupMain.setAttribute("display","none"),this.getSymbolForLegend().setAttribute("opacity",.5),this.getTextForLegend().setAttribute("opacity",.5),this.hideImpl(),t)for(var i=this.graph.getShapesOfSerie(this),r=0,n=i.length;r<n;r++)i[r].hide();return e||this.emit("hide"),(this.getXAxis().doesHideWhenNoSeriesShown()||this.getYAxis().doesHideWhenNoSeriesShown())&&this.graph.draw(!0),this.graph.hasPlugin("peakPicking")&&this.graph.getPlugin("peakPicking").getSerie()==this&&this.graph.getPlugin("peakPicking").hidePeakPicking(),this}},{key:"show",value:function(t){var e=1<arguments.length&&void 0!==arguments[1]&&arguments[1];if(this.hidden=!1,this.groupMain.setAttribute("display","block"),this.getSymbolForLegend().setAttribute("opacity",1),this.getTextForLegend().setAttribute("opacity",1),this.showImpl(),this.draw(!0),t)for(var i=this.graph.getShapesOfSerie(this),r=0,n=i.length;r<n;r++)i[r].show();return e||this.emit("show"),(this.getXAxis().doesHideWhenNoSeriesShown()||this.getYAxis().doesHideWhenNoSeriesShown())&&this.graph.draw(!0),this.graph.hasPlugin("peakPicking")&&this.graph.getPlugin("peakPicking").getSerie()==this&&this.graph.getPlugin("peakPicking").showPeakPicking(),this}},{key:"hideImpl",value:function(){}},{key:"showImpl",value:function(){}},{key:"toggleDisplay",value:function(){return this.isShown()?this.hide():this.show(),this}},{key:"isShown",value:function(){return!this.hidden}},{key:"axisCheck",value:function(){if(!this.getXAxis()||!this.getYAxis())throw"No axis exist for this serie. Check that they were properly assigned";if(isNaN(this.getXAxis().getCurrentMin())||isNaN(this.getXAxis().getCurrentMax())||isNaN(this.getYAxis().getCurrentMin())||isNaN(this.getYAxis().getCurrentMax()))throw"Axis min and max values are not defined. Try autoscaling"}},{key:"getX",value:function(t){return(t=this.getXAxis().getPx(t))-t%.2}},{key:"getY",value:function(t){return(t=this.getYAxis().getPx(t))-t%.2}},{key:"isSelected",value:function(){return this.selected||"unselected"!==this.selectionType}},{key:"_checkX",value:function(t){this.minX=Math.min(this.minX,t),this.maxX=Math.max(this.maxX,t)}},{key:"_checkY",value:function(t){this.minY=Math.min(this.minY,t),this.maxY=Math.max(this.maxY,t)}},{key:"getName",value:function(){return this.name}},{key:"autoAxis",value:function(){return this.isFlipped()?(this.setXAxis(this.graph.getYAxis()),this.setYAxis(this.graph.getXAxis())):(this.setXAxis(this.graph.getXAxis()),this.setYAxis(this.graph.getYAxis())),this.graph.updateDataMinMaxAxes(),this}},{key:"autoAxes",value:function(){return this.autoAxis.apply(this,arguments)}},{key:"setXAxis",value:function(t){return this.xaxis="number"==typeof t?this.isFlipped()?this.graph.getYAxis(t):this.graph.getXAxis(t):t,this.graph.updateDataMinMaxAxes(),this}},{key:"setYAxis",value:function(t){return"number"==typeof t?this.xaxis=this.isFlipped()?this.graph.getXAxis(t):this.graph.getYAxis(t):this.yaxis=t,this.graph.updateDataMinMaxAxes(),this}},{key:"setAxes",value:function(){for(var t=0;t<2;t++)arguments[t]&&this[arguments[t].isX()?"setXAxis":"setYAxis"](arguments[t]);return this.graph.updateDataMinMaxAxes(),this}},{key:"getXAxis",value:function(){return this.xaxis}},{key:"getYAxis",value:function(){return this.yaxis}},{key:"getMinX",value:function(){return this.minX}},{key:"getMaxX",value:function(){return this.maxX}},{key:"getMinY",value:function(){return this.minY}},{key:"getMaxY",value:function(){return this.maxY}},{key:"getWaveform",value:function(){return this.waveform}},{key:"getWaveforms",value:function(){return[this.waveform]}},{key:"setWaveform",value:function(t){if(!(t instanceof o.default))throw console.trace(),console.error(t),new Error("Cannot assign waveform to serie. Waveform is not of the proper Waveform instance");return this.waveform=t,this.minX=this.waveform.getXMin(),this.maxX=this.waveform.getXMax(),this.minY=this.waveform.getMin(),this.maxY=this.waveform.getMax(),this.graph.updateDataMinMaxAxes(),this.dataHasChanged(),this}},{key:"getSymbolForLegend",value:function(){if(!this.lineForLegend){var t=document.createElementNS(this.graph.ns,"line");this.applyLineStyle(t),t.setAttribute("x1",5),t.setAttribute("x2",25),t.setAttribute("y1",0),t.setAttribute("y2",0),t.setAttribute("cursor","pointer"),this.lineForLegend=t}return this.lineForLegend}},{key:"setLegendSymbolStyle",value:function(){this.applyLineStyle(this.getSymbolForLegend())}},{key:"updateStyle",value:function(){this.setLegendSymbolStyle(),this.graph.updateLegend()}},{key:"getTextForLegend",value:function(){if(!this.textForLegend){var t=document.createElementNS(this.graph.ns,"text");t.setAttribute("cursor","pointer"),t.textContent=this.getLabel(),this.textForLegend=t}return this.textForLegend}},{key:"getIndex",value:function(){return this.graph.series.indexOf(this)}},{key:"getLabel",value:function(){return this.options.label||this.name}},{key:"setLabel",value:function(t){return this.options.label=t,this.textForLegend&&(this.textForLegend.textContent=t),this.graph.requireLegendUpdate(),this}},{key:"setFlip",value:function(t){return this.options.flip=t,this}},{key:"getFlip",value:function(){return this.options.flip}},{key:"isFlipped",value:function(){return this.options.flip}},{key:"setLayer",value:function(t){var e=parseInt(t)||1;return e!==this.options.layer&&(this.options.layer=e,this.graph.appendSerieToDom(this)),this}},{key:"getLayer",value:function(){return this.options.layer||1}},{key:"setStyle",value:function(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"unselected";this.styles[e]=t,this.styleHasChanged(e)}},{key:"styleHasChanged",value:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"unselected";if(this._changedStyles=this._changedStyles||{},!1===t)for(var e in this._changedStyles)this._changedStyles[e]=!1;else this._changedStyles[t||"unselected"]=!0;return this.graph.requireLegendUpdate(),this}},{key:"hasStyleChanged",value:function(t){return this._changedStyles=this._changedStyles||{},this._changedStyles[t||"unselected"]}},{key:"dataHasChanged",value:function(t){return this._dataHasChanged=void 0===t||t,this}},{key:"hasDataChanged",value:function(){return this._dataHasChanged}},{key:"setInfo",value:function(t,e){return this.infos=this.infos||{},this.infos[t]=e,this}},{key:"getInfo",value:function(t,e){return(this.infos||{})[t]}},{key:"setAdditionalData",value:function(t){return this.additionalData=t,this}},{key:"getAdditionalData",value:function(){return this.additionalData}},{key:"select",value:function(){return this.selected=!0,this}},{key:"unselect",value:function(){return this.selected=!1,this}},{key:"enableTracking",value:function(t,e){return this._tracker=!0,this._trackingCallback=t,this._trackingOutCallback=e,this}},{key:"disableTracking",value:function(){return this._trackerDom&&(this._trackerDom.remove(),this._trackerDom=null),this._tracker=!1,this._trackingCallback=null,this}},{key:"allowTrackingLine",value:function(t){t=t||{},this.graph.addSerieToTrackingLine(this,t)}},{key:"getMarkerForLegend",value:function(){return!1}},{key:"getType",value:function(){return this._type}},{key:"setDataIndices",value:function(t,e){this.categoryIndices=t,this.nbCategories=e}},{key:"hasErrors",value:function(){return!!this.waveform&&this.waveform.hasErrorBars()}},{key:"type",get:function(){return this._type}},{key:"excludedFromLegend",set:function(t){this._excludedFromLegend=t},get:function(){return!!this._excludedFromLegend}}]),n}();e.default=h,t.exports=e.default},n=[t,e,i(56),i(5),i(46)],void 0===(s="function"==typeof(r=o)?r.apply(e,n):r)||(t.exports=s)},function(t,e,i){var r=i(19),n=i(2),s="__core-js_shared__",o=n[s]||(n[s]={});(t.exports=function(t,e){return o[t]||(o[t]=void 0!==e?e:{})})("versions",[]).push({version:r.version,mode:i(33)?"pure":"global",copyright:"© 2018 Denis Pushkarev (zloirock.ru)"})},function(t,e,i){var u=i(16),h=i(9),l=i(38);t.exports=function(a){return function(t,e,i){var r,n=u(t),s=h(n.length),o=l(i,s);if(a&&e!=e){for(;o<s;)if((r=n[o++])!=r)return!0}else for(;o<s;o++)if((a||o in n)&&n[o]===e)return a||o||0;return!a&&-1}}},function(t,e){e.f=Object.getOwnPropertySymbols},function(t,e,i){var r=i(21);t.exports=Array.isArray||function(t){return"Array"==r(t)}},function(t,e,i){var r=i(4),n=i(21),s=i(6)("match");t.exports=function(t){var e;return r(t)&&(void 0!==(e=t[s])?!!e:"RegExp"==n(t))}},function(t,e,i){var s=i(6)("iterator"),o=!1;try{var r=[7][s]();r.return=function(){o=!0},Array.from(r,function(){throw 2})}catch(t){}t.exports=function(t,e){if(!e&&!o)return!1;var i=!1;try{var r=[7],n=r[s]();n.next=function(){return{done:i=!0}},r[s]=function(){return n},t(r)}catch(t){}return i}},function(t,e,i){"use strict";var r=i(1);t.exports=function(){var t=r(this),e="";return t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),t.unicode&&(e+="u"),t.sticky&&(e+="y"),e}},function(t,e,i){"use strict";var a=i(12),u=i(13),h=i(3),l=i(24),c=i(6);t.exports=function(e,t,i){var r=c(e),n=i(l,r,""[e]),s=n[0],o=n[1];h(function(){var t={};return t[r]=function(){return 7},7!=""[e](t)})&&(u(String.prototype,e,s),a(RegExp.prototype,r,2==t?function(t,e){return o.call(t,this,e)}:function(t){return o.call(t,this)}))}},function(t,e,i){var n=i(1),s=i(11),o=i(6)("species");t.exports=function(t,e){var i,r=n(t).constructor;return void 0===r||null==(i=n(r)[o])?e:s(i)}},function(t,e,i){var r=i(2).navigator;t.exports=r&&r.userAgent||""},function(t,e,i){"use strict";var v=i(2),m=i(0),x=i(13),b=i(44),k=i(32),M=i(43),S=i(42),A=i(4),_=i(3),w=i(63),P=i(47),C=i(82);t.exports=function(r,t,e,i,n,s){var o=v[r],a=o,u=n?"set":"add",h=a&&a.prototype,l={},c=function(t){var i=h[t];x(h,t,"delete"==t?function(t){return!(s&&!A(t))&&i.call(this,0===t?0:t)}:"has"==t?function(t){return!(s&&!A(t))&&i.call(this,0===t?0:t)}:"get"==t?function(t){return s&&!A(t)?void 0:i.call(this,0===t?0:t)}:"add"==t?function(t){return i.call(this,0===t?0:t),this}:function(t,e){return i.call(this,0===t?0:t,e),this})};if("function"==typeof a&&(s||h.forEach&&!_(function(){(new a).entries().next()}))){var f=new a,p=f[u](s?{}:-0,1)!=f,d=_(function(){f.has(1)}),g=w(function(t){new a(t)}),y=!s&&_(function(){for(var t=new a,e=5;e--;)t[u](e,e);return!t.has(-0)});g||(((a=t(function(t,e){S(t,a,r);var i=C(new o,t,a);return null!=e&&M(e,n,i[u],i),i})).prototype=h).constructor=a),(d||y)&&(c("delete"),c("has"),n&&c("get")),(y||p)&&c(u),s&&h.clear&&delete h.clear}else a=i.getConstructor(t,r,n,u),b(a.prototype,e),k.NEED=!0;return P(a,r),l[r]=a,m(m.G+m.W+m.F*(a!=o),l),s||i.setStrong(a,r,n),a}},function(t,e,i){for(var r,n=i(2),s=i(12),o=i(36),a=o("typed_array"),u=o("view"),h=!(!n.ArrayBuffer||!n.DataView),l=h,c=0,f="Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array".split(",");c<9;)(r=n[f[c++]])?(s(r.prototype,a,!0),s(r.prototype,u,!0)):l=!1;t.exports={ABV:h,CONSTR:l,TYPED:a,VIEW:u}},function(t,e,i){"use strict";t.exports=i(33)||!i(3)(function(){var t=Math.random();__defineSetter__.call(null,t,function(){}),delete i(2)[t]})},function(t,e,i){"use strict";var r=i(0);t.exports=function(t){r(r.S,t,{of:function(){for(var t=arguments.length,e=new Array(t);t--;)e[t]=arguments[t];return new this(e)}})}},function(t,e,i){"use strict";var r=i(0),o=i(11),a=i(20),u=i(43);t.exports=function(t){r(r.S,t,{from:function(t){var e,i,r,n,s=arguments[1];return o(this),(e=void 0!==s)&&o(s),null==t?new this:(i=[],e?(r=0,n=a(s,arguments[2],2),u(t,!1,function(t){i.push(n(t,r++))})):u(t,!1,i.push,i),new this(i))}})}},function(t,e,i){var r,n,s,o;o=function(t,e,i,r,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=u(i),o=u(r),a=function(t){{if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e.default=t,e}}(n);function u(t){return t&&t.__esModule?t:{default:t}}var h=function(){function r(t,e){for(var i=0;i<e.length;i++){var r=e[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(t,e,i){return e&&r(t.prototype,e),i&&r(t,i),t}}();var l={lineAt:!1,display:!0,flipped:!1,axisDataSpacing:{min:.1,max:.1},unitModification:!1,primaryGrid:!0,secondaryGrid:!0,primaryGridColor:"#f0f0f0",secondaryGridColor:"#f0f0f0",primaryGridWidth:1,secondaryGridWidth:1,hideWhenNoSeriesShown:!1,shiftToZero:!1,tickPosition:1,nbTicksPrimary:3,nbTicksSecondary:10,ticklabelratio:1,exponentialFactor:0,exponentialLabelFactor:0,logScale:!1,forcedMin:!1,forcedMax:!1,span:[0,1],marginMin:0,marginMax:0,scientificScale:!1,scientificScaleExponent:!1,engineeringScale:!1,unitInTicks:!1,unit:!1,unitWrapperBefore:"",unitWrapperAfter:"",splitMarks:!1,tickLabelOffset:0,useKatexForLabel:!1,highestMax:!1,lowestMin:!1},c=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,o.default),h(e,[{key:"init",value:function(t,e,i){var n=this;this.unitModificationTimeTicks=[[1,[1,2,5,10,20,30]],[60,[1,2,5,10,20,30]],[3600,[1,2,6,12]],[86400,[1,2,3,4,5,10,20,40]]],this.graph=t,this.options=a.extend(!0,{},l,i,e),this.group=document.createElementNS(this.graph.ns,"g"),this.hasChanged=!0,this.rectEvent=document.createElementNS(this.graph.ns,"rect"),this.rectEvent.setAttribute("pointer-events","fill"),this.rectEvent.setAttribute("fill","transparent"),this.group.appendChild(this.rectEvent),this.graph.axisGroup.appendChild(this.group),this._lines=[],this.line=document.createElementNS(this.graph.ns,"line"),this.line.setAttribute("stroke","black"),this.line.setAttribute("shape-rendering","crispEdges"),this.line.setAttribute("stroke-linecap","square"),this.groupTicks=document.createElementNS(this.graph.ns,"g"),this.groupTickLabels=document.createElementNS(this.graph.ns,"g"),this.group.appendChild(this.groupTicks),this.group.appendChild(this.groupTickLabels),this.group.appendChild(this.line),this.label=document.createElementNS(this.graph.ns,"text"),this.labelTspan=document.createElementNS(this.graph.ns,"tspan"),this.preunit="",this.unitTspan=document.createElementNS(this.graph.ns,"tspan"),this.expTspan=document.createElementNS(this.graph.ns,"tspan"),this.expTspanExp=document.createElementNS(this.graph.ns,"tspan"),this.label.appendChild(this.labelTspan),this.label.appendChild(this.unitTspan),this.label.appendChild(this.expTspan),this.label.appendChild(this.expTspanExp),this.expTspan.setAttribute("dx",6),this.expTspanExp.setAttribute("dy",-5),this.expTspanExp.setAttribute("font-size","0.8em"),this.label.setAttribute("text-anchor","middle"),this.setTickPosition(this.options.tickPosition),this.gridLinePath={primary:"",secondary:""},this.gridPrimary=document.createElementNS(this.graph.ns,"path"),this.gridSecondary=document.createElementNS(this.graph.ns,"path"),this.graph.groupPrimaryGrids.appendChild(this.gridPrimary),this.graph.groupSecondaryGrids.appendChild(this.gridSecondary),this.setGridLinesStyle(),this.group.appendChild(this.label),this.groupSeries=document.createElementNS(this.graph.ns,"g"),this.group.appendChild(this.groupSeries),this.widthHeightTick=0,this.ticks={},this.ticksLabels=[],this.tickScaling={1:3,2:2,3:1,4:.5},this.currentTick={},this.lastCurrentTick={},this.series=[],this.totalDelta=0,this.currentAction=!1,this.group.addEventListener("mousemove",function(t){t.preventDefault();var e=n.graph._getXY(t);n.handleMouseMoveLocal(e.x,e.y,t);for(var i=0,r=n.series.length;i<r;i++)n.series[i].handleMouseMove(!1,!0)}),this.labels=[],this.group.addEventListener("click",function(t){t.preventDefault();var e=n.graph._getXY(t);n.addLabel(n.getVal(e.x-n.graph.getPaddingLeft()))}),this.gridPrimary.setAttribute("clip-path","url(#_clipplot"+this.graph._creation+")"),this.gridSecondary.setAttribute("clip-path","url(#_clipplot"+this.graph._creation+")"),this.graph._axisHasChanged(this)}},{key:"handleMouseMoveLocal",value:function(){}},{key:"hide",value:function(){return this.options.display=!1,this}},{key:"show",value:function(){return this.options.display=!0,this}},{key:"setDisplay",value:function(t){return this.options.display=!!t,this}},{key:"isDisplayed",value:function(){return this.options.hideWhenNoSeriesShown?this.graph.getSeriesFromAxis(this).reduce(function(t,e){return t||e.isShown()},!1):this.options.display}},{key:"isShown",value:function(){return this.isDisplayed.apply(this,arguments)}},{key:"hideGroup",value:function(){this._hidden||(this._hidden=!0,this.group.setAttribute("display","none"))}},{key:"showGroup",value:function(){this._hidden&&(this._hidden=!1,this.group.setAttribute("display","initial"))}},{key:"kill",value:function(t,e){this.graph.killAxis(this,t,e)}},{key:"setLineAt",value:function(t){return this.options.lineAt=t,this}},{key:"adaptTo",value:function(t,e,i,r){return t?(this.options.adaptTo={axis:t,thisValue:e,foreignValue:i,preference:r},this.adapt()):this.options.adaptTo=!1,this}},{key:"adapt",value:function(){if(this.options.adaptTo){var t=this.options.adaptTo.axis,e=this.options.adaptTo.thisValue,i=this.options.adaptTo.foreignValue;if(void 0!==t.currentAxisMin&&void 0!==t.currentAxisMax||t.setMinMaxToFitSeries(),!1!==this.options.forcedMin&&0==this.options.forcedMax||"max"!==this.options.adaptTo.preference){!1!==this.options.forcedMin?this.currentAxisMin=this.options.forcedMin:this.currentAxisMin=this._zoomed?this.getCurrentMin():this.getMinValue()-(e-this.getMinValue())*(this.options.axisDataSpacing.min*(t.getCurrentMax()-t.getCurrentMin())/(i-t.getCurrentMin())),this.currentAxisMin==e&&(this.currentAxisMin-=this.options.axisDataSpacing.min*this.getInterval());var r=!1!==this.options.forcedMin?this.options.forcedMin:this.currentAxisMin;this.currentAxisMax=(e-r)*(t.getCurrentMax()-t.getCurrentMin())/(i-t.getCurrentMin())+r}else{!1!==this.options.forcedMax?this.currentAxisMax=this.options.forcedMax:this.currentAxisMax=this._zoomed?this.getCurrentMax():this.getMaxValue()+(this.getMaxValue()-e)*(this.options.axisDataSpacing.max*(t.getCurrentMax()-t.getCurrentMin())/(t.getCurrentMax()-i)),this.currentAxisMax==e&&(this.currentAxisMax+=this.options.axisDataSpacing.max*this.getInterval());r=!1!==this.options.forcedMax?this.options.forcedMax:this.currentAxisMax;this.currentAxisMin=(e-r)*(t.getCurrentMin()-t.getCurrentMax())/(i-t.getCurrentMax())+r}this.graph._axisHasChanged(this)}}},{key:"setFloating",value:function(t,e){return this.floating=!0,this.floatingAxis=t,this.floatingValue=e,this}},{key:"getFloatingAxis",value:function(){return this.floatingAxis}},{key:"getFloatingValue",value:function(){return this.floatingValue}},{key:"setAxisDataSpacing",value:function(t,e){return this.options.axisDataSpacing.min=t,this.options.axisDataSpacing.max=e||t,this}},{key:"dataSpacing",value:function(){return this.setAxisDataSpacing.apply(this,arguments)}},{key:"setAxisDataSpacingMin",value:function(t){this.options.axisDataSpacing.min=t}},{key:"setAxisDataSpacingMax",value:function(t){this.options.axisDataSpacing.max=t}},{key:"setMinPx",value:function(t){this.minPx=t,this.setMinMaxFlipped()}},{key:"setMaxPx",value:function(t){this.maxPx=t,this.setMinMaxFlipped()}},{key:"getMinPx",value:function(){return this.minPxFlipped}},{key:"getMaxPx",value:function(){return this.maxPxFlipped}},{key:"getMathMaxPx",value:function(){return this.maxPx}},{key:"getMathMinPx",value:function(){return this.minPx}},{key:"getMinValue",value:function(){return!1!==this.options.forcedMin?this.options.forcedMin:!1!==this.options.lowestMin?Math.max(this.options.lowestMin,this.dataMin):this.dataMin}},{key:"getMaxValue",value:function(){return!1!==this.options.forcedMax?this.options.forcedMax:!1!==this.options.highestMax?Math.min(this.options.highestMax,this.dataMax):this.dataMax}},{key:"setMinValueData",value:function(t){this.dataMin=t,isNaN(this.getCurrentMin())}},{key:"setMaxValueData",value:function(t){this.dataMax=t,isNaN(this.getCurrentMax())}},{key:"getDataMax",value:function(){return this.dataMax}},{key:"getDataMin",value:function(){return this.dataMin}},{key:"setLowestMin",value:function(t){this.options.lowestMin=t,this.graph._axisHasChanged(this)}},{key:"forceMin",value:function(t){var e=1<arguments.length&&void 0!==arguments[1]&&arguments[1];return this.options.forcedMin=t,this.setCurrentMin(e?this.getCurrentMin():void 0),this.graph._axisHasChanged(this),this}},{key:"setHighestMax",value:function(t){this.options.highestMax=t,this.graph._axisHasChanged(this)}},{key:"forceMax",value:function(t){var e=1<arguments.length&&void 0!==arguments[1]&&arguments[1];return this.options.forcedMax=t,this.setCurrentMax(e?this.getCurrentMax():void 0),this.graph._axisHasChanged(this),this}},{key:"getForcedMin",value:function(){return this.options.forcedMin}},{key:"getForcedMax",value:function(){return this.options.forcedMax}},{key:"forceToAxis",value:function(t){return t.getMaxValue&&t.getMinValue&&(this.options.forcedMin=t.getMinValue(),this.options.forcedMax=t.getMaxValue()),this}},{key:"getNbTicksPrimary",value:function(){return this.options.nbTicksPrimary}},{key:"setNbTicksPrimary",value:function(t){this.options.nbTicksPrimary=t}},{key:"getNbTicksSecondary",value:function(){return this.options.nbTicksSecondary}},{key:"setNbTicksSecondary",value:function(t){return this.options.nbTicksSecondary=t,this}},{key:"handleMouseMove",value:function(t){this.mouseVal=this.getVal(t)}},{key:"handleMouseWheel",value:function(t,e,i){t=Math.min(.2,Math.max(-.2,t)),"min"==i?i=this.getMinValue():"max"==i?i=this.getMaxValue():i||(i=0),this._doZoomVal((this.getCurrentMax()-i)*(1+t)+i,(this.getCurrentMin()-i)*(1+t)+i),this.graph.draw()}},{key:"zoom",value:function(t,e,i){if(i||!this.zoomLock)return this._doZoomVal(t,e,!0)}},{key:"_doZoomVal",value:function(t,e,i){return this._doZoom(this.getPx(t),this.getPx(e),t,e,i)}},{key:"_doZoom",value:function(t,e,i,r,n){i=void 0!==i?i:this.getVal(t),r=void 0!==r?r:this.getVal(e);return this.setCurrentMin(Math.min(i,r)),this.setCurrentMax(Math.max(i,r)),this.cacheCurrentMin(),this.cacheCurrentMax(),this.cacheInterval(),this._zoomed=!0,this.adapt(),this._hasChanged=!0,n||this.emit("zoom",[this.currentAxisMin,this.currentAxisMax,this]),this}},{key:"getSerieShift",value:function(){return this._serieShift}},{key:"getSerieScale",value:function(){return this._serieScale}},{key:"getMouseVal",value:function(){return this.mouseVal}},{key:"getUnitPerTick",value:function(t,e,i){var r=i/(e=e?Math.min(e,t/10):t/10);switch(this.options.unitModification){case"time":case"time:min.sec":var n,s=void 0,o=void 0,a=void 0,u=!1;for(s=0,n=this.unitModificationTimeTicks.length;s<n;s++){for(o=0,a=this.unitModificationTimeTicks[s][1].length;o<a;o++)if(r<this.unitModificationTimeTicks[s][0]*this.unitModificationTimeTicks[s][1][o]){u=!0;break}if(u)break}d=s!==this.unitModificationTimeTicks.length?this.unitModificationTimeTicks[s][0]*this.unitModificationTimeTicks[s][1][o]:1;break;default:var h=Math.floor(Math.log(r)/Math.log(10)),l=r*Math.pow(10,-h);this.decimals=-h;for(var c=[1,2,5,10],f=!1,p=c.length-1;0<=p;p--)(!f||Math.abs(c[p]-l)<Math.abs(f-l))&&(f=c[p]);var d=f*Math.pow(10,h)}var g=i/d;return[d,g,t/e]}},{key:"setMinMaxToFitSeries",value:function(t){var e=this.getInterval();return this.options.logScale?(this.currentAxisMin=Math.max(1e-50,.9*this.getMinValue()),this.currentAxisMax=Math.max(1e-50,1.1*this.getMaxValue())):(this.currentAxisMin=this.getMinValue(),this.currentAxisMax=this.getMaxValue(),!1===this.getForcedMin()&&(this.currentAxisMin-=this.options.axisDataSpacing.min*e),!1===this.getForcedMax()&&(this.currentAxisMax+=this.options.axisDataSpacing.max*e)),(isNaN(this.currentAxisMin)||isNaN(this.currentAxisMax))&&(this.currentAxisMax=void 0,this.currentAxisMin=void 0),this.cache(),this._zoomed=!1,this.adapt(),t||this.graph._axisHasChanged(this),this.emit("zoomOutFull",[this.currentAxisMin,this.currentAxisMax,this]),this}},{key:"getInterval",value:function(){return this.getMaxValue()-this.getMinValue()}},{key:"getCurrentInterval",value:function(){return this.cachedInterval}},{key:"getCurrentMin",value:function(){return this.cachedCurrentMin}},{key:"getCurrentMax",value:function(){return this.cachedCurrentMax}},{key:"cacheCurrentMin",value:function(){this.cachedCurrentMin=this.currentAxisMin==this.currentAxisMax?this.options.logScale?this.currentAxisMin/10:this.currentAxisMin-1:this.currentAxisMin}},{key:"cacheCurrentMax",value:function(){this.cachedCurrentMax=this.currentAxisMax==this.currentAxisMin?this.options.logScale?10*this.currentAxisMax:this.currentAxisMax+1:this.currentAxisMax}},{key:"cacheInterval",value:function(){this.cachedInterval=this.cachedCurrentMax-this.cachedCurrentMin}},{key:"cache",value:function(){this.cacheCurrentMin(),this.cacheCurrentMax(),this.cacheInterval()}},{key:"setCurrentMin",value:function(t){return(void 0===t||!1!==this.getForcedMin()&&(t<this.getForcedMin()||t<this.options.lowestMin||void 0===t))&&(t=this.getMinValue()),this.currentAxisMin=t,this.options.logScale&&(this.currentAxisMin=Math.max(1e-50,t)),this.cacheCurrentMin(),this.cacheInterval(),this.graph._axisHasChanged(this),this}},{key:"setCurrentMax",value:function(t){(void 0===t||!1!==this.getForcedMax()&&(t>this.getForcedMax()||t>this.options.highestMax||void 0===t))&&(t=this.getMaxValue()),this.currentAxisMax=t,this.options.logScale&&(this.currentAxisMax=Math.max(1e-50,t)),this.cacheCurrentMax(),this.cacheInterval(),this.graph._axisHasChanged(this)}},{key:"flip",value:function(t){return this.options.flipped=t,this.setMinMaxFlipped(),this}},{key:"isFlipped",value:function(){return this.options.flipped}},{key:"_draw",value:function(){var e=this;void 0!==this.currentAxisMin&&void 0!==this.currentAxisMax||this.setMinMaxToFitSeries(!0);var t=Math.abs(this.getMaxPx()-this.getMinPx()),i=this.getCurrentInterval();if(!this.isShown())return this.line.setAttribute("display","none"),0;this.line.setAttribute("display","block"),1==this.options.scientificScale?this.options.scientificScaleExponent?this.scientificExponent=this.options.scientificScaleExponent:this.scientificExponent=Math.floor(Math.log(Math.max(Math.abs(this.getCurrentMax()),Math.abs(this.getCurrentMin())))/Math.log(10)):this.scientificExponent=0,this.gridLinePath.primary="",this.gridLinePath.secondary="";var r=void 0;if(this.options.useKatexForLabel&&this.graph.hasKatexRenderer()){var n=this.getLabel();this.options.unitDecade&&this.options.unit&&0!==this.scientificExponent&&(this.scientificExponent=this.getEngineeringExponent(this.scientificExponent))&&(r=this.getExponentGreekLetter(this.scientificExponent))?(n+=r,this.preunitTspan.innerHTML=r,this.preunitTspan.setAttribute("display","visible"),this.unitTspan.setAttribute("dx",0),n+=" "+r+" "+this.options.unit):0===this.scientificExponent||isNaN(this.scientificExponent)||(this.options.engineeringScale&&(this.scientificExponent=this.getEngineeringExponent(this.scientificExponent)),n+=" \\cdot 10^"+this.scientificExponent+" "+this.options.unit),this.katexElement=this.graph.renderWithKatex(n,this.katexElement)}else this.options.unitDecade&&this.options.unit&&0!==this.scientificExponent&&(this.scientificExponent=this.getEngineeringExponent(this.scientificExponent))&&(r=this.getExponentGreekLetter(this.scientificExponent))?(this.preunit=r,this.unitTspan.setAttribute("dx",0)):0===this.scientificExponent||isNaN(this.scientificExponent)?(this.options.unit||this.unitTspan.setAttribute("display","none"),this.preunit="",this.expTspan.setAttribute("display","none"),this.expTspanExp.setAttribute("display","none")):(this.options.engineeringScale&&(this.scientificExponent=this.getEngineeringExponent(this.scientificExponent)),this.preunit="",this.expTspan.setAttribute("display","visible"),this.expTspanExp.setAttribute("display","visible"),this.expTspan.textContent="x10",this.expTspanExp.textContent=this.scientificExponent),this.writeUnit();if(this.options.hideTicks)s=0;else if(this.resetTicksLength(),this.linkedToAxis){this.linkedToAxis.deltaPx=10;var s=this.drawLinkedToAxisTicksWrapper(t,i)}else if(this.options.logScale)s=this.drawLogTicks();else var s=this.drawLinearTicksWrapper(t,i);return this.removeUselessTicks(),this.removeUselessTickLabels(),this.gridPrimary.setAttribute("d",this.gridLinePath.primary),this.gridSecondary.setAttribute("d",this.gridLinePath.secondary),this.graph.findAxesLinkedTo(this).forEach(function(t){t.linkedToAxis&&(t.setMinPx(e.getMinPx()),t.setMaxPx(e.getMaxPx()),t.draw())}),s}},{key:"drawLines",value:function(){var i=this;this.options.lineAt&&Array.isArray(this.options.lineAt)&&this.options.lineAt.forEach(function(t,e){!isNaN(t)&&i.getCurrentMin()<=t&&i.getCurrentMax()>=t?i._lines[e]=i._drawLine(t,i._lines[e]):i._hideLine(i._lines[e])})}},{key:"writeUnit",value:function(){this.options.unit?(this.unitTspan.setAttribute("display","visible"),this.unitTspan.setAttribute("dx",5),this.expTspan.setAttribute("display","none"),this.expTspanExp.setAttribute("display","none"),this.unitTspan.innerHTML=(this.options.unitWrapperBefore+this.preunit+this.options.unit+this.options.unitWrapperAfter).replace(/\^([-+0-9]*)(.*)/g,"<tspan dy='-5' font-size='0.7em'>$1</tspan><tspan dy='5' font-size='1em'>$2</tspan>")):this.unitTspan.setAttribute("display","none")}},{key:"getExponentGreekLetter",value:function(t){switch(t){case 3:return"k";case 6:return"M";case 9:return"G";case 12:return"T";case 15:return"E";case-3:return"m";case-6:return"&mu;";case-9:return"n";case-12:return"p";case-15:return"f";default:return""}}},{key:"drawLinearTicksWrapper",value:function(t,e){var i=void 0;return this.options.primaryTickUnit?i=this.options.primaryTickUnit:(i=this.getUnitPerTick(t,this.getNbTicksPrimary(),e)[0],this.options.maxPrimaryTickUnit&&this.options.maxPrimaryTickUnit<i?i=this.options.maxPrimaryTickUnit:this.options.minPrimaryTickUnit&&this.options.minPrimaryTickUnit>i&&(i=this.options.minPrimaryTickUnit)),this.drawTicks(i,this.secondaryTicks())}},{key:"forcePrimaryTickUnit",value:function(t){this.options.primaryTickUnit=t,this.decimals=Math.max(0,Math.round(-Math.log(t)/Math.log(10)))}},{key:"forcePrimaryTickUnitMax",value:function(t){this.options.maxPrimaryTickUnit=t}},{key:"forcePrimaryTickUnitMin",value:function(t){this.options.minPrimaryTickUnit=t}},{key:"getPrimaryTickUnit",value:function(){return this.incrTick}},{key:"setTickLabelRatio",value:function(t){this.options.ticklabelratio=t}},{key:"doesHideWhenNoSeriesShown",value:function(){return this.options.hideWhenNoSeriesShown}},{key:"draw",value:function(){this._widthLabels=0;var t=this._draw();return this._widthLabels+=t,t}},{key:"drawTicks",value:function(t,e){var i,r,n,s=t,o=this.getCurrentMin(),a=this.getCurrentMax(),u=0;for(e&&(i=s/e),r=this.options.shiftToZero?this.dataMin-Math.ceil((this.dataMin-o)/s)*s:Math.floor(o/s)*s,this.incrTick=t;r<=a&&!(1e3<++u);){if(e){n=r+i,this.subIncrTick=n;for(var h=0;n<r+s&&!(100<++h);)n<o||a<n||this.drawTickWrapper(n,!1,Math.abs(n-r-s/2)<1e-4?2:3),n+=i}r<o||a<r||this.drawTickWrapper(r,!0,1),r+=t}return this.widthHeightTick=this.getMaxSizeTick(),this.widthHeightTick}},{key:"nextTick",value:function(t,e){if(this.ticks[t]=this.ticks[t]||[],this.lastCurrentTick[t]=this.lastCurrentTick[t]||0,this.currentTick[t]=this.currentTick[t]||0,this.currentTick[t]>=this.ticks[t].length){var i=document.createElementNS(this.graph.ns,"line");this.groupTicks.appendChild(i),this.ticks[t].push(i),e(i)}i=this.ticks[t][this.currentTick[t]];return this.currentTick[t]>=this.lastCurrentTick[t]&&i.setAttribute("display","visible"),this.currentTick[t]++,i}},{key:"nextTickLabel",value:function(t){if(this.ticksLabels=this.ticksLabels||[],this.lastCurrentTickLabel=this.lastCurrentTickLabel||0,this.currentTickLabel=this.currentTickLabel||0,this.currentTickLabel>=this.ticksLabels.length){var e=document.createElementNS(this.graph.ns,"text");this.groupTickLabels.appendChild(e),this.ticksLabels.push(e),t(e)}e=this.ticksLabels[this.currentTickLabel];return this.currentTickLabel>=this.lastCurrentTickLabel&&e.setAttribute("display","visible"),this.currentTickLabel++,e}},{key:"removeUselessTicks",value:function(){for(var t in this.currentTick){for(var e=this.currentTick[t];e<this.ticks[t].length;e++)this.ticks[t][e].setAttribute("display","none");this.lastCurrentTick[t]=this.currentTick[t],this.currentTick[t]=0}}},{key:"removeUselessTickLabels",value:function(){for(var t=this.currentTickLabel;t<this.ticksLabels.length;t++)this.ticksLabels[t].setAttribute("display","none");this.lastCurrentTickLabel=this.currentTickLabel,this.currentTickLabel=0}},{key:"nextGridLine",value:function(t,e,i,r,n){(t&&this.options.primaryGrid||!t&&this.options.secondaryGrid)&&(this.gridLinePath[t?"primary":"secondary"]+="M "+e+" "+r+" L "+i+" "+n)}},{key:"setGridLineStyle",value:function(t,e){var i;t.setAttribute("shape-rendering","crispEdges"),t.setAttribute("stroke",e?this.getPrimaryGridColor():this.getSecondaryGridColor()),t.setAttribute("stroke-width",e?this.getPrimaryGridWidth():this.getSecondaryGridWidth()),t.setAttribute("stroke-opacity",e?this.getPrimaryGridOpacity():this.getSecondaryGridOpacity()),(i=e?this.getPrimaryGridDasharray():this.getSecondaryGridDasharray())&&t.setAttribute("stroke-dasharray",i)}},{key:"setGridLinesStyle",value:function(){return this.setGridLineStyle(this.gridPrimary,!0),this.setGridLineStyle(this.gridSecondary,!1),this}},{key:"resetTicksLength",value:function(){}},{key:"secondaryTicks",value:function(){return this.options.nbTicksSecondary}},{key:"drawLogTicks",value:function(){var t=this.getCurrentMin(),e=this.getCurrentMax(),i=Math.min(t,e);e=Math.max(t,e);i<1e-50&&(i=1e-50),20<Math.log(i)-Math.log(e)&&(e=Math.pow(10,20*Math.log(i)));var r={fontSize:"1.0em",exponential:!0,overwrite:!1};i<0&&(i=0);var n,s=0==i?0:Math.floor(Math.log(i)/Math.log(10));for(i=1;(n=i*Math.pow(10,s))<e;)1==i&&t<n&&this.drawTickWrapper(n,!0,1,r),10==i?(i=1,s++):(1!=i&&t<n&&this.drawTickWrapper(n,!1,2,{overwrite:"",fontSize:"0.6em"}),i++);return this.widthHeightTick=this.getMaxSizeTick(),this.widthHeightTick}},{key:"drawTickWrapper",value:function(t,e,i,r){this.drawTick(t,i,r)}},{key:"linkToAxis",value:function(t,e,i){this.linkedToAxis={axis:t,scalingFunction:e,decimals:i||1}}},{key:"drawLinkedToAxisTicksWrapper",value:function(t,e){var i,r,n,s,o=this.linkedToAxis,a=0;o.deltaPx||(o.deltaPx=10);do{if(i=o.scalingFunction(o.axis.getVal(a+this.getMinPx())),o.decimals&&(this.decimals=o.decimals),!(r=this.drawTick(i,1,{},a+this.getMinPx())))throw console.error(i,a,this.getMinPx()),new Error("Unable to draw tick. Please report the test-case");if(n=8*String(r[1].textContent).length,(s=5*Math.round(n/5))>o.deltaPx)return o.deltaPx=s,void this.drawLinkedToAxisTicksWrapper(t,e);a+=o.deltaPx}while(a<t)}},{key:"getPos",value:function(t){return this.getPx(t)}},{key:"getPx",value:function(t){if(this.options.logScale){if(t<0)return;return t=(Math.log(t)-Math.log(this.getCurrentMin()))/(Math.log(this.getCurrentMax())-Math.log(this.getCurrentMin()))*(this.getMaxPx()-this.getMinPx())+this.getMinPx()}return(t-this.getCurrentMin())/this.getCurrentInterval()*(this.getMaxPx()-this.getMinPx())+this.getMinPx()}},{key:"getRoundedPx",value:function(t){return Math.round(10*this.getPx(t))/10}},{key:"getVal",value:function(t){return this.options.logScale?Math.exp((t-this.getMinPx())/(this.getMaxPx()-this.getMinPx())*(Math.log(this.getCurrentMax())-Math.log(this.getCurrentMin()))+Math.log(this.getCurrentMin())):(t-this.getMinPx())/(this.getMaxPx()-this.getMinPx())*this.getCurrentInterval()+this.getCurrentMin()}},{key:"getRelPx",value:function(t){return t/this.getCurrentInterval()*(this.getMaxPx()-this.getMinPx())}},{key:"getRelVal",value:function(t){return t/(this.getMaxPx()-this.getMinPx())*this.getCurrentInterval()}},{key:"valueToText",value:function(t){if(this.scientificExponent)return(t/=Math.pow(10,this.scientificExponent)).toFixed(1);if(t=t*Math.pow(10,this.getExponentialFactor())*Math.pow(10,this.getExponentialLabelFactor()),this.options.shiftToZero&&(t-=this.dataMin),this.options.ticklabelratio&&(t*=this.options.ticklabelratio),this.options.unitModification)return t=this.modifyUnit(t,this.options.unitModification);var e=this.decimals-this.getExponentialFactor()-this.getExponentialLabelFactor();return isNaN(t)?"":(t=0<e?t.toFixed(e):t.toFixed(0),this.options.unitInTicks&&this.options.unit&&(t+=" "+this.options.unit),t)}},{key:"valueToHtml",value:function(t,e,i){var r,n=this.valueToText(t);return this.options.unitDecade&&this.options.unit&&0!==this.scientificExponent&&(this.scientificExponent=this.getEngineeringExponent(this.scientificExponent))&&(r=this.getExponentGreekLetter(this.scientificExponent))?n+=r:0===this.scientificExponent||isNaN(this.scientificExponent)||e||(n+="x10",n+="<sup>"+this.scientificExponent+"</sup>"),this.options.unit&&!i&&(n+=this.options.unit.replace(/\^([-+0-9]*)/g,"<sup>$1</sup>")),n}},{key:"getModifiedValue",value:function(t){return this.options.ticklabelratio&&(t*=this.options.ticklabelratio),this.options.shiftToZero&&(t-=this.getMinValue()*(this.options.ticklabelratio||1)),t}},{key:"modifyUnit",value:function(t,e){var i,r="",n=this.incrTick;switch(e){case"time":var s=this.getModifiedValue(this.getMaxValue()),o=[[60,"min"],[3600,"h"],[86400,"d"]];if(s<3600?i=0:s<86400?i=1:s<2592e3&&(i=2),!o[i])return!1;for(t/=o[i][0],r=(a=Math.floor(t))+o[i][1],i--;n<1*o[i+1][0]&&-1<i;)t=(t-a)*o[i+1][0]/o[i][0],r+=" "+(a=Math.round(t))+o[i][1],i--;break;case"time:min.sec":t/=60;var a=Math.floor(t),u=""+Math.round(60*(t-a));r=a+"."+(u=1==u.length?"0"+u:u)}return r}},{key:"getExponentialFactor",value:function(){return this.options.exponentialFactor}},{key:"setExponentialFactor",value:function(t){this.options.exponentialFactor=t}},{key:"setExponentialLabelFactor",value:function(t){this.options.exponentialLabelFactor=t}},{key:"getExponentialLabelFactor",value:function(){return this.options.exponentialLabelFactor}},{key:"setLabel",value:function(t){return this.options.labelValue=t,this}},{key:"setLabelFont",value:function(t){return this.options.labelFont=t,this}},{key:"getLabel",value:function(){return this.options.labelValue}},{key:"setSpan",value:function(t,e){return this.options.span=[t,e],this}},{key:"getSpan",value:function(){return this.options.span}},{key:"setLevel",value:function(t){return this._level=t,this}},{key:"getLevel",value:function(){return this._level}},{key:"setShift",value:function(t){this.shift=t}},{key:"getShift",value:function(){return this.shift}},{key:"setTickPosition",value:function(t){switch(t){case 3:case"outside":case s.default.TICKS_OUTSIDE:t=3;break;case 2:case"centered":case s.default.TICKS_CENTERED:t=2;break;case 1:case"inside":case s.default.TICKS_INSIDE:default:t=1}switch(this.options.tickPosition=t,this.options.tickPosition){case 3:this.tickPx1=-2,this.tickPx2=0;break;case 2:this.tickPx1=-1,this.tickPx2=1;break;default:case 1:this.tickPx1=0,this.tickPx2=2}return this}},{key:"setGrids",value:function(t){return this.options.primaryGrid=t,this.options.secondaryGrid=t,this}},{key:"setPrimaryGrid",value:function(t){return this.options.primaryGrid=t,this}},{key:"setSecondaryGrid",value:function(t){return this.options.secondaryGrid=t,this}},{key:"primaryGridOn",value:function(){return this.setPrimaryGrid(!0)}},{key:"primaryGridOff",value:function(){return this.setPrimaryGrid(!1)}},{key:"secondaryGridOn",value:function(){return this.setSecondaryGrid(!0)}},{key:"secondaryGridOff",value:function(){return this.setSecondaryGrid(!1)}},{key:"gridsOn",value:function(){return this.setGrids(!0)}},{key:"gridsOff",value:function(){return this.setGrids(!1)}},{key:"turnGridsOff",value:function(){return this.gridsOff.apply(this,arguments)}},{key:"turnGridsOn",value:function(){return this.gridsOn.apply(this,arguments)}},{key:"setColor",value:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"black";return this.options.axisColor=t,this.options.primaryTicksColor=t,this.options.secondaryTicksColor=t,this.options.ticksLabelColor=t,this.options.primaryGridColor=t,this.options.secondaryGridColor=t,this.options.labelColor=t,this}},{key:"setAxisColor",value:function(t){return this.options.axisColor=t,this}},{key:"getAxisColor",value:function(){return this.options.axisColor||"black"}},{key:"setTickLabelOffset",value:function(t){return this.options.tickLabelOffset=t,this}},{key:"setPrimaryTicksColor",value:function(t){return this.options.primaryTicksColor=t,this}},{key:"getPrimaryTicksColor",value:function(){return this.options.primaryTicksColor||"black"}},{key:"setSecondaryTicksColor",value:function(t){return this.options.secondaryTicksColor=t,this}},{key:"getSecondaryTicksColor",value:function(){return this.options.secondaryTicksColor||"black"}},{key:"setTicksLabelColor",value:function(e){return this.options.ticksLabelColor=e,Array.isArray(this.ticksLabels)&&this.ticksLabels.forEach(function(t){t.setAttribute("fill",e)}),this}},{key:"getTicksLabelColor",value:function(){return this.options.ticksLabelColor||"black"}},{key:"setPrimaryGridColor",value:function(t){return this.options.primaryGridColor=t,this.setGridLinesStyle(),this}},{key:"getPrimaryGridColor",value:function(){return this.options.primaryGridColor}},{key:"setSecondaryGridColor",value:function(t){return this.options.secondaryGridColor=t,this.setGridLinesStyle(),this}},{key:"getSecondaryGridColor",value:function(){return this.options.secondaryGridColor}},{key:"setPrimaryGridWidth",value:function(t){return this.options.primaryGridWidth=t,this.setGridLinesStyle(),this}},{key:"getPrimaryGridWidth",value:function(){return this.options.primaryGridWidth}},{key:"setSecondaryGridWidth",value:function(t){return this.options.secondaryGridWidth=t,this.setGridLinesStyle(),this}},{key:"getSecondaryGridWidth",value:function(){return this.options.secondaryGridWidth}},{key:"setPrimaryGridOpacity",value:function(t){return this.options.primaryGridOpacity=t,this}},{key:"getPrimaryGridOpacity",value:function(){return this.options.primaryGridOpacity}},{key:"setSecondaryGridOpacity",value:function(t){return this.options.secondaryGridOpacity=t,this}},{key:"getSecondaryGridOpacity",value:function(){return this.options.secondaryGridOpacity}},{key:"setPrimaryGridDasharray",value:function(t){return this.options.primaryGridDasharray=t,this}},{key:"getPrimaryGridDasharray",value:function(){return this.options.primaryGridDasharray}},{key:"setSecondaryGridDasharray",value:function(t){return this.options.secondaryGridDasharray=t,this}},{key:"getSecondaryGridDasharray",value:function(){return this.options.secondaryGridDasharray}},{key:"setLabelColor",value:function(t){return this.options.labelColor=t,this}},{key:"getLabelColor",value:function(){return this.options.labelColor}},{key:"setTickContent",value:function(t,e,i){if(i||(i={}),i.overwrite||!i.exponential)t.textContent=i.overwrite||this.valueToText(e);else{var r=Math.round(Math.log(e)/Math.log(10)),n=Math.floor(e*Math.pow(10,-r));t.textContent=1!=n?n+"x10":"10";var s=document.createElementNS(this.graph.ns,"tspan");s.textContent=r,s.setAttribute("font-size","0.7em"),s.setAttribute("dy",-5),t.appendChild(s)}i.fontSize&&t.setAttribute("font-size",i.fontSize)}},{key:"isX",value:function(){return!1}},{key:"isY",value:function(){return!1}},{key:"setUnit",value:function(t){return this.options.unit=t,this}},{key:"setUnitInTicks",value:function(t){return this.options.unitInTicks=t,this}},{key:"setUnitWrapper",value:function(t,e){return this.options.unitWrapperBefore=t,this.options.unitWrapperAfter=e,this}},{key:"setUnitDecade",value:function(t){return this.options.unitDecade=t,this}},{key:"setScientific",value:function(t){return this.options.scientificScale=t,this}},{key:"setScientificScaleExponent",value:function(t){return this.options.scientificScaleExponent=t,this}},{key:"setEngineering",value:function(t){return this.options.scientificScale=t,this.options.engineeringScale=t,this}},{key:"getEngineeringExponent",value:function(t){return t-=0<t?t%3:(3- -t%3)%3}},{key:"setLogScale",value:function(t){return this.options.logScale=t,this}},{key:"isZoomed",value:function(){return!(this.currentAxisMin==this.getMinValue()||this.currentAxisMax==this.getMaxValue())}},{key:"hasAxis",value:function(){return!1}},{key:"getType",value:function(){return null}},{key:"useKatexForLabel",value:function(){var t=!(0<arguments.length&&void 0!==arguments[0])||arguments[0];return this.options.useKatexForLabel=t,this}},{key:"zoomLock",set:function(t){this._zoomLocked=t},get:function(){return this._zoomLocked||!1}}]),e}();c.prototype.getValue=c.prototype.getVal,c.prototype.getDeltaPx=c.prototype.getRelPx,e.default=c,t.exports=e.default},n=[t,e,i(45),i(56),i(5)],void 0===(s="function"==typeof(r=o)?r.apply(e,n):r)||(t.exports=s)},function(t,e,i){var r,n,s,o;o=function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var u=function(t){{if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e.default=t,e}}(i);var r={makeBarY:function(t,e,i){if(t&&void 0!==i){var r=u.isNumeric(i.width)?i.width:10;return" V "+t+" m -"+r/2+" 0 h "+r+" m -"+r/2+" 0 V "+e+" "}},makeBoxY:function(t,e,i){if(t&&void 0!==i)return" m 5 0 V "+t+" h -10 V "+e+" m 5 0 "},makeBarX:function(t,e,i){if(t&&void 0!==i){var r=u.isNumeric(i.width)?i.width:10;return" H "+t+" m 0 -"+r/2+" v "+r+" m 0 -"+r/2+" H "+e+" "}},makeBoxX:function(t,e,i){if(t&&void 0!==i)return" v 5 H "+t+" v -10 H "+e+" v 5 "},setErrorBarStyle:function(t){return this.errorbarStyle=this._setErrorStyle(t),this},setErrorBoxStyle:function(t){return this.errorboxStyle=this._setErrorStyle(t),this},_setErrorStyle:function(){var t,e=this,i=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},r=[],n=[["y","top","bottom"],["x","left","right"]];r={};"string"==typeof i&&(i={});for(var s=0,o=n.length;s<o;s++){i.all&&(i[n[s][1]]=u.extend(!0,{},i.all),i[n[s][2]]=u.extend(!0,{},i.all)),i[n[s][0]]&&(i[n[s][1]]=u.extend(!0,{},i[n[s][0]]),i[n[s][2]]=u.extend(!0,{},i[n[s][0]]));for(var a=1;a<=2;a++)i[n[s][a]]&&(r[n[s][a]]=i[n[s][a]],(t=r[n[s][a]]).dom=document.createElementNS(e.graph.ns,"path"),t.dom.setAttribute("fill",t.fillColor||"none"),t.dom.setAttribute("stroke",t.strokeColor||"black"),t.dom.setAttribute("stroke-opacity",t.strokeOpacity||1),t.dom.setAttribute("fill-opacity",t.fillOpacity||1),t.dom.setAttribute("stroke-width",t.strokeWidth||1),e.groupMain.appendChild(t.dom))}return r},errorDrawInit:function(){this.errorboxStyle&&(this.errorboxStyle.paths={top:"",bottom:"",left:"",right:""}),this.errorbarStyle&&(this.errorbarStyle.paths={top:"",bottom:"",left:"",right:""})},errorAddPoint:function(t,e,i,r,n){var s=void 0;(s=this.waveform.getErrorBarXBelow(t))&&(this.errorbarStyle.paths.left+=" M "+r+" "+n,this.errorbarStyle.paths.left+=this.makeBarX(this.getX(e-s),r,this.errorbarStyle.left)),(s=this.waveform.getErrorBarXAbove(t))&&(this.errorbarStyle.paths.right+=" M "+r+" "+n,this.errorbarStyle.paths.right+=this.makeBarX(this.getX(e+s),r,this.errorbarStyle.right)),(s=this.waveform.getErrorBarYBelow(t))&&(this.errorbarStyle.paths.bottom+=" M "+r+" "+n,this.errorbarStyle.paths.bottom+=this.makeBarY(this.getY(i-s),n,this.errorbarStyle.bottom)),(s=this.waveform.getErrorBarYAbove(t))&&(this.errorbarStyle.paths.top+=" M "+r+" "+n,this.errorbarStyle.paths.top+=this.makeBarY(this.getY(i+s),n,this.errorbarStyle.top)),(s=this.waveform.getErrorBoxXBelow(t))&&(this.errorboxStyle.paths.left+=" M "+r+" "+n,this.errorboxStyle.paths.left+=this.makeBoxX(this.getX(e-s),r,this.errorboxStyle.left)),(s=this.waveform.getErrorBoxXAbove(t))&&(this.errorboxStyle.paths.right+=" M "+r+" "+n,this.errorboxStyle.paths.right+=this.makeBoxX(this.getX(e+s),r,this.errorboxStyle.right)),(s=this.waveform.getErrorBoxYBelow(t))&&(this.errorboxStyle.paths.bottom+=" M "+r+" "+n,this.errorboxStyle.paths.bottom+=this.makeBoxY(this.getY(i-s),n,this.errorboxStyle.bottom)),(s=this.waveform.getErrorBoxYAbove(t))&&(this.errorboxStyle.paths.top+=" M "+r+" "+n,this.errorboxStyle.paths.top+=this.makeBoxY(this.getY(i+s),n,this.errorboxStyle.top))},errorAddPointBarChart:function(t,e,i,r){var n;this.error&&(n=this.error[t])&&this.doErrorDraw("y",n,e,r,i,r)},errorDraw:function(){if(this.errorbarStyle)for(var t in this.errorbarStyle.paths)this.errorbarStyle[t]&&this.errorbarStyle[t].dom&&this.errorbarStyle[t].dom.setAttribute("d",this.errorbarStyle.paths[t]);if(this.errorboxStyle)for(var t in this.errorboxStyle.paths)this.errorboxStyle[t]&&this.errorboxStyle[t].dom&&this.errorboxStyle[t].dom.setAttribute("d",this.errorboxStyle.paths[t])}};e.default=r,t.exports=e.default},n=[t,e,i(5)],void 0===(s="function"==typeof(r=o)?r.apply(e,n):r)||(t.exports=s)},function(t,e,i){var r=i(4),n=i(2).document,s=r(n)&&r(n.createElement);t.exports=function(t){return s?n.createElement(t):{}}},function(t,e,i){var r=i(2),n=i(19),s=i(33),o=i(105),a=i(8).f;t.exports=function(t){var e=n.Symbol||(n.Symbol=s?{}:r.Symbol||{});"_"==t.charAt(0)||t in e||a(e,t,{value:o.f(t)})}},function(t,e,i){var r=i(58)("keys"),n=i(36);t.exports=function(t){return r[t]||(r[t]=n(t))}},function(t,e){t.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(t,e,i){var r=i(2).document;t.exports=r&&r.documentElement},function(t,e,n){var i=n(4),r=n(1),s=function(t,e){if(r(t),!i(e)&&null!==e)throw TypeError(e+": can't set as prototype!")};t.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(t,i,r){try{(r=n(20)(Function.call,n(17).f(Object.prototype,"__proto__").set,2))(t,[]),i=!(t instanceof Array)}catch(t){i=!0}return function(t,e){return s(t,e),i?t.__proto__=e:r(t,e),t}}({},!1):void 0),check:s}},function(t,e){t.exports="\t\n\v\f\r   ᠎             　\u2028\u2029\ufeff"},function(t,e,i){var s=i(4),o=i(80).set;t.exports=function(t,e,i){var r,n=e.constructor;return n!==i&&"function"==typeof n&&(r=n.prototype)!==i.prototype&&s(r)&&o&&o(t,r),t}},function(t,e,i){"use strict";var n=i(25),s=i(24);t.exports=function(t){var e=String(s(this)),i="",r=n(t);if(r<0||r==1/0)throw RangeError("Count can't be negative");for(;0<r;(r>>>=1)&&(e+=e))1&r&&(i+=e);return i}},function(t,e){t.exports=Math.sign||function(t){return 0==(t=+t)||t!=t?t:t<0?-1:1}},function(t,e){var i=Math.expm1;t.exports=!i||22025.465794806718<i(10)||i(10)<22025.465794806718||-2e-17!=i(-2e-17)?function(t){return 0==(t=+t)?t:-1e-6<t&&t<1e-6?t+t*t/2:Math.exp(t)-1}:i},function(t,e,i){var u=i(25),h=i(24);t.exports=function(a){return function(t,e){var i,r,n=String(h(t)),s=u(e),o=n.length;return s<0||o<=s?a?"":void 0:(i=n.charCodeAt(s))<55296||56319<i||s+1===o||(r=n.charCodeAt(s+1))<56320||57343<r?a?n.charAt(s):i:a?n.slice(s,s+2):r-56320+(i-55296<<10)+65536}}},function(t,e,i){"use strict";var x=i(33),b=i(0),k=i(13),M=i(12),S=i(49),A=i(88),_=i(47),w=i(18),P=i(6)("iterator"),C=!([].keys&&"next"in[].keys()),L="values",O=function(){return this};t.exports=function(t,e,i,r,n,s,o){A(i,e,r);var a,u,h,l=function(t){if(!C&&t in d)return d[t];switch(t){case"keys":case L:return function(){return new i(this,t)}}return function(){return new i(this,t)}},c=e+" Iterator",f=n==L,p=!1,d=t.prototype,g=d[P]||d["@@iterator"]||n&&d[n],y=g||l(n),v=n?f?l("entries"):y:void 0,m="Array"==e&&d.entries||g;if(m&&(h=w(m.call(new t)))!==Object.prototype&&h.next&&(_(h,c,!0),x||"function"==typeof h[P]||M(h,P,O)),f&&g&&g.name!==L&&(p=!0,y=function(){return g.call(this)}),x&&!o||!C&&!p&&d[P]||M(d,P,y),S[e]=y,S[c]=O,n)if(a={values:f?y:l(L),keys:s?y:l("keys"),entries:v},o)for(u in a)u in d||k(d,u,a[u]);else b(b.P+b.F*(C||p),e,a);return a}},function(t,e,i){"use strict";var r=i(39),n=i(35),s=i(47),o={};i(12)(o,i(6)("iterator"),function(){return this}),t.exports=function(t,e,i){t.prototype=r(o,{next:n(1,i)}),s(t,e+" Iterator")}},function(t,e,i){var r=i(62),n=i(24);t.exports=function(t,e,i){if(r(e))throw TypeError("String#"+i+" doesn't accept regex!");return String(n(t))}},function(t,e,i){var r=i(6)("match");t.exports=function(e){var i=/./;try{"/./"[e](i)}catch(t){try{return i[r]=!1,!"/./"[e](i)}catch(t){}}return!0}},function(t,e,i){var r=i(49),n=i(6)("iterator"),s=Array.prototype;t.exports=function(t){return void 0!==t&&(r.Array===t||s[n]===t)}},function(t,e,i){"use strict";var r=i(8),n=i(35);t.exports=function(t,e,i){e in t?r.f(t,e,n(0,i)):t[e]=i}},function(t,e,i){var r=i(54),n=i(6)("iterator"),s=i(49);t.exports=i(19).getIteratorMethod=function(t){if(null!=t)return t[n]||t["@@iterator"]||s[r(t)]}},function(t,e,i){var r=i(237);t.exports=function(t,e){return new(r(t))(e)}},function(t,e,i){"use strict";var a=i(10),u=i(38),h=i(9);t.exports=function(t){for(var e=a(this),i=h(e.length),r=arguments.length,n=u(1<r?arguments[1]:void 0,i),s=2<r?arguments[2]:void 0,o=void 0===s?i:u(s,i);n<o;)e[n++]=t;return e}},function(t,e,i){"use strict";var r=i(34),n=i(121),s=i(49),o=i(16);t.exports=i(87)(Array,"Array",function(t,e){this._t=o(t),this._i=0,this._k=e},function(){var t=this._t,e=this._k,i=this._i++;return!t||i>=t.length?(this._t=void 0,n(1)):n(0,"keys"==e?i:"values"==e?t[i]:[i,t[i]])},"values"),s.Arguments=s.Array,r("keys"),r("values"),r("entries")},function(t,e,i){var r,n,s,o=i(20),a=i(111),u=i(79),h=i(75),l=i(2),c=l.process,f=l.setImmediate,p=l.clearImmediate,d=l.MessageChannel,g=l.Dispatch,y=0,v={},m="onreadystatechange",x=function(){var t=+this;if(v.hasOwnProperty(t)){var e=v[t];delete v[t],e()}},b=function(t){x.call(t.data)};f&&p||(f=function(t){for(var e=[],i=1;arguments.length>i;)e.push(arguments[i++]);return v[++y]=function(){a("function"==typeof t?t:Function(t),e)},r(y),y},p=function(t){delete v[t]},"process"==i(21)(c)?r=function(t){c.nextTick(o(x,t,1))}:g&&g.now?r=function(t){g.now(o(x,t,1))}:d?(s=(n=new d).port2,n.port1.onmessage=b,r=o(s.postMessage,s,1)):l.addEventListener&&"function"==typeof postMessage&&!l.importScripts?(r=function(t){l.postMessage(t+"","*")},l.addEventListener("message",b,!1)):r=m in h("script")?function(t){u.appendChild(h("script"))[m]=function(){u.removeChild(this),x.call(t)}}:function(t){setTimeout(o(x,t,1),0)}),t.exports={set:f,clear:p}},function(t,e,i){var a=i(2),u=i(97).set,h=a.MutationObserver||a.WebKitMutationObserver,l=a.process,c=a.Promise,f="process"==i(21)(l);t.exports=function(){var i,r,n,t=function(){var t,e;for(f&&(t=l.domain)&&t.exit();i;){e=i.fn,i=i.next;try{e()}catch(t){throw i?n():r=void 0,t}}r=void 0,t&&t.enter()};if(f)n=function(){l.nextTick(t)};else if(!h||a.navigator&&a.navigator.standalone)if(c&&c.resolve){var e=c.resolve(void 0);n=function(){e.then(t)}}else n=function(){u.call(a,t)};else{var s=!0,o=document.createTextNode("");new h(t).observe(o,{characterData:!0}),n=function(){o.data=s=!s}}return function(t){var e={fn:t,next:void 0};r&&(r.next=e),i||(i=e,n()),r=e}}},function(t,e,i){"use strict";var n=i(11);function r(t){var i,r;this.promise=new t(function(t,e){if(void 0!==i||void 0!==r)throw TypeError("Bad Promise constructor");i=t,r=e}),this.resolve=n(i),this.reject=n(r)}t.exports.f=function(t){return new r(t)}},function(t,e,i){"use strict";var r=i(2),n=i(7),s=i(33),o=i(69),a=i(12),u=i(44),h=i(3),l=i(42),c=i(25),f=i(9),p=i(130),d=i(40).f,g=i(8).f,y=i(95),v=i(47),m="ArrayBuffer",x="DataView",b="prototype",k="Wrong index!",M=r[m],S=r[x],A=r.Math,_=r.RangeError,w=r.Infinity,P=M,C=A.abs,L=A.pow,O=A.floor,E=A.log,T=A.LN2,X="byteLength",D="byteOffset",j=n?"_b":"buffer",I=n?"_l":X,N=n?"_o":D;function Y(t,e,i){var r,n,s,o=new Array(i),a=8*i-e-1,u=(1<<a)-1,h=u>>1,l=23===e?L(2,-24)-L(2,-77):0,c=0,f=t<0||0===t&&1/t<0?1:0;for((t=C(t))!=t||t===w?(n=t!=t?1:0,r=u):(r=O(E(t)/T),t*(s=L(2,-r))<1&&(r--,s*=2),2<=(t+=1<=r+h?l/s:l*L(2,1-h))*s&&(r++,s/=2),u<=r+h?(n=0,r=u):1<=r+h?(n=(t*s-1)*L(2,e),r+=h):(n=t*L(2,h-1)*L(2,e),r=0));8<=e;o[c++]=255&n,n/=256,e-=8);for(r=r<<e|n,a+=e;0<a;o[c++]=255&r,r/=256,a-=8);return o[--c]|=128*f,o}function F(t,e,i){var r,n=8*i-e-1,s=(1<<n)-1,o=s>>1,a=n-7,u=i-1,h=t[u--],l=127&h;for(h>>=7;0<a;l=256*l+t[u],u--,a-=8);for(r=l&(1<<-a)-1,l>>=-a,a+=e;0<a;r=256*r+t[u],u--,a-=8);if(0===l)l=1-o;else{if(l===s)return r?NaN:h?-w:w;r+=L(2,e),l-=o}return(h?-1:1)*r*L(2,l-e)}function B(t){return t[3]<<24|t[2]<<16|t[1]<<8|t[0]}function R(t){return[255&t]}function H(t){return[255&t,t>>8&255]}function W(t){return[255&t,t>>8&255,t>>16&255,t>>24&255]}function z(t){return Y(t,52,8)}function V(t){return Y(t,23,4)}function G(t,e,i){g(t[b],e,{get:function(){return this[i]}})}function U(t,e,i,r){var n=p(+i);if(n+e>t[I])throw _(k);var s=t[j]._b,o=n+t[N],a=s.slice(o,o+e);return r?a:a.reverse()}function Z(t,e,i,r,n,s){var o=p(+i);if(o+e>t[I])throw _(k);for(var a=t[j]._b,u=o+t[N],h=r(+n),l=0;l<e;l++)a[u+l]=h[s?l:e-l-1]}if(o.ABV){if(!h(function(){M(1)})||!h(function(){new M(-1)})||h(function(){return new M,new M(1.5),new M(NaN),M.name!=m})){for(var q,K=(M=function(t){return l(this,M),new P(p(t))})[b]=P[b],J=d(P),Q=0;J.length>Q;)(q=J[Q++])in M||a(M,q,P[q]);s||(K.constructor=M)}var $=new S(new M(2)),tt=S[b].setInt8;$.setInt8(0,2147483648),$.setInt8(1,2147483649),!$.getInt8(0)&&$.getInt8(1)||u(S[b],{setInt8:function(t,e){tt.call(this,t,e<<24>>24)},setUint8:function(t,e){tt.call(this,t,e<<24>>24)}},!0)}else M=function(t){l(this,M,m);var e=p(t);this._b=y.call(new Array(e),0),this[I]=e},S=function(t,e,i){l(this,S,x),l(t,M,x);var r=t[I],n=c(e);if(n<0||r<n)throw _("Wrong offset!");if(r<n+(i=void 0===i?r-n:f(i)))throw _("Wrong length!");this[j]=t,this[N]=n,this[I]=i},n&&(G(M,X,"_l"),G(S,"buffer","_b"),G(S,X,"_l"),G(S,D,"_o")),u(S[b],{getInt8:function(t){return U(this,1,t)[0]<<24>>24},getUint8:function(t){return U(this,1,t)[0]},getInt16:function(t){var e=U(this,2,t,arguments[1]);return(e[1]<<8|e[0])<<16>>16},getUint16:function(t){var e=U(this,2,t,arguments[1]);return e[1]<<8|e[0]},getInt32:function(t){return B(U(this,4,t,arguments[1]))},getUint32:function(t){return B(U(this,4,t,arguments[1]))>>>0},getFloat32:function(t){return F(U(this,4,t,arguments[1]),23,4)},getFloat64:function(t){return F(U(this,8,t,arguments[1]),52,8)},setInt8:function(t,e){Z(this,1,t,R,e)},setUint8:function(t,e){Z(this,1,t,R,e)},setInt16:function(t,e){Z(this,2,t,H,e,arguments[2])},setUint16:function(t,e){Z(this,2,t,H,e,arguments[2])},setInt32:function(t,e){Z(this,4,t,W,e,arguments[2])},setUint32:function(t,e){Z(this,4,t,W,e,arguments[2])},setFloat32:function(t,e){Z(this,4,t,V,e,arguments[2])},setFloat64:function(t,e){Z(this,8,t,z,e,arguments[2])}});v(M,m),v(S,x),a(S[b],o.VIEW,!0),e[m]=M,e[x]=S},function(t,e,i){var r,n,s,o;o=function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r,s=(r=i)&&r.__esModule?r:{default:r};var o=function(){function r(t,e){for(var i=0;i<e.length;i++){var r=e[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(t,e,i){return e&&r(t.prototype,e),i&&r(t,i),t}}();var n=function(t){function n(t,e){var i=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{};!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,n);var r=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,t,e,i));return r.top="top"==e,r}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(n,s.default),o(n,[{key:"getAxisPosition",value:function(){if(!this.options.display)return 0;var t=void 0;return 0==this.options.tickLabelOffset?(t=1==this.options.tickPosition?8:20,t+=1*this.graph.options.fontSize):t=1==this.options.tickPosition?0:12,this.getLabel()&&(t+=this.graph.options.fontSize),t}},{key:"isX",value:function(){return!0}},{key:"isY",value:function(){return!1}},{key:"setShift",value:function(t){this.shift=t,void 0!==this.getShift()&&this.graph.getDrawingHeight()&&this.group.setAttribute("transform","translate(0 "+(this.floating?this.getShift():this.top?this.shift:this.graph.getDrawingHeight()-this.shift)+")")}},{key:"getMaxSizeTick",value:function(){return(this.top?-1:1)*(this.options.tickPosition,10)}},{key:"drawTick",value:function(t,e,i,r){var n,s=this,o=this;if(null!=(n=r||this.getPos(t))&&!isNaN(n)){var a=this.nextTick(e,function(t){t.setAttribute("y1",(o.top?1:-1)*o.tickPx1*o.tickScaling[e]),t.setAttribute("y2",(o.top?1:-1)*o.tickPx2*o.tickScaling[e]),1==e?t.setAttribute("stroke",o.getPrimaryTicksColor()):t.setAttribute("stroke",o.getSecondaryTicksColor())});if(a.setAttribute("x1",n),a.setAttribute("x2",n),this.nextGridLine(1==e,n,n,0,this.graph.getDrawingHeight()),1==e){var u=this.nextTickLabel(function(t){t.setAttribute("y",(o.top?-1:1)*((1==o.options.tickPosition?8:20)+(o.top?10:0))+s.options.tickLabelOffset),t.setAttribute("text-anchor","middle"),"black"!==o.getTicksLabelColor()&&t.setAttribute("fill",o.getTicksLabelColor()),t.style.dominantBaseline="hanging"});u.setAttribute("x",n),this.setTickContent(u,t,i)}return[a,u]}}},{key:"drawLabel",value:function(){"black"!==this.getLabelColor()&&this.label.setAttribute("fill",this.getLabelColor()),this.options.labelFont&&this.label.setAttribute("font-family",this.options.labelFont),this.label.setAttribute("text-anchor","middle"),this.label.setAttribute("style","display: initial;"),this.label.setAttribute("x",Math.abs(this.getMaxPx()+this.getMinPx())/2),this.label.setAttribute("y",(this.top?-1:1)*((1==this.options.tickPosition?10:25)+this.graph.options.fontSize)),this.labelTspan.textContent=this.getLabel()}},{key:"draw",value:function(){var t=function t(e,i,r){null===e&&(e=Function.prototype);var n=Object.getOwnPropertyDescriptor(e,i);if(void 0===n){var s=Object.getPrototypeOf(e);return null===s?void 0:t(s,i,r)}if("value"in n)return n.value;var o=n.get;return void 0!==o?o.call(r):void 0}(n.prototype.__proto__||Object.getPrototypeOf(n.prototype),"draw",this).apply(this,arguments);return this.drawSpecifics(),t}},{key:"drawSpecifics",value:function(){this.drawLabel(),this.line.setAttribute("x1",this.getMinPx()),this.line.setAttribute("x2",this.getMaxPx()),this.line.setAttribute("y1",0),this.line.setAttribute("y2",0),this.line.setAttribute("stroke",this.getAxisColor()),this.top||(this.labelTspan.style.dominantBaseline="hanging",this.expTspan.style.dominantBaseline="hanging",this.expTspanExp.style.dominantBaseline="hanging",this.unitTspan.style.dominantBaseline="hanging");var t=this.getSpan();this.line.setAttribute("marker-start",this.options.splitMarks&&0!=t[0]?"url(#horionzalsplit_"+this.graph.getId()+")":""),this.line.setAttribute("marker-end",this.options.splitMarks&&1!=t[1]?"url(#horionzalsplit_"+this.graph.getId()+")":"")}},{key:"_drawLine",value:function(t,e){var i=this.getPx(t);return e?e.setAttribute("display","initial"):e=document.createElementNS(this.graph.ns,"line"),e.setAttribute("x1",i),e.setAttribute("x2",i),e.setAttribute("y1",0),e.setAttribute("y2",this.graph.drawingSpaceHeight),e.setAttribute("stroke","black"),this.group.appendChild(e),e}},{key:"_hideLine",value:function(t){t&&t.setAttribute("display","none")}},{key:"handleMouseMoveLocal",value:function(t){t-=this.graph.getPaddingLeft(),this.mouseVal=this.getVal(t)}},{key:"setMinMaxFlipped",value:function(){var t=this.maxPx-this.minPx;if(!isNaN(t)){var e=t*this.options.span[1]+this.minPx-this.options.marginMax,i=t*this.options.span[0]+this.minPx+this.options.marginMin;this.minPxFlipped=this.isFlipped()?e:i,this.maxPxFlipped=this.isFlipped()?i:e}}},{key:"getZProj",value:function(t){return t*this.graph.options.zAxis.shiftX}}]),n}();e.default=n,t.exports=e.default},n=[t,e,i(73)],void 0===(s="function"==typeof(r=o)?r.apply(e,n):r)||(t.exports=s)},function(t,e,i){var r,n,s,o;o=function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r,n=(r=i)&&r.__esModule?r:{default:r};var s=function(){function r(t,e){for(var i=0;i<e.length;i++){var r=e[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(t,e,i){return e&&r(t.prototype,e),i&&r(t,i),t}}();var o=function(t){function i(t,e){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(i.__proto__||Object.getPrototypeOf(i)).call(this,t,e))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(i,n.default),s(i,[{key:"createDom",value:function(){this._dom=document.createElementNS(this.graph.ns,"line"),this.getStrokeColor()||this.setStrokeColor("black"),this.getStrokeWidth()||this.setStrokeWidth(1)}},{key:"createHandles",value:function(){this._createHandles(2,"rect",{transform:"translate(-3 -3)",width:6,height:6,stroke:"black",fill:"white",cursor:"nwse-resize"})}},{key:"applyPosition",value:function(){var t=this.calculatePosition(0),e=this.calculatePosition(1);if(t&&t.x&&t.y)return this.setDom("x2",t.x),this.setDom("y2",t.y),this.setDom("y1",e.y),this.setDom("x1",e.x),this.currentPos2x=e.x,this.currentPos2y=e.y,this.currentPos1x=t.x,this.currentPos1y=t.y,!0}},{key:"handleMouseMoveImpl",value:function(t,e,i,r,n){if(!this.isLocked()){var s,o=this.getPosition(0),a=this.getPosition(1);if(1==this.handleSelected?s=o:2==this.handleSelected&&(s=a),s&&(this._data.vertical||s.deltaPosition("x",e,this.getXAxis()),this._data.horizontal||s.deltaPosition("y",i,this.getYAxis())),this.moving&&(console.log(this._data),o.x&&!this._data.noX&&o.deltaPosition("x",e,this.getXAxis()),o.y&&!this._data.noY&&o.deltaPosition("y",i,this.getYAxis()),a.x&&!this._data.noX&&a.deltaPosition("x",e,this.getXAxis()),a.y&&!this._data.noY&&a.deltaPosition("y",i,this.getYAxis())),this._data.forcedCoords){var u=this._data.forcedCoords;void 0!==u.y&&("function"==typeof u.y?a.y=o.y=u.y(this):(a.y=u.y,o.y=u.y)),void 0!==u.x&&("function"==typeof u.x?a.x=o.x=u.x(this):(a.x=u.x,o.x=u.x))}return this.rectEvent&&this.setEventReceptacle(),this.redraw(),this.changed(),this.setHandles(),!0}}},{key:"setHandles",value:function(){this.areHandlesInDom()&&(isNaN(this.currentPos1x)||(this.handles[1].setAttribute("x",this.currentPos1x),this.handles[1].setAttribute("y",this.currentPos1y),this.handles[2].setAttribute("x",this.currentPos2x),this.handles[2].setAttribute("y",this.currentPos2y)))}},{key:"setEventReceptacle",value:function(){this.currentPos1x&&(this.rectEvent||(this.rectEvent=document.createElementNS(this.graph.ns,"line"),this.rectEvent.setAttribute("pointer-events","stroke"),this.rectEvent.setAttribute("stroke","transparent"),(this.rectEvent.jsGraphIsShape=this).group.appendChild(this.rectEvent)),this.rectEvent.setAttribute("x1",this.currentPos1x),this.rectEvent.setAttribute("y1",this.currentPos1y),this.rectEvent.setAttribute("x2",this.currentPos2x),this.rectEvent.setAttribute("y2",this.currentPos2y),this.rectEvent.setAttribute("stroke-width",this.getProp("strokeWidth")+2))}}]),i}();e.default=o,t.exports=e.default},n=[t,e,i(28)],void 0===(s="function"==typeof(r=o)?r.apply(e,n):r)||(t.exports=s)},function(Psa,Qsa){var Rsa;Rsa=function(){return this}();try{Rsa=Rsa||Function("return this")()||eval("this")}catch(t){"object"==typeof window&&(Rsa=window)}Psa.exports=Rsa},function(t,e,i){t.exports=!i(7)&&!i(3)(function(){return 7!=Object.defineProperty(i(75)("div"),"a",{get:function(){return 7}}).a})},function(t,e,i){e.f=i(6)},function(t,e,i){var o=i(15),a=i(16),u=i(59)(!1),h=i(77)("IE_PROTO");t.exports=function(t,e){var i,r=a(t),n=0,s=[];for(i in r)i!=h&&o(r,i)&&s.push(i);for(;e.length>n;)o(r,i=e[n++])&&(~u(s,i)||s.push(i));return s}},function(t,e,i){var o=i(8),a=i(1),u=i(37);t.exports=i(7)?Object.defineProperties:function(t,e){a(t);for(var i,r=u(e),n=r.length,s=0;s<n;)o.f(t,i=r[s++],e[i]);return t}},function(t,e,i){var r=i(16),n=i(40).f,s={}.toString,o="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];t.exports.f=function(t){return o&&"[object Window]"==s.call(t)?function(t){try{return n(t)}catch(t){return o.slice()}}(t):n(r(t))}},function(t,e,i){"use strict";var f=i(37),p=i(60),d=i(53),g=i(10),y=i(52),n=Object.assign;t.exports=!n||i(3)(function(){var t={},e={},i=Symbol(),r="abcdefghijklmnopqrst";return t[i]=7,r.split("").forEach(function(t){e[t]=t}),7!=n({},t)[i]||Object.keys(n({},e)).join("")!=r})?function(t,e){for(var i=g(t),r=arguments.length,n=1,s=p.f,o=d.f;n<r;)for(var a,u=y(arguments[n++]),h=s?f(u).concat(s(u)):f(u),l=h.length,c=0;c<l;)o.call(u,a=h[c++])&&(i[a]=u[a]);return i}:n},function(t,e,i){"use strict";var s=i(11),o=i(4),a=i(111),u=[].slice,h={};t.exports=Function.bind||function(e){var i=s(this),r=u.call(arguments,1),n=function(){var t=r.concat(u.call(arguments));return this instanceof n?function(t,e,i){if(!(e in h)){for(var r=[],n=0;n<e;n++)r[n]="a["+n+"]";h[e]=Function("F,a","return new F("+r.join(",")+")")}return h[e](t,i)}(i,t.length,t):a(i,t,e)};return o(i.prototype)&&(n.prototype=i.prototype),n}},function(t,e){t.exports=function(t,e,i){var r=void 0===i;switch(e.length){case 0:return r?t():t.call(i);case 1:return r?t(e[0]):t.call(i,e[0]);case 2:return r?t(e[0],e[1]):t.call(i,e[0],e[1]);case 3:return r?t(e[0],e[1],e[2]):t.call(i,e[0],e[1],e[2]);case 4:return r?t(e[0],e[1],e[2],e[3]):t.call(i,e[0],e[1],e[2],e[3])}return t.apply(i,e)}},function(t,e,i){var r=i(2).parseInt,n=i(48).trim,s=i(81),o=/^[-+]?0[xX]/;t.exports=8!==r(s+"08")||22!==r(s+"0x16")?function(t,e){var i=n(String(t),3);return r(i,e>>>0||(o.test(i)?16:10))}:r},function(t,e,i){var r=i(2).parseFloat,n=i(48).trim;t.exports=1/r(i(81)+"-0")!=-1/0?function(t){var e=n(String(t),3),i=r(e);return 0===i&&"-"==e.charAt(0)?-0:i}:r},function(t,e,i){var r=i(21);t.exports=function(t,e){if("number"!=typeof t&&"Number"!=r(t))throw TypeError(e);return+t}},function(t,e,i){var r=i(4),n=Math.floor;t.exports=function(t){return!r(t)&&isFinite(t)&&n(t)===t}},function(t,e){t.exports=Math.log1p||function(t){return-1e-8<(t=+t)&&t<1e-8?t-t*t/2:Math.log(1+t)}},function(t,e,i){var s=i(84),r=Math.pow,o=r(2,-52),a=r(2,-23),u=r(2,127)*(2-a),h=r(2,-126);t.exports=Math.fround||function(t){var e,i,r=Math.abs(t),n=s(t);return r<h?n*(r/h/a+1/o-1/o)*h*a:u<(i=(e=(1+a/o)*r)-(e-r))||i!=i?n*(1/0):n*i}},function(t,e,i){var s=i(1);t.exports=function(e,t,i,r){try{return r?t(s(i)[0],i[1]):t(i)}catch(t){var n=e.return;throw void 0!==n&&s(n.call(e)),t}}},function(t,e,i){var l=i(11),c=i(10),f=i(52),p=i(9);t.exports=function(t,e,i,r,n){l(e);var s=c(t),o=f(s),a=p(s.length),u=n?a-1:0,h=n?-1:1;if(i<2)for(;;){if(u in o){r=o[u],u+=h;break}if(u+=h,n?u<0:a<=u)throw TypeError("Reduce of empty array with no initial value")}for(;n?0<=u:u<a;u+=h)u in o&&(r=e(r,o[u],u,s));return r}},function(t,e,i){"use strict";var h=i(10),l=i(38),c=i(9);t.exports=[].copyWithin||function(t,e){var i=h(this),r=c(i.length),n=l(t,r),s=l(e,r),o=2<arguments.length?arguments[2]:void 0,a=Math.min((void 0===o?r:l(o,r))-s,r-n),u=1;for(s<n&&n<s+a&&(u=-1,s+=a-1,n+=a-1);0<a--;)s in i?i[n]=i[s]:delete i[n],n+=u,s+=u;return i}},function(t,e){t.exports=function(t,e){return{value:e,done:!!t}}},function(t,e,i){i(7)&&"g"!=/./g.flags&&i(8).f(RegExp.prototype,"flags",{configurable:!0,get:i(64)})},function(t,e){t.exports=function(t){try{return{e:!1,v:t()}}catch(t){return{e:!0,v:t}}}},function(t,e,i){var r=i(1),n=i(4),s=i(99);t.exports=function(t,e){if(r(t),n(e)&&e.constructor===t)return e;var i=s.f(t);return(0,i.resolve)(e),i.promise}},function(t,e,i){"use strict";var r=i(126),n=i(50);t.exports=i(68)("Map",function(t){return function(){return t(this,0<arguments.length?arguments[0]:void 0)}},{get:function(t){var e=r.getEntry(n(this,"Map"),t);return e&&e.v},set:function(t,e){return r.def(n(this,"Map"),0===t?0:t,e)}},r,!0)},function(t,e,i){"use strict";var o=i(8).f,a=i(39),u=i(44),h=i(20),l=i(42),c=i(43),r=i(87),n=i(121),s=i(41),f=i(7),p=i(32).fastKey,d=i(50),g=f?"_s":"size",y=function(t,e){var i,r=p(e);if("F"!==r)return t._i[r];for(i=t._f;i;i=i.n)if(i.k==e)return i};t.exports={getConstructor:function(t,s,i,r){var n=t(function(t,e){l(t,n,s,"_i"),t._t=s,t._i=a(null),t._f=void 0,t._l=void 0,t[g]=0,null!=e&&c(e,i,t[r],t)});return u(n.prototype,{clear:function(){for(var t=d(this,s),e=t._i,i=t._f;i;i=i.n)i.r=!0,i.p&&(i.p=i.p.n=void 0),delete e[i.i];t._f=t._l=void 0,t[g]=0},delete:function(t){var e=d(this,s),i=y(e,t);if(i){var r=i.n,n=i.p;delete e._i[i.i],i.r=!0,n&&(n.n=r),r&&(r.p=n),e._f==i&&(e._f=r),e._l==i&&(e._l=n),e[g]--}return!!i},forEach:function(t){d(this,s);for(var e,i=h(t,1<arguments.length?arguments[1]:void 0,3);e=e?e.n:this._f;)for(i(e.v,e.k,this);e&&e.r;)e=e.p},has:function(t){return!!y(d(this,s),t)}}),f&&o(n.prototype,"size",{get:function(){return d(this,s)[g]}}),n},def:function(t,e,i){var r,n,s=y(t,e);return s?s.v=i:(t._l=s={i:n=p(e,!0),k:e,v:i,p:r=t._l,n:void 0,r:!1},t._f||(t._f=s),r&&(r.n=s),t[g]++,"F"!==n&&(t._i[n]=s)),t},getEntry:y,setStrong:function(t,i,e){r(t,i,function(t,e){this._t=d(t,i),this._k=e,this._l=void 0},function(){for(var t=this._k,e=this._l;e&&e.r;)e=e.p;return this._t&&(this._l=e=e?e.n:this._t._f)?n(0,"keys"==t?e.k:"values"==t?e.v:[e.k,e.v]):(this._t=void 0,n(1))},e?"entries":"values",!e,!0),s(i)}}},function(t,e,i){"use strict";var r=i(126),n=i(50);t.exports=i(68)("Set",function(t){return function(){return t(this,0<arguments.length?arguments[0]:void 0)}},{add:function(t){return r.def(n(this,"Set"),t=0===t?0:t,t)}},r)},function(t,e,i){"use strict";var s,r=i(27)(0),o=i(13),n=i(32),a=i(109),u=i(129),h=i(4),l=i(3),c=i(50),f="WeakMap",p=n.getWeak,d=Object.isExtensible,g=u.ufstore,y={},v=function(t){return function(){return t(this,0<arguments.length?arguments[0]:void 0)}},m={get:function(t){if(h(t)){var e=p(t);return!0===e?g(c(this,f)).get(t):e?e[this._i]:void 0}},set:function(t,e){return u.def(c(this,f),t,e)}},x=t.exports=i(68)(f,v,m,u,!0,!0);l(function(){return 7!=(new x).set((Object.freeze||Object)(y),7).get(y)})&&(a((s=u.getConstructor(v,f)).prototype,m),n.NEED=!0,r(["delete","has","get","set"],function(r){var t=x.prototype,n=t[r];o(t,r,function(t,e){if(h(t)&&!d(t)){this._f||(this._f=new s);var i=this._f[r](t,e);return"set"==r?this:i}return n.call(this,t,e)})}))},function(t,e,i){"use strict";var o=i(44),a=i(32).getWeak,n=i(1),u=i(4),h=i(42),l=i(43),r=i(27),c=i(15),f=i(50),s=r(5),p=r(6),d=0,g=function(t){return t._l||(t._l=new y)},y=function(){this.a=[]},v=function(t,e){return s(t.a,function(t){return t[0]===e})};y.prototype={get:function(t){var e=v(this,t);if(e)return e[1]},has:function(t){return!!v(this,t)},set:function(t,e){var i=v(this,t);i?i[1]=e:this.a.push([t,e])},delete:function(e){var t=p(this.a,function(t){return t[0]===e});return~t&&this.a.splice(t,1),!!~t}},t.exports={getConstructor:function(t,i,r,n){var s=t(function(t,e){h(t,s,i,"_i"),t._t=i,t._i=d++,t._l=void 0,null!=e&&l(e,r,t[n],t)});return o(s.prototype,{delete:function(t){if(!u(t))return!1;var e=a(t);return!0===e?g(f(this,i)).delete(t):e&&c(e,this._i)&&delete e[this._i]},has:function(t){if(!u(t))return!1;var e=a(t);return!0===e?g(f(this,i)).has(t):e&&c(e,this._i)}}),s},def:function(t,e,i){var r=a(n(e),!0);return!0===r?g(t).set(e,i):r[t._i]=i,t},ufstore:g}},function(t,e,i){var r=i(25),n=i(9);t.exports=function(t){if(void 0===t)return 0;var e=r(t),i=n(e);if(e!==i)throw RangeError("Wrong length!");return i}},function(t,e,i){var r=i(40),n=i(60),s=i(1),o=i(2).Reflect;t.exports=o&&o.ownKeys||function(t){var e=r.f(s(t)),i=n.f;return i?e.concat(i(t)):e}},function(t,e,i){"use strict";var d=i(61),g=i(4),y=i(9),v=i(20),m=i(6)("isConcatSpreadable");t.exports=function t(e,i,r,n,s,o,a,u){for(var h,l,c=s,f=0,p=!!a&&v(a,u,3);f<n;){if(f in r){if(h=p?p(r[f],f,i):r[f],l=!1,g(h)&&(l=void 0!==(l=h[m])?!!l:d(h)),l&&0<o)c=t(e,i,h,y(h.length),c,o-1)-1;else{if(9007199254740991<=c)throw TypeError();e[c]=h}c++}f++}return c}},function(t,e,i){var l=i(9),c=i(83),f=i(24);t.exports=function(t,e,i,r){var n=String(f(t)),s=n.length,o=void 0===i?" ":String(i),a=l(e);if(a<=s||""==o)return n;var u=a-s,h=c.call(o,Math.ceil(u/o.length));return h.length>u&&(h=h.slice(0,u)),r?h+n:n+h}},function(t,e,i){var u=i(37),h=i(16),l=i(53).f;t.exports=function(a){return function(t){for(var e,i=h(t),r=u(i),n=r.length,s=0,o=[];s<n;)l.call(i,e=r[s++])&&o.push(a?[e,i[e]]:i[e]);return o}}},function(t,e,i){var r=i(54),n=i(136);t.exports=function(t){return function(){if(r(this)!=t)throw TypeError(t+"#toJSON isn't generic");return n(this)}}},function(t,e,i){var r=i(43);t.exports=function(t,e){var i=[];return r(t,!1,i.push,i,e),i}},function(t,e){t.exports=Math.scale||function(t,e,i,r,n){return 0===arguments.length||t!=t||e!=e||i!=i||r!=r||n!=n?NaN:t===1/0||t===-1/0?t:(t-e)*(n-r)/(i-e)+r}},function(t,e,i){var r,n,s;n=[t,e],void 0===(s="function"==typeof(r=function(t,e){"use strict";function u(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function r(t,e){for(var i=0;i<e.length;i++){var r=e[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(t,e,i){return e&&r(t.prototype,e),i&&r(t,i),t}}(),r=function(){function e(t){u(this,e),this.DELTAP=1e-6,this.BIGVAL=9e99,this.WEIGHT=1,this.setYData(t.dataY),this.setXData(t.dataX),this.setWeight(t.weight),this.setInitialParams(t.params),t.subsetIndex&&this.setSubset.apply(this,function(t){if(Array.isArray(t)){for(var e=0,i=Array(t.length);e<t.length;e++)i[e]=t[e];return i}return Array.from(t)}(t.subsetIndex)),this.setFunction(t.function),t.progress&&this.hookIteration(t.progress),this.options=t}return i(e,[{key:"setYData",value:function(t){this.data=t}},{key:"setXData",value:function(t){this.dataX=t}},{key:"setWeight",value:function(t){this.weight=t}},{key:"setInitialParams",value:function(t){var e=this;this.parms=t,this.parms=this.parms.map(function(t){return"function"==typeof t?t(e.data,e.dataX):t}),this.NPARMS=t.length}},{key:"setSubset",value:function(t,e){void 0!==t&&void 0!==e&&(this._from=t,this._to=e)}},{key:"hookIteration",value:function(i){var r=this;this._hookIteration=function(t){var e=r.buildFit(t,200);i(e)}}},{key:"setFunction",value:function(t){this._func=t}},{key:"init",value:function(){var e=this;if(void 0!==this._from&&void 0!==this._to){if(this._from>=this._to)throw"Impossible to fit negative subranges. The starting index must be lower than the ending index";if(this.NPTS=this._to-this._from+1,this.data&&this.data.getLength()<=this._to)throw"Wave Y has not enough point to be fitted to subrange ["+this._from+", "+this._to+"]";if(this._from<0)throw"Impossible to fit a subrange with negative indices"}else this.NPTS=this.data.getLength(),this._from=0,this._to=this.data.getLength()-1;if(this.dataX&&this.dataX.getLength()<=this._to)throw"Wave X has not enough point to be fitted to subrange ["+this._from+", "+this._to+"]";this.arrY=this.data.getDataY(),this.dataX?this.arrX=this.dataX.getDataY():this.arrX=this.data.getDataX(),this.resid=new Array(this.NPTS).fill(0),this.jac=new Array(this.NPTS).fill(0),this.jac=this.jac.map(function(t){return new Array(e.NPARMS)})}},{key:"fit",value:function(){return this.log("Starting the fit with initial parameter list {"+this.parms.join()+"};"),new n(this,this.NPARMS,this.NPTS,this._hookIteration),this.log("Fit successful. Output parameters {"+this.parms.join()+"};"),this._result=this.buildFit(this.parms,200),this.options.done&&this.options.done(this.parms,this._result),this._result}},{key:"func",value:function(t,e){return this._func(t,e)}},{key:"computeResiduals",value:function(){for(var t=0,e=0;e<this.NPTS;e++)this.resid[e]=(this.func(this.arrX[e+this._from],this.parms)-this.arrY[e+this._from])*this.WEIGHT,t+=this.resid[e]*this.resid[e];return t}},{key:"log",value:function(t){this.options.log&&console.log(t)}},{key:"nudge",value:function(t){for(var e=0;e<this.NPARMS;e++)this.parms[e]+=t[e];return this.computeResiduals()}},{key:"buildJacobian",value:function(){for(var t=new Array(this.NPARMS),e=.5/this.DELTAP,i=0;i<this.NPARMS;i++){for(var r=0;r<this.NPARMS;r++)t[r]=r==i?this.DELTAP:0;if(this.nudge(t)==this.BIGVAL)throw"Bad dBuildJacobian() exit 2";for(var n=0;n<this.NPTS;n++)this.jac[n][i]=this.getResidualElement(n);for(r=0;r<this.NPARMS;r++)t[r]=r==i?-2*this.DELTAP:0;if(this.nudge(t)==this.BIGVAL)throw"Bad dBuildJacobian(). exit 3";for(n=0;n<this.NPTS;n++)this.jac[n][i]-=this.getResidualElement(n);for(n=0;n<this.NPTS;n++)this.jac[n][i]*=e;for(r=0;r<this.NPARMS;r++)t[r]=r==i?this.DELTAP:0;if(this.nudge(t)==this.BIGVAL)throw"Bad dBuildJacobian(). exit 4"}return!0}},{key:"getResidualElement",value:function(t){return this.resid[t]}},{key:"getJacobianElement",value:function(t,e){return this.jac[t][e]}},{key:"buildFit",value:function(t,i){var e=void 0;if(i){var r=this.dataX.getMin(this._from,this._to),n=this.dataX.getMax(this._from,this._to);e=new Array(i).fill(0).map(function(t,e){return e*(n-r)/(i-1)+r})}else e=this.arrX;for(var s=new Array(e.length),o=0,a=e.length;o<a;o++)s[o]=this.func(e[o],this.parms);var u=this.options.waveform;return u.setData(s,e),u}}]),e}(),n=function(){function a(t,e,i,r){var n=this;u(this,a),this.LMITER=100,this.LMBOOST=2,this.LMSHRINK=.1,this.LAMBDAZERO=.001,this.LAMBDAMAX=1e9,this.LMTOL=1e-12,this.BIGVAL=9e99,this.sos,this.sosprev,this.lambda,this.myH=null,this.nadj=0,this.npts=0,this.delta,this.beta,this.alpha,this.amatrix,this.myH=t,this.nadj=e,this.npts=i,this.delta=new Array(this.nadj).fill(0),this.beta=new Array(this.nadj).fill(0),this.alpha=new Array(this.nadj).fill(0),this.amatrix=new Array(this.nadj).fill(0),this.alpha=this.alpha.map(function(){return new Array(n.nadj)}),this.amatrix=this.amatrix.map(function(){return new Array(n.nadj)}),this.lambda=this.LAMBDAZERO;for(var s=0,o=!1;o=this.bLMiter(),r&&r(this.myH.params),!o&&++s<this.LMITER;);}return i(a,[{key:"bLMiter",value:function(){for(var t=0;t<this.nadj;t++)this.delta[t]=0;if(this.sos=this.myH.nudge(this.delta),this.sos==this.BIGVAL)return console.error("  bLMiter finds faulty initial nudge()"),!1;if(this.sosprev=this.sos,this.myH.log("  bLMiter..SumOfSquares= "+this.sos),!this.myH.buildJacobian())return console.error("  bLMiter finds buildJacobian()=false"),!1;for(t=0;t<this.nadj;t++)for(var e=this.beta[t]=0;e<this.npts;e++)this.beta[t]-=this.myH.getResidualElement(e)*this.myH.getJacobianElement(e,t);for(t=0;t<this.nadj;t++)for(var i=0;i<this.nadj;i++)for(e=this.alpha[i][t]=0;e<this.npts;e++)this.alpha[i][t]+=this.myH.getJacobianElement(e,i)*this.myH.getJacobianElement(e,t);var r=0;do{for(t=0;t<this.nadj;t++)for(i=0;i<this.nadj;i++)this.amatrix[i][t]=this.alpha[i][t]+(i==t?this.lambda:0);this.gaussj(this.amatrix,this.nadj);for(t=0;t<this.nadj;t++)for(i=this.delta[t]=0;i<this.nadj;i++)this.delta[t]+=this.amatrix[i][t]*this.beta[i];if(this.sos=this.myH.nudge(this.delta),this.sos==this.BIGVAL)return console.error("  LMinner failed SOS step"),!1;if((r=(this.sos-this.sosprev)/(1+this.sos))<=0){this.lambda*=this.LMSHRINK;break}for(var n=0;n<this.nadj;n++)this.delta[n]*=-1;if(this.myH.nudge(this.delta),r<this.LMTOL)break;this.lambda*=this.LMBOOST}while(this.lambda<this.LAMBDAMAX);return r>-this.LMTOL||this.lambda>this.LAMBDAMAX}},{key:"gaussj",value:function(t,e){var i,r,n,s,o,a,u=1,h=new Array(100),l=new Array(100);for(o=0;o<e;o++){for(i=0,n=o;n<e;n++)for(s=o;s<e;s++)Math.abs(i)<=Math.abs(t[n][s])&&(i=t[n][s],h[o]=n,l[o]=s);if(0==i)return 0;if(o<(n=h[o]))for(s=0;s<e;s++)r=t[o][s],t[o][s]=t[n][s],t[n][s]=-r;if(o<(s=l[o]))for(n=0;n<e;n++)r=t[n][o],t[n][o]=t[n][s],t[n][s]=-r;for(n=0;n<e;n++)n!=o&&(t[n][o]=-t[n][o]/i);for(n=0;n<e;n++)for(s=0;s<e;s++)n!=o&&s!=o&&(t[n][s]+=t[n][o]*t[o][s]);for(s=0;s<e;s++)s!=o&&(t[o][s]/=i);t[o][o]=1/i,u*=i}for(a=0;a<e;a++){if((o=e-a-1)<(s=h[o]))for(n=0;n<e;n++)r=t[n][o],t[n][o]=-t[n][s],t[n][s]=r;if(o<(n=l[o]))for(s=0;s<e;s++)r=t[o][s],t[o][s]=-t[n][s],t[n][s]=r}return u}}]),a}();e.default=r,t.exports=e.default})?r.apply(e,n):r)||(t.exports=s)},function(t,e,i){var r,n,s,o;o=function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r,s=(r=i)&&r.__esModule?r:{default:r};var o=function(){function r(t,e){for(var i=0;i<e.length;i++){var r=e[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(t,e,i){return e&&r(t.prototype,e),i&&r(t,i),t}}();var n=function(t){function n(t,e,i){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,n);var r=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,t,e,i));return r.leftright=e,r.left="left"==e,r}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(n,s.default),o(n,[{key:"setAxisPosition",value:function(t){this.shiftPosition=t}},{key:"getAxisPosition",value:function(){return this.shiftPosition||0}},{key:"getAdditionalWidth",value:function(){var t=0;return this.getLabel()&&(t+=this.graph.options.fontSize),this.isShown()&&(t+=Math.abs(this.tickMargin)),t}},{key:"isX",value:function(){return!1}},{key:"isY",value:function(){return!0}},{key:"resetTicksLength",value:function(){this.longestTick=[!1,0]}},{key:"getMaxSizeTick",value:function(){return this.longestTick&&this.longestTick[0]?this.longestTick[0].getComputedTextLength()+5:0}},{key:"draw",value:function(){this.tickMargin=this.left?-5-this.tickPx1*this.tickScaling[1]:2-this.tickPx1*this.tickScaling[1];var t=function t(e,i,r){null===e&&(e=Function.prototype);var n=Object.getOwnPropertyDescriptor(e,i);if(void 0===n){var s=Object.getPrototypeOf(e);return null===s?void 0:t(s,i,r)}if("value"in n)return n.value;var o=n.get;return void 0!==o?o.call(r):void 0}(n.prototype.__proto__||Object.getPrototypeOf(n.prototype),"draw",this).apply(this,arguments);return t+=this.getAdditionalWidth(),this.drawSpecifics(t),this.fullwidthlabel=t}},{key:"equalizePosition",value:function(t){return this.placeLabel(this.left?-t:t),this.getLabel()?t+this.graph.options.fontSize:0}},{key:"drawTick",value:function(t,e,i,r){var n,s=this,o=void 0,a=void 0;null==(n=r||this.getPos(t))||isNaN(n)||((o=this.nextTick(e,function(t){t.setAttribute("x1",(s.left?1:-1)*s.tickPx1*s.tickScaling[e]),t.setAttribute("x2",(s.left?1:-1)*s.tickPx2*s.tickScaling[e]),1==e?t.setAttribute("stroke",s.getPrimaryTicksColor()):t.setAttribute("stroke",s.getSecondaryTicksColor())})).setAttribute("y1",n),o.setAttribute("y2",n),this.nextGridLine(1==e,0,this.graph.getDrawingWidth(),n,n),1==e&&((a=this.nextTickLabel(function(t){t.setAttribute("x",s.tickMargin+s.options.tickLabelOffset),"black"!==s.getTicksLabelColor()&&t.setAttribute("fill",s.getTicksLabelColor()),s.left?t.setAttribute("text-anchor","end"):t.setAttribute("text-anchor","start"),t.style.dominantBaseline="central"})).setAttribute("y",n),this.setTickContent(a,t,i),String(a.textContent).length>=this.longestTick[1]&&(this.longestTick[0]=a,this.longestTick[1]=String(a.textContent).length)))}},{key:"drawLabel",value:function(){"black"!==this.getLabelColor()&&this.label.setAttribute("fill",this.getLabelColor()),this.label.setAttribute("dominant-baseline",(this.left,"auto")),this.labelTspan.textContent=this.getLabel()}},{key:"placeLabel",value:function(t){this.label.setAttribute("transform","translate("+t+", "+Math.abs(this.getMaxPx()+this.getMinPx())/2+") rotate(-90)")}},{key:"drawSpecifics",value:function(){this.line.setAttribute("y1",this.getMinPx()),this.line.setAttribute("y2",this.getMaxPx()),this.line.setAttribute("x1",0),this.line.setAttribute("x2",0),this.line.setAttribute("stroke",this.getAxisColor());var t=this.getSpan();this.line.setAttribute("marker-start",this.options.splitMarks&&0!=t[0]?"url(#verticalsplit_"+this.graph.getId()+")":""),this.line.setAttribute("marker-end",this.options.splitMarks&&1!=t[1]?"url(#verticalsplit_"+this.graph.getId()+")":"")}},{key:"setShift",value:function(t){if(this.shift=t,this.shift&&this.graph.getWidth()){var e=this.shift;e=this.floating?e:this.isLeft()?e:this.graph.getWidth()-this.graph.getPaddingRight()-this.graph.getPaddingLeft()-e,this.group.setAttribute("transform","translate( "+e+" 0 )"),this.drawLabel()}}},{key:"isLeft",value:function(){return this.left}},{key:"isRight",value:function(){return!this.left}},{key:"isFlipped",value:function(){return!this.options.flipped}},{key:"_drawLine",value:function(t,e){var i=this.getPx(t);return e?e.setAttribute("display","initial"):e=document.createElementNS(this.graph.ns,"line"),e.setAttribute("y1",i),e.setAttribute("y2",i),e.setAttribute("x1",0),e.setAttribute("x2",this.graph.drawingSpaceWidth),e.setAttribute("stroke","black"),this.group.appendChild(e),e}},{key:"_hideLine",value:function(t){t&&t.setAttribute("display","none")}},{key:"handleMouseMoveLocal",value:function(t,e){e-=this.graph.getPaddingTop(),this.mouseVal=this.getVal(e)}},{key:"scaleToFitAxis",value:function(t,e,i,r,n,s){t&&t.isX()||(t=this.graph.getXAxis()),isNaN(i)&&(i=t.getCurrentMin()),isNaN(r)&&(r=t.getCurrentMax()),void 0===n&&(n=!0),void 0===s&&(s=!0),"number"==typeof e&&(r=i,i=e,e=!1);for(var o=-1/0,a=1/0,u=0,h=0,l=this.graph.series.length;h<l;h++)this.graph.series[h].isShown()&&this.graph.series[h]!=e&&this.graph.series[h].getXAxis()==t&&this.graph.series[h].getYAxis()===this&&(u++,o=s?Math.max(o,this.graph.series[h].getMax(i,r)):0,a=n?Math.min(a,this.graph.series[h].getMin(i,r)):0);if(0==u)this.setMinMaxToFitSeries();else{a=n?a:this.getCurrentMin();var c=(o=s?o:this.getCurrentMax())-a;a-=this.options.axisDataSpacing.min*c,o+=this.options.axisDataSpacing.max*c,this._doZoomVal(a,o)}return this}},{key:"setMinMaxFlipped",value:function(){var t=this.maxPx-this.minPx;if(!isNaN(t)){var e=this.maxPx-t*this.options.span[0]-this.options.marginMin,i=this.maxPx-t*this.options.span[1]+this.options.marginMax;this.minPxFlipped=this.isFlipped()?e:i,this.maxPxFlipped=this.isFlipped()?i:e}}},{key:"getZProj",value:function(t){return t*this.graph.options.zAxis.shiftY}}]),n}();e.default=n,t.exports=e.default},n=[t,e,i(73)],void 0===(s="function"==typeof(r=o)?r.apply(e,n):r)||(t.exports=s)},function(t,e,i){var r,n,s;n=[t,e],void 0===(s="function"==typeof(r=function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i={getX:function(t){return(t=this.getXAxis().getPx(t))-t%.2+this.getXAxis().getZProj(this.options.zpos)},getY:function(t){return(t=this.getYAxis().getPx(t))-t%.2+this.getYAxis().getZProj(this.options.zpos)},getZPos:function(){return this.options.zpos},getMinX:function(t){return t?r(this,!0,!0):this.minX},getMaxX:function(t){return t?r(this,!0,!1):this.maxX},getMinY:function(t){return t?r(this,!1,!0):this.minY},getMaxY:function(t){return t?r(this,!1,!1):this.maxY}};function r(t,e,i){var r=void 0,n=void 0,s=void 0,o=void 0,a=void 0,u=t.getWaveforms(),h=!0,l=!1,c=void 0;try{for(var f,p=u[Symbol.iterator]();!(h=(f=p.next()).done);h=!0){var d=f.value;for(r=0,n=d.getLength(),s=d.getData();r<n;r+=1)o=e?t.getXAxis().getVal(t.getX(d.getX(r,!0))):t.getYAxis().getVal(t.getY(s[r])),a=0==r?o:i?Math.min(a,o):Math.max(a,o)}}catch(t){l=!0,c=t}finally{try{!h&&p.return&&p.return()}finally{if(l)throw c}}return a}e.default=i,t.exports=e.default})?r.apply(e,n):r)||(t.exports=s)},function(t,e,i){var r,n,s,o;o=function(t,e,i,r,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=function(t){{if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e.default=t,e}}(i),o=u(r),a=u(n);function u(t){return t&&t.__esModule?t:{default:t}}var h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};var l=function(){function r(t,e){for(var i=0;i<e.length;i++){var r=e[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(t,e,i){return e&&r(t.prototype,e),i&&r(t,i),t}}();var c=function(t){function n(t,e,i){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,n);var r=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(n.__proto__||Object.getPrototypeOf(n)).apply(this,arguments));return r.id=Math.random()+Date.now(),r.shapes=[],r.shown=!0,r.data=[],r.shapesDetails=[],r.shapes=[],r._type="scatter",s.mapEventEmission(r.options,r),r._isMinOrMax={x:{min:!1,max:!1},y:{min:!1,max:!1}},r.groupPoints=document.createElementNS(r.graph.ns,"g"),r.groupMain=document.createElementNS(r.graph.ns,"g"),r.additionalData={},r.selectedStyleGeneral={},r.selectedStyleModifiers={},r.groupPoints.addEventListener("mouseover",function(t){var e=parseInt(t.target.parentElement.getAttribute("data-shapeid"));r.emit("mouseover",e,r.waveform.getX(e),r.waveform.getY(e))}),r.groupPoints.addEventListener("mouseout",function(t){var e=parseInt(t.target.parentElement.getAttribute("data-shapeid"));r.emit("mouseout",e,r.waveform.getX(e),r.waveform.getY(e))}),r.minX=Number.MAX_VALUE,r.minY=Number.MAX_VALUE,r.maxX=Number.MIN_VALUE,r.maxY=Number.MIN_VALUE,r.groupMain.appendChild(r.groupPoints),r.currentAction=!1,r.initExtended1&&r.initExtended1(),r.styles={},r.styles.unselected={},r.styles.selected={},r.styles.unselected.default={shape:"circle",cx:0,cy:0,r:3,stroke:"transparent",fill:"black"},r.styles.selected.default={shape:"circle",cx:0,cy:0,r:4,stroke:"transparent",fill:"black"},r}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(n,a.default),l(n,[{key:"setDataCategory",value:function(t){var e=!0,i=!1,r=void 0;try{for(var n,s=t[Symbol.iterator]();!(e=(n=s.next()).done);e=!0){var o=n.value;this._checkY(o.y.getMaxY()),this._checkY(o.y.getMinY())}}catch(t){i=!0,r=t}finally{try{!e&&s.return&&s.return()}finally{if(i)throw r}}return this.data=t,this.dataHasChanged(),this.graph.updateDataMinMaxAxes(),this}},{key:"empty",value:function(){for(;this.groupPoints.firstChild;)this.groupPoints.removeChild(this.groupPoints.firstChild)}},{key:"getSymbolForLegend",value:function(){if(this.symbol)return this.symbol;var t=document.createElementNS(this.graph.ns,"g");t.setAttribute("data-shapeid",-1);var e=this.doShape(t,this.styles.unselected.default),i=this.getStyle("unselected",-1,!0);for(var r in i[-1])"shape"!=r&&e.setAttribute(r,i[-1][r]);return t}},{key:"setStyle",value:function(t,e){var i=2<arguments.length&&void 0!==arguments[2]?arguments[2]:"unselected";return"string"==typeof e&&(i=e,e=!1),this.styles[i]=this.styles[i]||{},this.styles[i].all=t,this.styles[i].modifiers=e,this.styleHasChanged(i),this}},{key:"draw",value:function(t){if(t||this.hasDataChanged()||this.hasStyleChanged("unselected")){var e,i,r=0,n="category"==this.getXAxis().getType();this._drawn=!0,this.dataHasChanged(!1),this.styleHasChanged(!1),this.groupMain.removeChild(this.groupPoints);var s=[];if(r=0,this.hasErrors()&&this.errorDrawInit(),n){for(var o=0;r<this.data.length;r++)if(this.categoryIndices.hasOwnProperty(this.data[r].x)){this.error;for(var a=0,u=this.data[r].y.getLength();a<u;a++)i=this.getY(this.data[r].y.getY(a)),e=this.getX(a/(u-1)*(.8/this.nbCategories)+this.categoryIndices[this.data[r].x]+.1/this.nbCategories),a++,this.shapesDetails[o]=this.shapesDetails[o]||[],this.shapesDetails[o][0]=e,this.shapesDetails[o][1]=i,s.push(o),o++}}else for(;r<this.waveform.getLength();r++)this.waveform.getX(r)<this.getXAxis().getCurrentMin()||this.waveform.getX(r)>this.getXAxis().getCurrentMax()||this.waveform.getY(r)<this.getYAxis().getCurrentMin()||this.waveform.getY(r)>this.getYAxis().getCurrentMax()?this.shapes[r]&&this.shapes[r].setAttribute("display","none"):(this.shapes[r]&&this.shapes[r].setAttribute("display","initial"),e=this.getX(this.waveform.getX(r)),i=this.getY(this.waveform.getY(r)),this.hasErrors()&&this.errorAddPoint(r,this.waveform.getX(r),this.waveform.getY(r),e,i),this.shapesDetails[r]=this.shapesDetails[r]||[],this.shapesDetails[r][0]=e,this.shapesDetails[r][1]=i,s.push(r));this.hasErrors()&&this.errorDraw(),this.applyStyle("unselected",s),this.groupMain.appendChild(this.groupPoints)}}},{key:"_addPoint",value:function(t,e,i){var r=void 0,n=document.createElementNS(this.graph.ns,"g");n.setAttribute("transform","translate("+t+", "+e+")"),n.setAttribute("data-shapeid",i),r=this.extraStyle&&this.extraStyle[i]?this.doShape(n,this.extraStyle[i]):this.stdStylePerso?this.doShape(n,this.stdStylePerso):this.doShape(n,this.stdStyle),this.shapes[i]=r,this.groupPoints.appendChild(n)}},{key:"doShape",value:function(t,e){var i=document.createElementNS(this.graph.ns,e.shape);return t.appendChild(i),i}},{key:"getStyle",value:function(t,e,i){t=t||"unselected";var r,n,s,o,a,u={};"number"==typeof e?r=[e]:Array.isArray(e)&&(r=e),void 0!==this.styles[t].all&&("function"==typeof(a=this.styles[t].all)?a=a():!1===a&&(a={}));for(var h=0,l=r.length;h<l;h++){if(e=r[h],n=this.shapes[e],(s=this.styles[t].modifiers)&&("function"==typeof s||s[e])?("function"==typeof s?o=s(e,n):s[e]&&(o=s[e]),u[e]=Object.assign({},a,o)):u[e]=void 0!==a?a:this.styles[t].default,u[e]||(u[e]=a),!n){if(!u[e].shape)throw console.error(o),"No shape was defined with this style.";var c=document.createElementNS(this.graph.ns,"g");c.setAttribute("data-shapeid",e),this.shapes[e]=this.doShape(c,u[e]),this.groupPoints.appendChild(c),n=this.shapes[e]}i||n.parentNode.setAttribute("transform","translate("+this.shapesDetails[e][0]+", "+this.shapesDetails[e][1]+")")}return u}},{key:"applyStyle",value:function(t,e,i){var r,n,s=this.getStyle(t,e,i);for(r in s)for(n in s[r])"shape"!==n&&(s[r][n]?this.shapes[r].setAttribute(n,s[r][n]):this.shapes[r].removeAttribute(n))}},{key:"unselectPoint",value:function(t){this.selectPoint(t,!1)}},{key:"selectPoint",value:function(t,e,i){if(!this.shapesDetails[t][2]||this.shapesDetails[t][2]!=i){if("string"==typeof e&&(i=e,e=void 0),Array.isArray(t))return this.selectPoints(t);if(this.shapes[t]&&this.shapesDetails[t])if(!this.shapesDetails[t][2]&&!1!==e||!0===e)i=i||"selected",this.shapesDetails[t][2]=i,this.applyStyle(i,t,!0);else{var r=this.shapesDetails[t][2];this.shapesDetails[t][2]=!1;var n=this.getStyle(r,t,!0);for(var s in n[t])this.shapes[t].removeAttribute(s);this.applyStyle("unselected",t,!0)}}}},{key:"getUsedCategories",value:function(){return"object"==h(this.data[0])?this.data.map(function(t){return t.x}):[]}}]),n}();s.mix(c,o.default),e.default=c,t.exports=e.default},n=[t,e,i(5),i(74),i(57)],void 0===(s="function"==typeof(r=o)?r.apply(e,n):r)||(t.exports=s)},function(t,e,i){var r,n,s,o;o=function(t,e,i,s,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=n(i),a=n(r);function n(t){return t&&t.__esModule?t:{default:t}}var u=function(){function r(t,e){for(var i=0;i<e.length;i++){var r=e[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(t,e,i){return e&&r(t.prototype,e),i&&r(t,i),t}}();var h=function(t){function n(t,e,i){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,n);var r=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(n.__proto__||Object.getPrototypeOf(n)).apply(this,arguments));return r.selectionType="unselected",r.id=(0,s.guid)(),r.groupZones=document.createElementNS(r.graph.ns,"g"),r.groupMain=document.createElementNS(r.graph.ns,"g"),r.lineZone=document.createElementNS(r.graph.ns,"path"),r.lineZone.setAttribute("stroke","black"),r.lineZone.setAttribute("stroke-width","1px"),r.groupMain.appendChild(r.groupZones),r.groupZones.appendChild(r.lineZone),r.applyLineStyle(r.lineZone),r.styleHasChanged(),r.clip=document.createElementNS(r.graph.ns,"clipPath"),r.clipId=(0,s.guid)(),r.clip.setAttribute("id",r.clipId),r.graph.defs.appendChild(r.clip),r}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(n,a.default),u(n,null,[{key:"default",value:function(){return{fillColor:"rgba( 0, 0, 0, 0.1 )",lineColor:"rgba( 0, 0, 0, 1 )",lineWidth:"1px"}}}]),u(n,[{key:"setWaveform",value:function(){for(var e=this,t=arguments.length,i=Array(t),r=0;r<t;r++)i[r]=arguments[r];return this.waveforms=i,this.waveforms=this.waveforms.map(function(t){return t instanceof o.default?t:new o.default(t)}),this.minX=this.waveforms[0].getXMin(),this.maxX=this.waveforms[0].getXMax(),this.minY=this.waveforms[0].getMin(),this.maxY=this.waveforms[0].getMax(),this.waveforms.map(function(t){e.minX=Math.min(t.getXMin(),e.minX),e.maxX=Math.max(t.getXMin(),e.maxX),e.minY=Math.min(t.getMin(),e.minY),e.maxY=Math.max(t.getMax(),e.maxY)}),this.graph.updateDataMinMaxAxes(),this.dataHasChanged(),this}},{key:"setWaveforms",value:function(){return this.setWaveform.apply(this,arguments)}},{key:"getWaveforms",value:function(){return this.waveforms}},{key:"setMinMaxWaveforms",value:function(t,e){return this.waveforms=[t,e.reverse()],this}},{key:"empty",value:function(){for(;this.group.firstChild;)this.group.removeChild(this.group.firstChild)}},{key:"draw",value:function(t){if(t||this.hasDataChanged()){if(!this.waveforms)return;var e=0,i=0,r=0,n=0,s=0,o="",a=void 0,u=!1,h=(this.getXAxis().getMinPx(),this.getXAxis().getMaxPx(),this.getYAxis().getMinPx(),this.getYAxis().getMaxPx(),this.getXAxis().getCurrentMin()),l=this.getXAxis().getCurrentMax(),c=this.getYAxis().getCurrentMin(),f=this.getYAxis().getCurrentMax();this.groupMain.removeChild(this.groupZones);var p=!0,d=!1,g=void 0;try{for(var y,v=this.waveforms[Symbol.iterator]();!(p=(y=v.next()).done);p=!0){var m=y.value;for(s=0;s<m.getLength();s+=1)if(e=m.getX(s,!0),(i=m.getY(s,!0))[s]<c?n=this.getY(c):i[s]>f&&(n=this.getY(f)),e==e)if(i==i)n=this.getY(i),r=this.getX(e),e<h||l<e?a=[e,i[s],r,n]:(u&&(o+=" M "+r+", "+this.getY(m.getMinY())+" ",u=!1),0<o.length&&(o+=" L "),a?(o+=a[2]+","+a[3]+" ",a=!1):o+=r+","+n+" ");else{if(0==o.length)continue;o+="L "+r+", "+this.getY(m.getMinY()),u=!0}}}catch(t){d=!0,g=t}finally{try{!p&&v.return&&v.return()}finally{if(d)throw g}}""!==o?this.lineZone.setAttribute("d","M "+o+" z"):this.lineZone.setAttribute("d",""),this.groupMain.appendChild(this.groupZones)}this.hasStyleChanged(this.selectionType)&&(this.applyLineStyle(this.lineZone),this.styleHasChanged(!1))}},{key:"applyLineStyle",value:function(t){t.setAttribute("stroke",this.getLineColor()),t.setAttribute("stroke-width",this.getLineWidth()),t.setAttribute("fill",this.getFillColor()),t.setAttribute("fill-opacity",this.getFillOpacity()),t.setAttribute("stroke-opacity",this.getLineOpacity())}},{key:"setLineWidth",value:function(t){return this.options.lineWidth=t,this.styleHasChanged(),this}},{key:"getLineWidth",value:function(){return this.options.lineWidth}},{key:"setLineOpacity",value:function(t){return this.options.lineOpacity=t,this.styleHasChanged(),this}},{key:"getLineOpacity",value:function(){return this.options.lineOpacity}},{key:"setLineColor",value:function(t){return this.options.lineColor=t,this.styleHasChanged(),this}},{key:"getLineColor",value:function(){return this.options.lineColor}},{key:"setFillOpacity",value:function(t){return this.options.fillOpacity=t,this.styleHasChanged(),this}},{key:"getFillOpacity",value:function(){return this.options.fillOpacity}},{key:"setFillColor",value:function(t){return this.options.fillColor=t,this.styleHasChanged(),this}},{key:"getFillColor",value:function(){return this.options.fillColor}}]),n}();e.default=h,t.exports=e.default},n=[t,e,i(46),i(5),i(57)],void 0===(s="function"==typeof(r=o)?r.apply(e,n):r)||(t.exports=s)},function(t,e,i){var r,n,s,o;o=function(t,e,i,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,s=function(t){{if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e.default=t,e}}(i),o=(n=r)&&n.__esModule?n:{default:n};var a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};var u=function(){function r(t,e){for(var i=0;i<e.length;i++){var r=e[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(t,e,i){return e&&r(t.prototype,e),i&&r(t,i),t}}();var h=function(t){function r(t,e){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(r.__proto__||Object.getPrototypeOf(r)).call(this,t,e))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(r,o.default),u(r,[{key:"createDom",value:function(){return this._dom=document.createElementNS(this.graph.ns,"rect"),this.getStrokeColor()||this.setStrokeColor("black"),this.getStrokeWidth()||this.setStrokeWidth(1),this.getFillColor()||this.setFillColor("transparent"),this}},{key:"createHandles",value:function(){if(this.hasHandles()){var t=this.getProp("handles");switch("object"!=(void 0===t?"undefined":a(t))&&(t={}),t.type||(t.type="corners"),t.type){case"sides":s.extend(t,{sides:{top:!0,bottom:!0,left:!0,right:!0}});var e=0;for(var i in t.sides)t.sides[i]&&e++;this._createHandles(e,"g").map(function(t){var e=document.createElementNS(self.graph.ns,"rect");e.setAttribute("x","-3"),e.setAttribute("width","6"),e.setAttribute("y","-6"),e.setAttribute("height","12"),e.setAttribute("stroke","black"),e.setAttribute("fill","white"),e.setAttribute("cursor","pointer"),t.appendChild(e)});e=1;for(var i in t.sides)t.sides[i]&&(this.handles[i]=this["handle"+e],this.sides[e]=i,e++);break;case"corners":this._createHandles(4,"rect",{transform:"translate(-3 -3)",width:6,height:6,stroke:"black",fill:"white"}),this.handles&&(this.handles[2].setAttribute("cursor","nesw-resize"),this.handles[4].setAttribute("cursor","nesw-resize"),this.handles[1].setAttribute("cursor","nwse-resize"),this.handles[3].setAttribute("cursor","nwse-resize"));break;case"seamlessX":this._createHandles(2,"rect",{transform:"translate(-3 -3)",stroke:"transparent",fill:"transparent",width:"20px",cursor:"ew-resize"})}return function t(e,i,r){null===e&&(e=Function.prototype);var n=Object.getOwnPropertyDescriptor(e,i);if(void 0===n){var s=Object.getPrototypeOf(e);return null===s?void 0:t(s,i,r)}if("value"in n)return n.value;var o=n.get;return void 0!==o?o.call(r):void 0}(r.prototype.__proto__||Object.getPrototypeOf(r.prototype),"createHandles",this).call(this),this}}},{key:"applyPosition",value:function(){var t,e,i,r,n=this.computePosition(0),s=this.computePosition(1);return n.x<s.x?(t=n.x,i=s.x-n.x):(t=s.x,i=n.x-s.x),n.y<s.y?(e=n.y,r=s.y-n.y):(e=s.y,r=n.y-s.y),this.currentX=t,this.currentY=e,this.currentW=i,this.currentH=r,!isNaN(t)&&!isNaN(e)&&!1!==t&&!1!==e&&(this.setDom("width",i),this.setDom("height",r),this.setDom("x",t),this.setDom("y",e),this.setHandles(),this.updateMask(),!0)}},{key:"handleMouseMoveImpl",value:function(t,e,i,r,n){var s=this.getProp("handles");if(this.moving||this.handleSelected){var o=this.getPosition(0),a=this.getPosition(1);this.getXAxis().isFlipped(),this.getYAxis().isFlipped(),o.x,o.y,a.x,a.y;if(this.moving)o.deltaPosition("x",e,this.getXAxis()),o.deltaPosition("y",i,this.getYAxis()),a.deltaPosition("x",e,this.getXAxis()),a.deltaPosition("y",i,this.getYAxis());else switch(s.type){case"seamlessX":switch(this.handleSelected){case 1:o.deltaPosition("x",e,this.getXAxis());break;case 2:a.deltaPosition("x",e,this.getXAxis())}break;case"sides":switch(this.sides[this.handleSelected]){case"left":o.deltaPosition("x",e,this.getXAxis());break;case"right":a.deltaPosition("x",e,this.getXAxis());break;case"top":o.deltaPosition("y",i,this.getYAxis());break;case"bottom":a.deltaPosition("y",i,this.getYAxis())}break;case"corners":default:1==this.handleSelected?(o.deltaPosition("x",e,this.getXAxis()),o.deltaPosition("y",i,this.getYAxis())):2==this.handleSelected?(a.deltaPosition("x",e,this.getXAxis()),o.deltaPosition("y",i,this.getYAxis())):3==this.handleSelected?(a.deltaPosition("y",i,this.getYAxis()),a.deltaPosition("x",e,this.getXAxis())):4==this.handleSelected&&(o.deltaPosition("x",e,this.getXAxis()),a.deltaPosition("y",i,this.getYAxis()))}return this.redraw(),this.changed(),this.setHandles(),!0}}},{key:"setHandles",value:function(){if(!this.isLocked()&&(this.isSelectable()||this._staticHandles)&&this.handlesInDom){var t=this.computePosition(0),e=this.computePosition(1);switch(this.getProp("handles").type){case"seamlessX":this.handles[1]&&(this.handles[1].setAttribute("transform","translate(-10) translate("+t.x+")"),this.handles[1].setAttribute("height",Math.abs(e.y-t.y)),this.handles[1].setAttribute("y",Math.min(e.y,t.y))),this.handles[2]&&(this.handles[2].setAttribute("transform","translate(-10)  translate("+e.x+")"),this.handles[2].setAttribute("height",Math.abs(e.y-t.y)),this.handles[2].setAttribute("y",Math.min(e.y,t.y)));break;case"sides":this.handles.left&&this.handles.left.setAttribute("transform","translate("+this.currentX+" "+(this.currentY+this.currentH/2)+")"),this.handles.right&&this.handles.right.setAttribute("transform","translate( "+(this.currentX+this.currentW)+" "+(this.currentY+this.currentH/2)+")"),this.handles.top&&this.handles.top.setAttribute("transform","translate( "+(this.currentX+this.currentW/2)+" "+this.currentY+")"),this.handles.bottom&&this.handles.bottom.setAttribute("transform","translate( "+(this.currentX+this.currentW/2)+" "+(this.currentY+this.currentH)+")");break;case"corners":default:this.handles[1].setAttribute("x",t.x),this.handles[1].setAttribute("y",t.y),this.handles[2].setAttribute("x",e.x),this.handles[2].setAttribute("y",t.y),this.handles[3].setAttribute("x",e.x),this.handles[3].setAttribute("y",e.y),this.handles[4].setAttribute("x",t.x),this.handles[4].setAttribute("y",e.y)}}}}]),r}();e.default=h,t.exports=e.default},n=[t,e,i(5),i(28)],void 0===(s="function"==typeof(r=o)?r.apply(e,n):r)||(t.exports=s)},function(t,e,i){i(145),t.exports=i(347)},function(t,e,i){"use strict";(function(t){if(i(146),i(343),i(344),t._babelPolyfill)throw new Error("only one instance of babel-polyfill is allowed");t._babelPolyfill=!0;function e(t,e,i){t[e]||Object.defineProperty(t,e,{writable:!0,configurable:!0,value:i})}e(String.prototype,"padLeft","".padStart),e(String.prototype,"padRight","".padEnd),"pop,reverse,shift,keys,values,entries,indexOf,every,some,forEach,map,filter,find,findIndex,includes,join,slice,concat,push,splice,unshift,sort,lastIndexOf,reduce,reduceRight,copyWithin,fill".split(",").forEach(function(t){[][t]&&e(Array,t,Function.call.bind([][t]))})}).call(e,i(103))},function(t,e,i){i(147),i(149),i(150),i(151),i(152),i(153),i(154),i(155),i(156),i(157),i(158),i(159),i(160),i(161),i(162),i(163),i(165),i(166),i(167),i(168),i(169),i(170),i(171),i(172),i(173),i(174),i(175),i(176),i(177),i(178),i(179),i(180),i(181),i(182),i(183),i(184),i(185),i(186),i(187),i(188),i(189),i(190),i(191),i(192),i(193),i(194),i(195),i(196),i(197),i(198),i(199),i(200),i(201),i(202),i(203),i(204),i(205),i(206),i(207),i(208),i(209),i(210),i(211),i(212),i(213),i(214),i(215),i(216),i(217),i(218),i(219),i(220),i(221),i(222),i(223),i(224),i(225),i(227),i(228),i(230),i(231),i(232),i(233),i(234),i(235),i(236),i(238),i(239),i(240),i(241),i(242),i(243),i(244),i(245),i(246),i(247),i(248),i(249),i(250),i(96),i(251),i(252),i(122),i(253),i(254),i(255),i(256),i(257),i(125),i(127),i(128),i(258),i(259),i(260),i(261),i(262),i(263),i(264),i(265),i(266),i(267),i(268),i(269),i(270),i(271),i(272),i(273),i(274),i(275),i(276),i(277),i(278),i(279),i(280),i(281),i(282),i(283),i(284),i(285),i(286),i(287),i(288),i(289),i(290),i(291),i(292),i(293),i(294),i(295),i(296),i(297),i(298),i(299),i(300),i(301),i(302),i(303),i(304),i(305),i(306),i(307),i(308),i(309),i(310),i(311),i(312),i(313),i(314),i(315),i(316),i(317),i(318),i(319),i(320),i(321),i(322),i(323),i(324),i(325),i(326),i(327),i(328),i(329),i(330),i(331),i(332),i(333),i(334),i(335),i(336),i(337),i(338),i(339),i(340),i(341),i(342),t.exports=i(19)},function(t,e,i){"use strict";var r=i(2),o=i(15),n=i(7),s=i(0),a=i(13),u=i(32).KEY,h=i(3),l=i(58),c=i(47),f=i(36),p=i(6),d=i(105),g=i(76),y=i(148),v=i(61),m=i(1),x=i(4),b=i(16),k=i(23),M=i(35),S=i(39),A=i(108),_=i(17),w=i(8),P=i(37),C=_.f,L=w.f,O=A.f,E=r.Symbol,T=r.JSON,X=T&&T.stringify,D="prototype",j=p("_hidden"),I=p("toPrimitive"),N={}.propertyIsEnumerable,Y=l("symbol-registry"),F=l("symbols"),B=l("op-symbols"),R=Object[D],H="function"==typeof E,W=r.QObject,z=!W||!W[D]||!W[D].findChild,V=n&&h(function(){return 7!=S(L({},"a",{get:function(){return L(this,"a",{value:7}).a}})).a})?function(t,e,i){var r=C(R,e);r&&delete R[e],L(t,e,i),r&&t!==R&&L(R,e,r)}:L,G=function(t){var e=F[t]=S(E[D]);return e._k=t,e},U=H&&"symbol"==typeof E.iterator?function(t){return"symbol"==typeof t}:function(t){return t instanceof E},Z=function(t,e,i){return t===R&&Z(B,e,i),m(t),e=k(e,!0),m(i),o(F,e)?(i.enumerable?(o(t,j)&&t[j][e]&&(t[j][e]=!1),i=S(i,{enumerable:M(0,!1)})):(o(t,j)||L(t,j,M(1,{})),t[j][e]=!0),V(t,e,i)):L(t,e,i)},q=function(t,e){m(t);for(var i,r=y(e=b(e)),n=0,s=r.length;n<s;)Z(t,i=r[n++],e[i]);return t},K=function(t){var e=N.call(this,t=k(t,!0));return!(this===R&&o(F,t)&&!o(B,t))&&(!(e||!o(this,t)||!o(F,t)||o(this,j)&&this[j][t])||e)},J=function(t,e){if(t=b(t),e=k(e,!0),t!==R||!o(F,e)||o(B,e)){var i=C(t,e);return!i||!o(F,e)||o(t,j)&&t[j][e]||(i.enumerable=!0),i}},Q=function(t){for(var e,i=O(b(t)),r=[],n=0;i.length>n;)o(F,e=i[n++])||e==j||e==u||r.push(e);return r},$=function(t){for(var e,i=t===R,r=O(i?B:b(t)),n=[],s=0;r.length>s;)!o(F,e=r[s++])||i&&!o(R,e)||n.push(F[e]);return n};H||(a((E=function(){if(this instanceof E)throw TypeError("Symbol is not a constructor!");var e=f(0<arguments.length?arguments[0]:void 0),i=function(t){this===R&&i.call(B,t),o(this,j)&&o(this[j],e)&&(this[j][e]=!1),V(this,e,M(1,t))};return n&&z&&V(R,e,{configurable:!0,set:i}),G(e)})[D],"toString",function(){return this._k}),_.f=J,w.f=Z,i(40).f=A.f=Q,i(53).f=K,i(60).f=$,n&&!i(33)&&a(R,"propertyIsEnumerable",K,!0),d.f=function(t){return G(p(t))}),s(s.G+s.W+s.F*!H,{Symbol:E});for(var tt="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),et=0;tt.length>et;)p(tt[et++]);for(var it=P(p.store),rt=0;it.length>rt;)g(it[rt++]);s(s.S+s.F*!H,"Symbol",{for:function(t){return o(Y,t+="")?Y[t]:Y[t]=E(t)},keyFor:function(t){if(!U(t))throw TypeError(t+" is not a symbol!");for(var e in Y)if(Y[e]===t)return e},useSetter:function(){z=!0},useSimple:function(){z=!1}}),s(s.S+s.F*!H,"Object",{create:function(t,e){return void 0===e?S(t):q(S(t),e)},defineProperty:Z,defineProperties:q,getOwnPropertyDescriptor:J,getOwnPropertyNames:Q,getOwnPropertySymbols:$}),T&&s(s.S+s.F*(!H||h(function(){var t=E();return"[null]"!=X([t])||"{}"!=X({a:t})||"{}"!=X(Object(t))})),"JSON",{stringify:function(t){for(var e,i,r=[t],n=1;arguments.length>n;)r.push(arguments[n++]);if(i=e=r[1],(x(e)||void 0!==t)&&!U(t))return v(e)||(e=function(t,e){if("function"==typeof i&&(e=i.call(this,t,e)),!U(e))return e}),r[1]=e,X.apply(T,r)}}),E[D][I]||i(12)(E[D],I,E[D].valueOf),c(E,"Symbol"),c(Math,"Math",!0),c(r.JSON,"JSON",!0)},function(t,e,i){var a=i(37),u=i(60),h=i(53);t.exports=function(t){var e=a(t),i=u.f;if(i)for(var r,n=i(t),s=h.f,o=0;n.length>o;)s.call(t,r=n[o++])&&e.push(r);return e}},function(t,e,i){var r=i(0);r(r.S,"Object",{create:i(39)})},function(t,e,i){var r=i(0);r(r.S+r.F*!i(7),"Object",{defineProperty:i(8).f})},function(t,e,i){var r=i(0);r(r.S+r.F*!i(7),"Object",{defineProperties:i(107)})},function(t,e,i){var r=i(16),n=i(17).f;i(26)("getOwnPropertyDescriptor",function(){return function(t,e){return n(r(t),e)}})},function(t,e,i){var r=i(10),n=i(18);i(26)("getPrototypeOf",function(){return function(t){return n(r(t))}})},function(t,e,i){var r=i(10),n=i(37);i(26)("keys",function(){return function(t){return n(r(t))}})},function(t,e,i){i(26)("getOwnPropertyNames",function(){return i(108).f})},function(t,e,i){var r=i(4),n=i(32).onFreeze;i(26)("freeze",function(e){return function(t){return e&&r(t)?e(n(t)):t}})},function(t,e,i){var r=i(4),n=i(32).onFreeze;i(26)("seal",function(e){return function(t){return e&&r(t)?e(n(t)):t}})},function(t,e,i){var r=i(4),n=i(32).onFreeze;i(26)("preventExtensions",function(e){return function(t){return e&&r(t)?e(n(t)):t}})},function(t,e,i){var r=i(4);i(26)("isFrozen",function(e){return function(t){return!r(t)||!!e&&e(t)}})},function(t,e,i){var r=i(4);i(26)("isSealed",function(e){return function(t){return!r(t)||!!e&&e(t)}})},function(t,e,i){var r=i(4);i(26)("isExtensible",function(e){return function(t){return!!r(t)&&(!e||e(t))}})},function(t,e,i){var r=i(0);r(r.S+r.F,"Object",{assign:i(109)})},function(t,e,i){var r=i(0);r(r.S,"Object",{is:i(164)})},function(t,e){t.exports=Object.is||function(t,e){return t===e?0!==t||1/t==1/e:t!=t&&e!=e}},function(t,e,i){var r=i(0);r(r.S,"Object",{setPrototypeOf:i(80).set})},function(t,e,i){"use strict";var r=i(54),n={};n[i(6)("toStringTag")]="z",n+""!="[object z]"&&i(13)(Object.prototype,"toString",function(){return"[object "+r(this)+"]"},!0)},function(t,e,i){var r=i(0);r(r.P,"Function",{bind:i(110)})},function(t,e,i){var r=i(8).f,n=Function.prototype,s=/^\s*function ([^ (]*)/;"name"in n||i(7)&&r(n,"name",{configurable:!0,get:function(){try{return(""+this).match(s)[1]}catch(t){return""}}})},function(t,e,i){"use strict";var r=i(4),n=i(18),s=i(6)("hasInstance"),o=Function.prototype;s in o||i(8).f(o,s,{value:function(t){if("function"!=typeof this||!r(t))return!1;if(!r(this.prototype))return t instanceof this;for(;t=n(t);)if(this.prototype===t)return!0;return!1}})},function(t,e,i){var r=i(0),n=i(112);r(r.G+r.F*(parseInt!=n),{parseInt:n})},function(t,e,i){var r=i(0),n=i(113);r(r.G+r.F*(parseFloat!=n),{parseFloat:n})},function(t,e,i){"use strict";var r=i(2),n=i(15),s=i(21),o=i(82),l=i(23),a=i(3),u=i(40).f,h=i(17).f,c=i(8).f,f=i(48).trim,p="Number",d=r[p],g=d,y=d.prototype,v=s(i(39)(y))==p,m="trim"in String.prototype,x=function(t){var e=l(t,!1);if("string"==typeof e&&2<e.length){var i,r,n,s=(e=m?e.trim():f(e,3)).charCodeAt(0);if(43===s||45===s){if(88===(i=e.charCodeAt(2))||120===i)return NaN}else if(48===s){switch(e.charCodeAt(1)){case 66:case 98:r=2,n=49;break;case 79:case 111:r=8,n=55;break;default:return+e}for(var o,a=e.slice(2),u=0,h=a.length;u<h;u++)if((o=a.charCodeAt(u))<48||n<o)return NaN;return parseInt(a,r)}}return+e};if(!d(" 0o1")||!d("0b1")||d("+0x1")){d=function(t){var e=arguments.length<1?0:t,i=this;return i instanceof d&&(v?a(function(){y.valueOf.call(i)}):s(i)!=p)?o(new g(x(e)),i,d):x(e)};for(var b,k=i(7)?u(g):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),M=0;k.length>M;M++)n(g,b=k[M])&&!n(d,b)&&c(d,b,h(g,b));(d.prototype=y).constructor=d,i(13)(r,p,d)}},function(t,e,i){"use strict";var r=i(0),h=i(25),l=i(114),c=i(83),n=1..toFixed,s=Math.floor,o=[0,0,0,0,0,0],f="Number.toFixed: incorrect invocation!",p=function(t,e){for(var i=-1,r=e;++i<6;)r+=t*o[i],o[i]=r%1e7,r=s(r/1e7)},d=function(t){for(var e=6,i=0;0<=--e;)i+=o[e],o[e]=s(i/t),i=i%t*1e7},g=function(){for(var t=6,e="";0<=--t;)if(""!==e||0===t||0!==o[t]){var i=String(o[t]);e=""===e?i:e+c.call("0",7-i.length)+i}return e},y=function(t,e,i){return 0===e?i:e%2==1?y(t,e-1,i*t):y(t*t,e/2,i)};r(r.P+r.F*(!!n&&("0.000"!==8e-5.toFixed(3)||"1"!==.9.toFixed(0)||"1.25"!==1.255.toFixed(2)||"1000000000000000128"!==(0xde0b6b3a7640080).toFixed(0))||!i(3)(function(){n.call({})})),"Number",{toFixed:function(t){var e,i,r,n,s=l(this,f),o=h(t),a="",u="0";if(o<0||20<o)throw RangeError(f);if(s!=s)return"NaN";if(s<=-1e21||1e21<=s)return String(s);if(s<0&&(a="-",s=-s),1e-21<s)if(i=(e=function(t){for(var e=0,i=t;4096<=i;)e+=12,i/=4096;for(;2<=i;)e+=1,i/=2;return e}(s*y(2,69,1))-69)<0?s*y(2,-e,1):s/y(2,e,1),i*=4503599627370496,0<(e=52-e)){for(p(0,i),r=o;7<=r;)p(1e7,0),r-=7;for(p(y(10,r,1),0),r=e-1;23<=r;)d(1<<23),r-=23;d(1<<r),p(1,1),d(2),u=g()}else p(0,i),p(1<<-e,0),u=g()+c.call("0",o);return u=0<o?a+((n=u.length)<=o?"0."+c.call("0",o-n)+u:u.slice(0,n-o)+"."+u.slice(n-o)):a+u}})},function(t,e,i){"use strict";var r=i(0),n=i(3),s=i(114),o=1..toPrecision;r(r.P+r.F*(n(function(){return"1"!==o.call(1,void 0)})||!n(function(){o.call({})})),"Number",{toPrecision:function(t){var e=s(this,"Number#toPrecision: incorrect invocation!");return void 0===t?o.call(e):o.call(e,t)}})},function(t,e,i){var r=i(0);r(r.S,"Number",{EPSILON:Math.pow(2,-52)})},function(t,e,i){var r=i(0),n=i(2).isFinite;r(r.S,"Number",{isFinite:function(t){return"number"==typeof t&&n(t)}})},function(t,e,i){var r=i(0);r(r.S,"Number",{isInteger:i(115)})},function(t,e,i){var r=i(0);r(r.S,"Number",{isNaN:function(t){return t!=t}})},function(t,e,i){var r=i(0),n=i(115),s=Math.abs;r(r.S,"Number",{isSafeInteger:function(t){return n(t)&&s(t)<=9007199254740991}})},function(t,e,i){var r=i(0);r(r.S,"Number",{MAX_SAFE_INTEGER:9007199254740991})},function(t,e,i){var r=i(0);r(r.S,"Number",{MIN_SAFE_INTEGER:-9007199254740991})},function(t,e,i){var r=i(0),n=i(113);r(r.S+r.F*(Number.parseFloat!=n),"Number",{parseFloat:n})},function(t,e,i){var r=i(0),n=i(112);r(r.S+r.F*(Number.parseInt!=n),"Number",{parseInt:n})},function(t,e,i){var r=i(0),n=i(116),s=Math.sqrt,o=Math.acosh;r(r.S+r.F*!(o&&710==Math.floor(o(Number.MAX_VALUE))&&o(1/0)==1/0),"Math",{acosh:function(t){return(t=+t)<1?NaN:94906265.62425156<t?Math.log(t)+Math.LN2:n(t-1+s(t-1)*s(t+1))}})},function(t,e,i){var r=i(0),n=Math.asinh;r(r.S+r.F*!(n&&0<1/n(0)),"Math",{asinh:function t(e){return isFinite(e=+e)&&0!=e?e<0?-t(-e):Math.log(e+Math.sqrt(e*e+1)):e}})},function(t,e,i){var r=i(0),n=Math.atanh;r(r.S+r.F*!(n&&1/n(-0)<0),"Math",{atanh:function(t){return 0==(t=+t)?t:Math.log((1+t)/(1-t))/2}})},function(t,e,i){var r=i(0),n=i(84);r(r.S,"Math",{cbrt:function(t){return n(t=+t)*Math.pow(Math.abs(t),1/3)}})},function(t,e,i){var r=i(0);r(r.S,"Math",{clz32:function(t){return(t>>>=0)?31-Math.floor(Math.log(t+.5)*Math.LOG2E):32}})},function(t,e,i){var r=i(0),n=Math.exp;r(r.S,"Math",{cosh:function(t){return(n(t=+t)+n(-t))/2}})},function(t,e,i){var r=i(0),n=i(85);r(r.S+r.F*(n!=Math.expm1),"Math",{expm1:n})},function(t,e,i){var r=i(0);r(r.S,"Math",{fround:i(117)})},function(t,e,i){var r=i(0),u=Math.abs;r(r.S,"Math",{hypot:function(t,e){for(var i,r,n=0,s=0,o=arguments.length,a=0;s<o;)a<(i=u(arguments[s++]))?(n=n*(r=a/i)*r+1,a=i):n+=0<i?(r=i/a)*r:i;return a===1/0?1/0:a*Math.sqrt(n)}})},function(t,e,i){var r=i(0),n=Math.imul;r(r.S+r.F*i(3)(function(){return-5!=n(4294967295,5)||2!=n.length}),"Math",{imul:function(t,e){var i=+t,r=+e,n=65535&i,s=65535&r;return 0|n*s+((65535&i>>>16)*s+n*(65535&r>>>16)<<16>>>0)}})},function(t,e,i){var r=i(0);r(r.S,"Math",{log10:function(t){return Math.log(t)*Math.LOG10E}})},function(t,e,i){var r=i(0);r(r.S,"Math",{log1p:i(116)})},function(t,e,i){var r=i(0);r(r.S,"Math",{log2:function(t){return Math.log(t)/Math.LN2}})},function(t,e,i){var r=i(0);r(r.S,"Math",{sign:i(84)})},function(t,e,i){var r=i(0),n=i(85),s=Math.exp;r(r.S+r.F*i(3)(function(){return-2e-17!=!Math.sinh(-2e-17)}),"Math",{sinh:function(t){return Math.abs(t=+t)<1?(n(t)-n(-t))/2:(s(t-1)-s(-t-1))*(Math.E/2)}})},function(t,e,i){var r=i(0),n=i(85),s=Math.exp;r(r.S,"Math",{tanh:function(t){var e=n(t=+t),i=n(-t);return e==1/0?1:i==1/0?-1:(e-i)/(s(t)+s(-t))}})},function(t,e,i){var r=i(0);r(r.S,"Math",{trunc:function(t){return(0<t?Math.floor:Math.ceil)(t)}})},function(t,e,i){var r=i(0),s=i(38),o=String.fromCharCode,n=String.fromCodePoint;r(r.S+r.F*(!!n&&1!=n.length),"String",{fromCodePoint:function(t){for(var e,i=[],r=arguments.length,n=0;n<r;){if(e=+arguments[n++],s(e,1114111)!==e)throw RangeError(e+" is not a valid code point");i.push(e<65536?o(e):o(55296+((e-=65536)>>10),e%1024+56320))}return i.join("")}})},function(t,e,i){var r=i(0),o=i(16),a=i(9);r(r.S,"String",{raw:function(t){for(var e=o(t.raw),i=a(e.length),r=arguments.length,n=[],s=0;s<i;)n.push(String(e[s++])),s<r&&n.push(String(arguments[s]));return n.join("")}})},function(t,e,i){"use strict";i(48)("trim",function(t){return function(){return t(this,3)}})},function(t,e,i){"use strict";var r=i(86)(!0);i(87)(String,"String",function(t){this._t=String(t),this._i=0},function(){var t,e=this._t,i=this._i;return i>=e.length?{value:void 0,done:!0}:(t=r(e,i),this._i+=t.length,{value:t,done:!1})})},function(t,e,i){"use strict";var r=i(0),n=i(86)(!1);r(r.P,"String",{codePointAt:function(t){return n(this,t)}})},function(t,e,i){"use strict";var r=i(0),o=i(9),a=i(89),u="endsWith",h=""[u];r(r.P+r.F*i(90)(u),"String",{endsWith:function(t){var e=a(this,t,u),i=1<arguments.length?arguments[1]:void 0,r=o(e.length),n=void 0===i?r:Math.min(o(i),r),s=String(t);return h?h.call(e,s,n):e.slice(n-s.length,n)===s}})},function(t,e,i){"use strict";var r=i(0),n=i(89);r(r.P+r.F*i(90)("includes"),"String",{includes:function(t){return!!~n(this,t,"includes").indexOf(t,1<arguments.length?arguments[1]:void 0)}})},function(t,e,i){var r=i(0);r(r.P,"String",{repeat:i(83)})},function(t,e,i){"use strict";var r=i(0),n=i(9),s=i(89),o="startsWith",a=""[o];r(r.P+r.F*i(90)(o),"String",{startsWith:function(t){var e=s(this,t,o),i=n(Math.min(1<arguments.length?arguments[1]:void 0,e.length)),r=String(t);return a?a.call(e,r,i):e.slice(i,i+r.length)===r}})},function(t,e,i){"use strict";i(14)("anchor",function(e){return function(t){return e(this,"a","name",t)}})},function(t,e,i){"use strict";i(14)("big",function(t){return function(){return t(this,"big","","")}})},function(t,e,i){"use strict";i(14)("blink",function(t){return function(){return t(this,"blink","","")}})},function(t,e,i){"use strict";i(14)("bold",function(t){return function(){return t(this,"b","","")}})},function(t,e,i){"use strict";i(14)("fixed",function(t){return function(){return t(this,"tt","","")}})},function(t,e,i){"use strict";i(14)("fontcolor",function(e){return function(t){return e(this,"font","color",t)}})},function(t,e,i){"use strict";i(14)("fontsize",function(e){return function(t){return e(this,"font","size",t)}})},function(t,e,i){"use strict";i(14)("italics",function(t){return function(){return t(this,"i","","")}})},function(t,e,i){"use strict";i(14)("link",function(e){return function(t){return e(this,"a","href",t)}})},function(t,e,i){"use strict";i(14)("small",function(t){return function(){return t(this,"small","","")}})},function(t,e,i){"use strict";i(14)("strike",function(t){return function(){return t(this,"strike","","")}})},function(t,e,i){"use strict";i(14)("sub",function(t){return function(){return t(this,"sub","","")}})},function(t,e,i){"use strict";i(14)("sup",function(t){return function(){return t(this,"sup","","")}})},function(t,e,i){var r=i(0);r(r.S,"Date",{now:function(){return(new Date).getTime()}})},function(t,e,i){"use strict";var r=i(0),n=i(10),s=i(23);r(r.P+r.F*i(3)(function(){return null!==new Date(NaN).toJSON()||1!==Date.prototype.toJSON.call({toISOString:function(){return 1}})}),"Date",{toJSON:function(t){var e=n(this),i=s(e);return"number"!=typeof i||isFinite(i)?e.toISOString():null}})},function(t,e,i){var r=i(0),n=i(226);r(r.P+r.F*(Date.prototype.toISOString!==n),"Date",{toISOString:n})},function(t,e,i){"use strict";var r=i(3),n=Date.prototype.getTime,s=Date.prototype.toISOString,o=function(t){return 9<t?t:"0"+t};t.exports=r(function(){return"0385-07-25T07:06:39.999Z"!=s.call(new Date(-5e13-1))})||!r(function(){s.call(new Date(NaN))})?function(){if(!isFinite(n.call(this)))throw RangeError("Invalid time value");var t=this.getUTCFullYear(),e=this.getUTCMilliseconds(),i=t<0?"-":9999<t?"+":"";return i+("00000"+Math.abs(t)).slice(i?-6:-4)+"-"+o(this.getUTCMonth()+1)+"-"+o(this.getUTCDate())+"T"+o(this.getUTCHours())+":"+o(this.getUTCMinutes())+":"+o(this.getUTCSeconds())+"."+(99<e?e:"0"+o(e))+"Z"}:s},function(t,e,i){var r=Date.prototype,n="Invalid Date",s=r.toString,o=r.getTime;new Date(NaN)+""!=n&&i(13)(r,"toString",function(){var t=o.call(this);return t==t?s.call(this):n})},function(t,e,i){var r=i(6)("toPrimitive"),n=Date.prototype;r in n||i(12)(n,r,i(229))},function(t,e,i){"use strict";var r=i(1),n=i(23);t.exports=function(t){if("string"!==t&&"number"!==t&&"default"!==t)throw TypeError("Incorrect hint");return n(r(this),"number"!=t)}},function(t,e,i){var r=i(0);r(r.S,"Array",{isArray:i(61)})},function(t,e,i){"use strict";var f=i(20),r=i(0),p=i(10),d=i(118),g=i(91),y=i(9),v=i(92),m=i(93);r(r.S+r.F*!i(63)(function(t){Array.from(t)}),"Array",{from:function(t){var e,i,r,n,s=p(t),o="function"==typeof this?this:Array,a=arguments.length,u=1<a?arguments[1]:void 0,h=void 0!==u,l=0,c=m(s);if(h&&(u=f(u,2<a?arguments[2]:void 0,2)),null==c||o==Array&&g(c))for(i=new o(e=y(s.length));l<e;l++)v(i,l,h?u(s[l],l):s[l]);else for(n=c.call(s),i=new o;!(r=n.next()).done;l++)v(i,l,h?d(n,u,[r.value,l],!0):r.value);return i.length=l,i}})},function(t,e,i){"use strict";var r=i(0),n=i(92);r(r.S+r.F*i(3)(function(){function t(){}return!(Array.of.call(t)instanceof t)}),"Array",{of:function(){for(var t=0,e=arguments.length,i=new("function"==typeof this?this:Array)(e);t<e;)n(i,t,arguments[t++]);return i.length=e,i}})},function(t,e,i){"use strict";var r=i(0),n=i(16),s=[].join;r(r.P+r.F*(i(52)!=Object||!i(22)(s)),"Array",{join:function(t){return s.call(n(this),void 0===t?",":t)}})},function(t,e,i){"use strict";var r=i(0),n=i(79),h=i(21),l=i(38),c=i(9),f=[].slice;r(r.P+r.F*i(3)(function(){n&&f.call(n)}),"Array",{slice:function(t,e){var i=c(this.length),r=h(this);if(e=void 0===e?i:e,"Array"==r)return f.call(this,t,e);for(var n=l(t,i),s=l(e,i),o=c(s-n),a=new Array(o),u=0;u<o;u++)a[u]="String"==r?this.charAt(n+u):this[n+u];return a}})},function(t,e,i){"use strict";var r=i(0),n=i(11),s=i(10),o=i(3),a=[].sort,u=[1,2,3];r(r.P+r.F*(o(function(){u.sort(void 0)})||!o(function(){u.sort(null)})||!i(22)(a)),"Array",{sort:function(t){return void 0===t?a.call(s(this)):a.call(s(this),n(t))}})},function(t,e,i){"use strict";var r=i(0),n=i(27)(0),s=i(22)([].forEach,!0);r(r.P+r.F*!s,"Array",{forEach:function(t){return n(this,t,arguments[1])}})},function(t,e,i){var r=i(4),n=i(61),s=i(6)("species");t.exports=function(t){var e;return n(t)&&("function"!=typeof(e=t.constructor)||e!==Array&&!n(e.prototype)||(e=void 0),r(e)&&null===(e=e[s])&&(e=void 0)),void 0===e?Array:e}},function(t,e,i){"use strict";var r=i(0),n=i(27)(1);r(r.P+r.F*!i(22)([].map,!0),"Array",{map:function(t){return n(this,t,arguments[1])}})},function(t,e,i){"use strict";var r=i(0),n=i(27)(2);r(r.P+r.F*!i(22)([].filter,!0),"Array",{filter:function(t){return n(this,t,arguments[1])}})},function(t,e,i){"use strict";var r=i(0),n=i(27)(3);r(r.P+r.F*!i(22)([].some,!0),"Array",{some:function(t){return n(this,t,arguments[1])}})},function(t,e,i){"use strict";var r=i(0),n=i(27)(4);r(r.P+r.F*!i(22)([].every,!0),"Array",{every:function(t){return n(this,t,arguments[1])}})},function(t,e,i){"use strict";var r=i(0),n=i(119);r(r.P+r.F*!i(22)([].reduce,!0),"Array",{reduce:function(t){return n(this,t,arguments.length,arguments[1],!1)}})},function(t,e,i){"use strict";var r=i(0),n=i(119);r(r.P+r.F*!i(22)([].reduceRight,!0),"Array",{reduceRight:function(t){return n(this,t,arguments.length,arguments[1],!0)}})},function(t,e,i){"use strict";var r=i(0),n=i(59)(!1),s=[].indexOf,o=!!s&&1/[1].indexOf(1,-0)<0;r(r.P+r.F*(o||!i(22)(s)),"Array",{indexOf:function(t){return o?s.apply(this,arguments)||0:n(this,t,arguments[1])}})},function(t,e,i){"use strict";var r=i(0),n=i(16),s=i(25),o=i(9),a=[].lastIndexOf,u=!!a&&1/[1].lastIndexOf(1,-0)<0;r(r.P+r.F*(u||!i(22)(a)),"Array",{lastIndexOf:function(t){if(u)return a.apply(this,arguments)||0;var e=n(this),i=o(e.length),r=i-1;for(1<arguments.length&&(r=Math.min(r,s(arguments[1]))),r<0&&(r=i+r);0<=r;r--)if(r in e&&e[r]===t)return r||0;return-1}})},function(t,e,i){var r=i(0);r(r.P,"Array",{copyWithin:i(120)}),i(34)("copyWithin")},function(t,e,i){var r=i(0);r(r.P,"Array",{fill:i(95)}),i(34)("fill")},function(t,e,i){"use strict";var r=i(0),n=i(27)(5),s=!0;"find"in[]&&Array(1).find(function(){s=!1}),r(r.P+r.F*s,"Array",{find:function(t){return n(this,t,1<arguments.length?arguments[1]:void 0)}}),i(34)("find")},function(t,e,i){"use strict";var r=i(0),n=i(27)(6),s="findIndex",o=!0;s in[]&&Array(1)[s](function(){o=!1}),r(r.P+r.F*o,"Array",{findIndex:function(t){return n(this,t,1<arguments.length?arguments[1]:void 0)}}),i(34)(s)},function(t,e,i){i(41)("Array")},function(t,e,i){var r=i(2),s=i(82),n=i(8).f,o=i(40).f,a=i(62),u=i(64),h=r.RegExp,l=h,c=h.prototype,f=/a/g,p=/a/g,d=new h(f)!==f;if(i(7)&&(!d||i(3)(function(){return p[i(6)("match")]=!1,h(f)!=f||h(p)==p||"/a/i"!=h(f,"i")}))){h=function(t,e){var i=this instanceof h,r=a(t),n=void 0===e;return!i&&r&&t.constructor===h&&n?t:s(d?new l(r&&!n?t.source:t,e):l((r=t instanceof h)?t.source:t,r&&n?u.call(t):e),i?this:c,h)};for(var g=function(e){e in h||n(h,e,{configurable:!0,get:function(){return l[e]},set:function(t){l[e]=t}})},y=o(l),v=0;y.length>v;)g(y[v++]);(c.constructor=h).prototype=c,i(13)(r,"RegExp",h)}i(41)("RegExp")},function(t,e,i){"use strict";i(122);var r=i(1),n=i(64),s=i(7),o="toString",a=/./[o],u=function(t){i(13)(RegExp.prototype,o,t,!0)};i(3)(function(){return"/a/b"!=a.call({source:"a",flags:"b"})})?u(function(){var t=r(this);return"/".concat(t.source,"/","flags"in t?t.flags:!s&&t instanceof RegExp?n.call(t):void 0)}):a.name!=o&&u(function(){return a.call(this)})},function(t,e,i){i(65)("match",1,function(r,n,t){return[function(t){"use strict";var e=r(this),i=null==t?void 0:t[n];return void 0!==i?i.call(t,e):new RegExp(t)[n](String(e))},t]})},function(t,e,i){i(65)("replace",2,function(n,s,o){return[function(t,e){"use strict";var i=n(this),r=null==t?void 0:t[s];return void 0!==r?r.call(t,i,e):o.call(String(i),t,e)},o]})},function(t,e,i){i(65)("search",1,function(r,n,t){return[function(t){"use strict";var e=r(this),i=null==t?void 0:t[n];return void 0!==i?i.call(t,e):new RegExp(t)[n](String(e))},t]})},function(t,e,i){i(65)("split",2,function(n,s,o){"use strict";var p=i(62),d=o,g=[].push,t="split",y="length";if("c"=="abbc"[t](/(b)*/)[1]||4!="test"[t](/(?:)/,-1)[y]||2!="ab"[t](/(?:ab)*/)[y]||4!="."[t](/(.?)(.?)/)[y]||1<"."[t](/()()/)[y]||""[t](/.?/)[y]){var v=void 0===/()??/.exec("")[1];o=function(t,e){var i=String(this);if(void 0===t&&0===e)return[];if(!p(t))return d.call(i,t,e);var r,n,s,o,a,u=[],h=(t.ignoreCase?"i":"")+(t.multiline?"m":"")+(t.unicode?"u":"")+(t.sticky?"y":""),l=0,c=void 0===e?4294967295:e>>>0,f=new RegExp(t.source,h+"g");for(v||(r=new RegExp("^"+f.source+"$(?!\\s)",h));(n=f.exec(i))&&!(l<(s=n.index+n[0][y])&&(u.push(i.slice(l,n.index)),!v&&1<n[y]&&n[0].replace(r,function(){for(a=1;a<arguments[y]-2;a++)void 0===arguments[a]&&(n[a]=void 0)}),1<n[y]&&n.index<i[y]&&g.apply(u,n.slice(1)),o=n[0][y],l=s,u[y]>=c));)f.lastIndex===n.index&&f.lastIndex++;return l===i[y]?!o&&f.test("")||u.push(""):u.push(i.slice(l)),u[y]>c?u.slice(0,c):u}}else"0"[t](void 0,0)[y]&&(o=function(t,e){return void 0===t&&0===e?[]:d.call(this,t,e)});return[function(t,e){var i=n(this),r=null==t?void 0:t[s];return void 0!==r?r.call(t,i,e):o.call(String(i),t,e)},o]})},function(t,e,i){"use strict";var r,n,s,o,a=i(33),u=i(2),h=i(20),l=i(54),c=i(0),f=i(4),p=i(11),d=i(42),g=i(43),y=i(66),v=i(97).set,m=i(98)(),x=i(99),b=i(123),k=i(67),M=i(124),S="Promise",A=u.TypeError,_=u.process,w=_&&_.versions,P=w&&w.v8||"",C=u[S],L="process"==l(_),O=function(){},E=n=x.f,T=!!function(){try{var t=C.resolve(1),e=(t.constructor={})[i(6)("species")]=function(t){t(O,O)};return(L||"function"==typeof PromiseRejectionEvent)&&t.then(O)instanceof e&&0!==P.indexOf("6.6")&&-1===k.indexOf("Chrome/66")}catch(t){}}(),X=function(t){var e;return!(!f(t)||"function"!=typeof(e=t.then))&&e},D=function(l,i){if(!l._n){l._n=!0;var r=l._c;m(function(){for(var u=l._v,h=1==l._s,t=0,e=function(t){var e,i,r,n=h?t.ok:t.fail,s=t.resolve,o=t.reject,a=t.domain;try{n?(h||(2==l._h&&N(l),l._h=1),!0===n?e=u:(a&&a.enter(),e=n(u),a&&(a.exit(),r=!0)),e===t.promise?o(A("Promise-chain cycle")):(i=X(e))?i.call(e,s,o):s(e)):o(u)}catch(t){a&&!r&&a.exit(),o(t)}};r.length>t;)e(r[t++]);l._c=[],l._n=!1,i&&!l._h&&j(l)})}},j=function(s){v.call(u,function(){var t,e,i,r=s._v,n=I(s);if(n&&(t=b(function(){L?_.emit("unhandledRejection",r,s):(e=u.onunhandledrejection)?e({promise:s,reason:r}):(i=u.console)&&i.error&&i.error("Unhandled promise rejection",r)}),s._h=L||I(s)?2:1),s._a=void 0,n&&t.e)throw t.v})},I=function(t){return 1!==t._h&&0===(t._a||t._c).length},N=function(e){v.call(u,function(){var t;L?_.emit("rejectionHandled",e):(t=u.onrejectionhandled)&&t({promise:e,reason:e._v})})},Y=function(t){var e=this;e._d||(e._d=!0,(e=e._w||e)._v=t,e._s=2,e._a||(e._a=e._c.slice()),D(e,!0))},F=function(t){var i,r=this;if(!r._d){r._d=!0,r=r._w||r;try{if(r===t)throw A("Promise can't be resolved itself");(i=X(t))?m(function(){var e={_w:r,_d:!1};try{i.call(t,h(F,e,1),h(Y,e,1))}catch(t){Y.call(e,t)}}):(r._v=t,r._s=1,D(r,!1))}catch(t){Y.call({_w:r,_d:!1},t)}}};T||(C=function(t){d(this,C,S,"_h"),p(t),r.call(this);try{t(h(F,this,1),h(Y,this,1))}catch(t){Y.call(this,t)}},(r=function(t){this._c=[],this._a=void 0,this._s=0,this._d=!1,this._v=void 0,this._h=0,this._n=!1}).prototype=i(44)(C.prototype,{then:function(t,e){var i=E(y(this,C));return i.ok="function"!=typeof t||t,i.fail="function"==typeof e&&e,i.domain=L?_.domain:void 0,this._c.push(i),this._a&&this._a.push(i),this._s&&D(this,!1),i.promise},catch:function(t){return this.then(void 0,t)}}),s=function(){var t=new r;this.promise=t,this.resolve=h(F,t,1),this.reject=h(Y,t,1)},x.f=E=function(t){return t===C||t===o?new s(t):n(t)}),c(c.G+c.W+c.F*!T,{Promise:C}),i(47)(C,S),i(41)(S),o=i(19)[S],c(c.S+c.F*!T,S,{reject:function(t){var e=E(this);return(0,e.reject)(t),e.promise}}),c(c.S+c.F*(a||!T),S,{resolve:function(t){return M(a&&this===o?C:this,t)}}),c(c.S+c.F*!(T&&i(63)(function(t){C.all(t).catch(O)})),S,{all:function(t){var o=this,e=E(o),a=e.resolve,u=e.reject,i=b(function(){var r=[],n=0,s=1;g(t,!1,function(t){var e=n++,i=!1;r.push(void 0),s++,o.resolve(t).then(function(t){i||(i=!0,r[e]=t,--s||a(r))},u)}),--s||a(r)});return i.e&&u(i.v),e.promise},race:function(t){var e=this,i=E(e),r=i.reject,n=b(function(){g(t,!1,function(t){e.resolve(t).then(i.resolve,r)})});return n.e&&r(n.v),i.promise}})},function(t,e,i){"use strict";var r=i(129),n=i(50);i(68)("WeakSet",function(t){return function(){return t(this,0<arguments.length?arguments[0]:void 0)}},{add:function(t){return r.def(n(this,"WeakSet"),t,!0)}},r,!1,!0)},function(t,e,i){"use strict";var r=i(0),n=i(69),s=i(100),h=i(1),l=i(38),c=i(9),o=i(4),a=i(2).ArrayBuffer,f=i(66),p=s.ArrayBuffer,d=s.DataView,u=n.ABV&&a.isView,g=p.prototype.slice,y=n.VIEW,v="ArrayBuffer";r(r.G+r.W+r.F*(a!==p),{ArrayBuffer:p}),r(r.S+r.F*!n.CONSTR,v,{isView:function(t){return u&&u(t)||o(t)&&y in t}}),r(r.P+r.U+r.F*i(3)(function(){return!new p(2).slice(1,void 0).byteLength}),v,{slice:function(t,e){if(void 0!==g&&void 0===e)return g.call(h(this),t);for(var i=h(this).byteLength,r=l(t,i),n=l(void 0===e?i:e,i),s=new(f(this,p))(c(n-r)),o=new d(this),a=new d(s),u=0;r<n;)a.setUint8(u++,o.getUint8(r++));return s}}),i(41)(v)},function(t,e,i){var r=i(0);r(r.G+r.W+r.F*!i(69).ABV,{DataView:i(100).DataView})},function(t,e,i){i(30)("Int8",1,function(r){return function(t,e,i){return r(this,t,e,i)}})},function(t,e,i){i(30)("Uint8",1,function(r){return function(t,e,i){return r(this,t,e,i)}})},function(t,e,i){i(30)("Uint8",1,function(r){return function(t,e,i){return r(this,t,e,i)}},!0)},function(t,e,i){i(30)("Int16",2,function(r){return function(t,e,i){return r(this,t,e,i)}})},function(t,e,i){i(30)("Uint16",2,function(r){return function(t,e,i){return r(this,t,e,i)}})},function(t,e,i){i(30)("Int32",4,function(r){return function(t,e,i){return r(this,t,e,i)}})},function(t,e,i){i(30)("Uint32",4,function(r){return function(t,e,i){return r(this,t,e,i)}})},function(t,e,i){i(30)("Float32",4,function(r){return function(t,e,i){return r(this,t,e,i)}})},function(t,e,i){i(30)("Float64",8,function(r){return function(t,e,i){return r(this,t,e,i)}})},function(t,e,i){var r=i(0),s=i(11),o=i(1),a=(i(2).Reflect||{}).apply,u=Function.apply;r(r.S+r.F*!i(3)(function(){a(function(){})}),"Reflect",{apply:function(t,e,i){var r=s(t),n=o(i);return a?a(r,e,n):u.call(r,e,n)}})},function(t,e,i){var r=i(0),a=i(39),u=i(11),h=i(1),l=i(4),n=i(3),c=i(110),f=(i(2).Reflect||{}).construct,p=n(function(){function t(){}return!(f(function(){},[],t)instanceof t)}),d=!n(function(){f(function(){})});r(r.S+r.F*(p||d),"Reflect",{construct:function(t,e){u(t),h(e);var i=arguments.length<3?t:u(arguments[2]);if(d&&!p)return f(t,e,i);if(t==i){switch(e.length){case 0:return new t;case 1:return new t(e[0]);case 2:return new t(e[0],e[1]);case 3:return new t(e[0],e[1],e[2]);case 4:return new t(e[0],e[1],e[2],e[3])}var r=[null];return r.push.apply(r,e),new(c.apply(t,r))}var n=i.prototype,s=a(l(n)?n:Object.prototype),o=Function.apply.call(t,s,e);return l(o)?o:s}})},function(t,e,i){var r=i(8),n=i(0),s=i(1),o=i(23);n(n.S+n.F*i(3)(function(){Reflect.defineProperty(r.f({},1,{value:1}),1,{value:2})}),"Reflect",{defineProperty:function(t,e,i){s(t),e=o(e,!0),s(i);try{return r.f(t,e,i),!0}catch(t){return!1}}})},function(t,e,i){var r=i(0),n=i(17).f,s=i(1);r(r.S,"Reflect",{deleteProperty:function(t,e){var i=n(s(t),e);return!(i&&!i.configurable)&&delete t[e]}})},function(t,e,i){"use strict";var r=i(0),n=i(1),s=function(t){this._t=n(t),this._i=0;var e,i=this._k=[];for(e in t)i.push(e)};i(88)(s,"Object",function(){var t,e=this._k;do{if(this._i>=e.length)return{value:void 0,done:!0}}while(!((t=e[this._i++])in this._t));return{value:t,done:!1}}),r(r.S,"Reflect",{enumerate:function(t){return new s(t)}})},function(t,e,i){var o=i(17),a=i(18),u=i(15),r=i(0),h=i(4),l=i(1);r(r.S,"Reflect",{get:function t(e,i){var r,n,s=arguments.length<3?e:arguments[2];return l(e)===s?e[i]:(r=o.f(e,i))?u(r,"value")?r.value:void 0!==r.get?r.get.call(s):void 0:h(n=a(e))?t(n,i,s):void 0}})},function(t,e,i){var r=i(17),n=i(0),s=i(1);n(n.S,"Reflect",{getOwnPropertyDescriptor:function(t,e){return r.f(s(t),e)}})},function(t,e,i){var r=i(0),n=i(18),s=i(1);r(r.S,"Reflect",{getPrototypeOf:function(t){return n(s(t))}})},function(t,e,i){var r=i(0);r(r.S,"Reflect",{has:function(t,e){return e in t}})},function(t,e,i){var r=i(0),n=i(1),s=Object.isExtensible;r(r.S,"Reflect",{isExtensible:function(t){return n(t),!s||s(t)}})},function(t,e,i){var r=i(0);r(r.S,"Reflect",{ownKeys:i(131)})},function(t,e,i){var r=i(0),n=i(1),s=Object.preventExtensions;r(r.S,"Reflect",{preventExtensions:function(t){n(t);try{return s&&s(t),!0}catch(t){return!1}}})},function(t,e,i){var u=i(8),h=i(17),l=i(18),c=i(15),r=i(0),f=i(35),p=i(1),d=i(4);r(r.S,"Reflect",{set:function t(e,i,r){var n,s,o=arguments.length<4?e:arguments[3],a=h.f(p(e),i);if(!a){if(d(s=l(e)))return t(s,i,r,o);a=f(0)}if(c(a,"value")){if(!1===a.writable||!d(o))return!1;if(n=h.f(o,i)){if(n.get||n.set||!1===n.writable)return!1;n.value=r,u.f(o,i,n)}else u.f(o,i,f(0,r));return!0}return void 0!==a.set&&(a.set.call(o,r),!0)}})},function(t,e,i){var r=i(0),n=i(80);n&&r(r.S,"Reflect",{setPrototypeOf:function(t,e){n.check(t,e);try{return n.set(t,e),!0}catch(t){return!1}}})},function(t,e,i){"use strict";var r=i(0),n=i(59)(!0);r(r.P,"Array",{includes:function(t){return n(this,t,1<arguments.length?arguments[1]:void 0)}}),i(34)("includes")},function(t,e,i){"use strict";var r=i(0),n=i(132),s=i(10),o=i(9),a=i(11),u=i(94);r(r.P,"Array",{flatMap:function(t){var e,i,r=s(this);return a(t),e=o(r.length),i=u(r,0),n(i,r,r,e,0,1,t,arguments[1]),i}}),i(34)("flatMap")},function(t,e,i){"use strict";var r=i(0),n=i(132),s=i(10),o=i(9),a=i(25),u=i(94);r(r.P,"Array",{flatten:function(){var t=arguments[0],e=s(this),i=o(e.length),r=u(e,0);return n(r,e,e,i,0,void 0===t?1:a(t)),r}}),i(34)("flatten")},function(t,e,i){"use strict";var r=i(0),n=i(86)(!0);r(r.P,"String",{at:function(t){return n(this,t)}})},function(t,e,i){"use strict";var r=i(0),n=i(133),s=i(67);r(r.P+r.F*/Version\/10\.\d+(\.\d+)? Safari\//.test(s),"String",{padStart:function(t){return n(this,t,1<arguments.length?arguments[1]:void 0,!0)}})},function(t,e,i){"use strict";var r=i(0),n=i(133),s=i(67);r(r.P+r.F*/Version\/10\.\d+(\.\d+)? Safari\//.test(s),"String",{padEnd:function(t){return n(this,t,1<arguments.length?arguments[1]:void 0,!1)}})},function(t,e,i){"use strict";i(48)("trimLeft",function(t){return function(){return t(this,1)}},"trimStart")},function(t,e,i){"use strict";i(48)("trimRight",function(t){return function(){return t(this,2)}},"trimEnd")},function(t,e,i){"use strict";var r=i(0),n=i(24),s=i(9),o=i(62),a=i(64),u=RegExp.prototype,h=function(t,e){this._r=t,this._s=e};i(88)(h,"RegExp String",function(){var t=this._r.exec(this._s);return{value:t,done:null===t}}),r(r.P,"String",{matchAll:function(t){if(n(this),!o(t))throw TypeError(t+" is not a regexp!");var e=String(this),i="flags"in u?String(t.flags):a.call(t),r=new RegExp(t.source,~i.indexOf("g")?i:"g"+i);return r.lastIndex=s(t.lastIndex),new h(r,e)}})},function(t,e,i){i(76)("asyncIterator")},function(t,e,i){i(76)("observable")},function(t,e,i){var r=i(0),u=i(131),h=i(16),l=i(17),c=i(92);r(r.S,"Object",{getOwnPropertyDescriptors:function(t){for(var e,i,r=h(t),n=l.f,s=u(r),o={},a=0;s.length>a;)void 0!==(i=n(r,e=s[a++]))&&c(o,e,i);return o}})},function(t,e,i){var r=i(0),n=i(134)(!1);r(r.S,"Object",{values:function(t){return n(t)}})},function(t,e,i){var r=i(0),n=i(134)(!0);r(r.S,"Object",{entries:function(t){return n(t)}})},function(t,e,i){"use strict";var r=i(0),n=i(10),s=i(11),o=i(8);i(7)&&r(r.P+i(70),"Object",{__defineGetter__:function(t,e){o.f(n(this),t,{get:s(e),enumerable:!0,configurable:!0})}})},function(t,e,i){"use strict";var r=i(0),n=i(10),s=i(11),o=i(8);i(7)&&r(r.P+i(70),"Object",{__defineSetter__:function(t,e){o.f(n(this),t,{set:s(e),enumerable:!0,configurable:!0})}})},function(t,e,i){"use strict";var r=i(0),n=i(10),s=i(23),o=i(18),a=i(17).f;i(7)&&r(r.P+i(70),"Object",{__lookupGetter__:function(t){var e,i=n(this),r=s(t,!0);do{if(e=a(i,r))return e.get}while(i=o(i))}})},function(t,e,i){"use strict";var r=i(0),n=i(10),s=i(23),o=i(18),a=i(17).f;i(7)&&r(r.P+i(70),"Object",{__lookupSetter__:function(t){var e,i=n(this),r=s(t,!0);do{if(e=a(i,r))return e.set}while(i=o(i))}})},function(t,e,i){var r=i(0);r(r.P+r.R,"Map",{toJSON:i(135)("Map")})},function(t,e,i){var r=i(0);r(r.P+r.R,"Set",{toJSON:i(135)("Set")})},function(t,e,i){i(71)("Map")},function(t,e,i){i(71)("Set")},function(t,e,i){i(71)("WeakMap")},function(t,e,i){i(71)("WeakSet")},function(t,e,i){i(72)("Map")},function(t,e,i){i(72)("Set")},function(t,e,i){i(72)("WeakMap")},function(t,e,i){i(72)("WeakSet")},function(t,e,i){var r=i(0);r(r.G,{global:i(2)})},function(t,e,i){var r=i(0);r(r.S,"System",{global:i(2)})},function(t,e,i){var r=i(0),n=i(21);r(r.S,"Error",{isError:function(t){return"Error"===n(t)}})},function(t,e,i){var r=i(0);r(r.S,"Math",{clamp:function(t,e,i){return Math.min(i,Math.max(e,t))}})},function(t,e,i){var r=i(0);r(r.S,"Math",{DEG_PER_RAD:Math.PI/180})},function(t,e,i){var r=i(0),n=180/Math.PI;r(r.S,"Math",{degrees:function(t){return t*n}})},function(t,e,i){var r=i(0),s=i(137),o=i(117);r(r.S,"Math",{fscale:function(t,e,i,r,n){return o(s(t,e,i,r,n))}})},function(t,e,i){var r=i(0);r(r.S,"Math",{iaddh:function(t,e,i,r){var n=t>>>0,s=i>>>0;return(e>>>0)+(r>>>0)+((n&s|(n|s)&~(n+s>>>0))>>>31)|0}})},function(t,e,i){var r=i(0);r(r.S,"Math",{isubh:function(t,e,i,r){var n=t>>>0,s=i>>>0;return(e>>>0)-(r>>>0)-((~n&s|~(n^s)&n-s>>>0)>>>31)|0}})},function(t,e,i){var r=i(0);r(r.S,"Math",{imulh:function(t,e){var i=+t,r=+e,n=65535&i,s=65535&r,o=i>>16,a=r>>16,u=(o*s>>>0)+(n*s>>>16);return o*a+(u>>16)+((n*a>>>0)+(65535&u)>>16)}})},function(t,e,i){var r=i(0);r(r.S,"Math",{RAD_PER_DEG:180/Math.PI})},function(t,e,i){var r=i(0),n=Math.PI/180;r(r.S,"Math",{radians:function(t){return t*n}})},function(t,e,i){var r=i(0);r(r.S,"Math",{scale:i(137)})},function(t,e,i){var r=i(0);r(r.S,"Math",{umulh:function(t,e){var i=+t,r=+e,n=65535&i,s=65535&r,o=i>>>16,a=r>>>16,u=(o*s>>>0)+(n*s>>>16);return o*a+(u>>>16)+((n*a>>>0)+(65535&u)>>>16)}})},function(t,e,i){var r=i(0);r(r.S,"Math",{signbit:function(t){return(t=+t)!=t?t:0==t?1/t==1/0:0<t}})},function(t,e,i){"use strict";var r=i(0),n=i(19),s=i(2),o=i(66),a=i(124);r(r.P+r.R,"Promise",{finally:function(e){var i=o(this,n.Promise||s.Promise),t="function"==typeof e;return this.then(t?function(t){return a(i,e()).then(function(){return t})}:e,t?function(t){return a(i,e()).then(function(){throw t})}:e)}})},function(t,e,i){"use strict";var r=i(0),n=i(99),s=i(123);r(r.S,"Promise",{try:function(t){var e=n.f(this),i=s(t);return(i.e?e.reject:e.resolve)(i.v),e.promise}})},function(t,e,i){var r=i(31),n=i(1),s=r.key,o=r.set;r.exp({defineMetadata:function(t,e,i,r){o(t,e,n(i),s(r))}})},function(t,e,i){var r=i(31),s=i(1),o=r.key,a=r.map,u=r.store;r.exp({deleteMetadata:function(t,e){var i=arguments.length<3?void 0:o(arguments[2]),r=a(s(e),i,!1);if(void 0===r||!r.delete(t))return!1;if(r.size)return!0;var n=u.get(e);return n.delete(i),!!n.size||u.delete(e)}})},function(t,e,i){var r=i(31),n=i(1),s=i(18),o=r.has,a=r.get,u=r.key,h=function(t,e,i){if(o(t,e,i))return a(t,e,i);var r=s(e);return null!==r?h(t,r,i):void 0};r.exp({getMetadata:function(t,e){return h(t,n(e),arguments.length<3?void 0:u(arguments[2]))}})},function(t,e,i){var s=i(127),o=i(136),r=i(31),n=i(1),a=i(18),u=r.keys,h=r.key,l=function(t,e){var i=u(t,e),r=a(t);if(null===r)return i;var n=l(r,e);return n.length?i.length?o(new s(i.concat(n))):n:i};r.exp({getMetadataKeys:function(t){return l(n(t),arguments.length<2?void 0:h(arguments[1]))}})},function(t,e,i){var r=i(31),n=i(1),s=r.get,o=r.key;r.exp({getOwnMetadata:function(t,e){return s(t,n(e),arguments.length<3?void 0:o(arguments[2]))}})},function(t,e,i){var r=i(31),n=i(1),s=r.keys,o=r.key;r.exp({getOwnMetadataKeys:function(t){return s(n(t),arguments.length<2?void 0:o(arguments[1]))}})},function(t,e,i){var r=i(31),n=i(1),s=i(18),o=r.has,a=r.key,u=function(t,e,i){if(o(t,e,i))return!0;var r=s(e);return null!==r&&u(t,r,i)};r.exp({hasMetadata:function(t,e){return u(t,n(e),arguments.length<3?void 0:a(arguments[2]))}})},function(t,e,i){var r=i(31),n=i(1),s=r.has,o=r.key;r.exp({hasOwnMetadata:function(t,e){return s(t,n(e),arguments.length<3?void 0:o(arguments[2]))}})},function(t,e,i){var r=i(31),n=i(1),s=i(11),o=r.key,a=r.set;r.exp({metadata:function(i,r){return function(t,e){a(i,r,(void 0!==e?n:s)(t),o(e))}}})},function(t,e,i){var r=i(0),n=i(98)(),s=i(2).process,o="process"==i(21)(s);r(r.G,{asap:function(t){var e=o&&s.domain;n(e?e.bind(t):t)}})},function(t,e,i){"use strict";var r=i(0),s=i(2),o=i(19),n=i(98)(),a=i(6)("observable"),u=i(11),h=i(1),l=i(42),c=i(44),f=i(12),p=i(43),d=p.RETURN,g=function(t){return null==t?void 0:u(t)},y=function(t){var e=t._c;e&&(t._c=void 0,e())},v=function(t){return void 0===t._o},m=function(t){v(t)||(t._o=void 0,y(t))},x=function(e,t){h(e),this._c=void 0,this._o=e,e=new b(this);try{var i=t(e),r=i;null!=i&&("function"==typeof i.unsubscribe?i=function(){r.unsubscribe()}:u(i),this._c=i)}catch(t){return void e.error(t)}v(this)&&y(this)};x.prototype=c({},{unsubscribe:function(){m(this)}});var b=function(t){this._s=t};b.prototype=c({},{next:function(t){var e=this._s;if(!v(e)){var i=e._o;try{var r=g(i.next);if(r)return r.call(i,t)}catch(t){try{m(e)}finally{throw t}}}},error:function(t){var e=this._s;if(v(e))throw t;var i=e._o;e._o=void 0;try{var r=g(i.error);if(!r)throw t;t=r.call(i,t)}catch(t){try{y(e)}finally{throw t}}return y(e),t},complete:function(t){var e=this._s;if(!v(e)){var i=e._o;e._o=void 0;try{var r=g(i.complete);t=r?r.call(i,t):void 0}catch(t){try{y(e)}finally{throw t}}return y(e),t}}});var k=function(t){l(this,k,"Observable","_f")._f=u(t)};c(k.prototype,{subscribe:function(t){return new x(t,this._f)},forEach:function(r){var n=this;return new(o.Promise||s.Promise)(function(t,e){u(r);var i=n.subscribe({next:function(t){try{return r(t)}catch(t){e(t),i.unsubscribe()}},error:e,complete:t})})}}),c(k,{from:function(t){var e="function"==typeof this?this:k,i=g(h(t)[a]);if(i){var r=h(i.call(t));return r.constructor===e?r:new e(function(t){return r.subscribe(t)})}return new e(function(e){var i=!1;return n(function(){if(!i){try{if(p(t,!1,function(t){if(e.next(t),i)return d})===d)return}catch(t){if(i)throw t;return void e.error(t)}e.complete()}}),function(){i=!0}})},of:function(){for(var t=0,e=arguments.length,r=new Array(e);t<e;)r[t]=arguments[t++];return new("function"==typeof this?this:k)(function(e){var i=!1;return n(function(){if(!i){for(var t=0;t<r.length;++t)if(e.next(r[t]),i)return;e.complete()}}),function(){i=!0}})}}),f(k.prototype,a,function(){return this}),r(r.G,{Observable:k}),i(41)("Observable")},function(t,e,i){var r=i(2),n=i(0),s=i(67),o=[].slice,a=/MSIE .\./.test(s),u=function(n){return function(t,e){var i=2<arguments.length,r=!!i&&o.call(arguments,2);return n(i?function(){("function"==typeof t?t:Function(t)).apply(this,r)}:t,e)}};n(n.G+n.B+n.F*a,{setTimeout:u(r.setTimeout),setInterval:u(r.setInterval)})},function(t,e,i){var r=i(0),n=i(97);r(r.G+r.B,{setImmediate:n.set,clearImmediate:n.clear})},function(t,e,i){for(var r=i(96),n=i(37),s=i(13),o=i(2),a=i(12),u=i(49),h=i(6),l=h("iterator"),c=h("toStringTag"),f=u.Array,p={CSSRuleList:!0,CSSStyleDeclaration:!1,CSSValueList:!1,ClientRectList:!1,DOMRectList:!1,DOMStringList:!1,DOMTokenList:!0,DataTransferItemList:!1,FileList:!1,HTMLAllCollection:!1,HTMLCollection:!1,HTMLFormElement:!1,HTMLSelectElement:!1,MediaList:!0,MimeTypeArray:!1,NamedNodeMap:!1,NodeList:!0,PaintRequestList:!1,Plugin:!1,PluginArray:!1,SVGLengthList:!1,SVGNumberList:!1,SVGPathSegList:!1,SVGPointList:!1,SVGStringList:!1,SVGTransformList:!1,SourceBufferList:!1,StyleSheetList:!0,TextTrackCueList:!1,TextTrackList:!1,TouchList:!1},d=n(p),g=0;g<d.length;g++){var y,v=d[g],m=p[v],x=o[v],b=x&&x.prototype;if(b&&(b[l]||a(b,l,f),b[c]||a(b,c,v),u[v]=f,m))for(y in r)b[y]||s(b,y,r[y],!0)}},function(T,t,e){(function(t){!function(t){"use strict";var u,e=Object.prototype,h=e.hasOwnProperty,i="function"==typeof Symbol?Symbol:{},n=i.iterator||"@@iterator",r=i.asyncIterator||"@@asyncIterator",s=i.toStringTag||"@@toStringTag",o="object"==typeof T,a=t.regeneratorRuntime;if(a)o&&(T.exports=a);else{(a=t.regeneratorRuntime=o?T.exports:{}).wrap=x;var c="suspendedStart",f="suspendedYield",p="executing",d="completed",g={},l={};l[n]=function(){return this};var y=Object.getPrototypeOf,v=y&&y(y(O([])));v&&v!==e&&h.call(v,n)&&(l=v);var m=S.prototype=k.prototype=Object.create(l);M.prototype=m.constructor=S,S.constructor=M,S[s]=M.displayName="GeneratorFunction",a.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===M||"GeneratorFunction"===(e.displayName||e.name))},a.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,S):(t.__proto__=S,s in t||(t[s]="GeneratorFunction")),t.prototype=Object.create(m),t},a.awrap=function(t){return{__await:t}},A(_.prototype),_.prototype[r]=function(){return this},a.AsyncIterator=_,a.async=function(t,e,i,r){var n=new _(x(t,e,i,r));return a.isGeneratorFunction(e)?n:n.next().then(function(t){return t.done?t.value:n.next()})},A(m),m[s]="Generator",m[n]=function(){return this},m.toString=function(){return"[object Generator]"},a.keys=function(i){var r=[];for(var t in i)r.push(t);return r.reverse(),function t(){for(;r.length;){var e=r.pop();if(e in i)return t.value=e,t.done=!1,t}return t.done=!0,t}},a.values=O,L.prototype={constructor:L,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=u,this.done=!1,this.delegate=null,this.method="next",this.arg=u,this.tryEntries.forEach(C),!t)for(var e in this)"t"===e.charAt(0)&&h.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=u)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(i){if(this.done)throw i;var r=this;function t(t,e){return s.type="throw",s.arg=i,r.next=t,e&&(r.method="next",r.arg=u),!!e}for(var e=this.tryEntries.length-1;0<=e;--e){var n=this.tryEntries[e],s=n.completion;if("root"===n.tryLoc)return t("end");if(n.tryLoc<=this.prev){var o=h.call(n,"catchLoc"),a=h.call(n,"finallyLoc");if(o&&a){if(this.prev<n.catchLoc)return t(n.catchLoc,!0);if(this.prev<n.finallyLoc)return t(n.finallyLoc)}else if(o){if(this.prev<n.catchLoc)return t(n.catchLoc,!0)}else{if(!a)throw new Error("try statement without catch or finally");if(this.prev<n.finallyLoc)return t(n.finallyLoc)}}}},abrupt:function(t,e){for(var i=this.tryEntries.length-1;0<=i;--i){var r=this.tryEntries[i];if(r.tryLoc<=this.prev&&h.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var n=r;break}}n&&("break"===t||"continue"===t)&&n.tryLoc<=e&&e<=n.finallyLoc&&(n=null);var s=n?n.completion:{};return s.type=t,s.arg=e,n?(this.method="next",this.next=n.finallyLoc,g):this.complete(s)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),g},finish:function(t){for(var e=this.tryEntries.length-1;0<=e;--e){var i=this.tryEntries[e];if(i.finallyLoc===t)return this.complete(i.completion,i.afterLoc),C(i),g}},catch:function(t){for(var e=this.tryEntries.length-1;0<=e;--e){var i=this.tryEntries[e];if(i.tryLoc===t){var r=i.completion;if("throw"===r.type){var n=r.arg;C(i)}return n}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,i){return this.delegate={iterator:O(t),resultName:e,nextLoc:i},"next"===this.method&&(this.arg=u),g}}}function x(t,e,i,r){var s,o,a,u,n=e&&e.prototype instanceof k?e:k,h=Object.create(n.prototype),l=new L(r||[]);return h._invoke=(s=t,o=i,a=l,u=c,function(t,e){if(u===p)throw new Error("Generator is already running");if(u===d){if("throw"===t)throw e;return E()}for(a.method=t,a.arg=e;;){var i=a.delegate;if(i){var r=w(i,a);if(r){if(r===g)continue;return r}}if("next"===a.method)a.sent=a._sent=a.arg;else if("throw"===a.method){if(u===c)throw u=d,a.arg;a.dispatchException(a.arg)}else"return"===a.method&&a.abrupt("return",a.arg);u=p;var n=b(s,o,a);if("normal"===n.type){if(u=a.done?d:f,n.arg===g)continue;return{value:n.arg,done:a.done}}"throw"===n.type&&(u=d,a.method="throw",a.arg=n.arg)}}),h}function b(t,e,i){try{return{type:"normal",arg:t.call(e,i)}}catch(t){return{type:"throw",arg:t}}}function k(){}function M(){}function S(){}function A(t){["next","throw","return"].forEach(function(e){t[e]=function(t){return this._invoke(e,t)}})}function _(a){function u(t,e,i,r){var n=b(a[t],a,e);if("throw"!==n.type){var s=n.arg,o=s.value;return o&&"object"==typeof o&&h.call(o,"__await")?Promise.resolve(o.__await).then(function(t){u("next",t,i,r)},function(t){u("throw",t,i,r)}):Promise.resolve(o).then(function(t){s.value=t,i(s)},r)}r(n.arg)}var e;"object"==typeof t.process&&t.process.domain&&(u=t.process.domain.bind(u)),this._invoke=function(i,r){function t(){return new Promise(function(t,e){u(i,r,t,e)})}return e=e?e.then(t,t):t()}}function w(t,e){var i=t.iterator[e.method];if(i===u){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=u,w(t,e),"throw"===e.method))return g;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return g}var r=b(i,t.iterator,e.arg);if("throw"===r.type)return e.method="throw",e.arg=r.arg,e.delegate=null,g;var n=r.arg;return n?n.done?(e[t.resultName]=n.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=u),e.delegate=null,g):n:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,g)}function P(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function C(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function L(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(P,this),this.reset(!0)}function O(e){if(e){var t=e[n];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var i=-1,r=function t(){for(;++i<e.length;)if(h.call(e,i))return t.value=e[i],t.done=!1,t;return t.value=u,t.done=!0,t};return r.next=r}}return{next:E}}function E(){return{value:u,done:!0}}}("object"==typeof t?t:"object"==typeof window?window:"object"==typeof self?self:this)}).call(t,e(103))},function(t,e,i){i(345),t.exports=i(19).RegExp.escape},function(t,e,i){var r=i(0),n=i(346)(/[\\^$*+?.()|[\]{}]/g,"\\$&");r(r.S,"RegExp",{escape:function(t){return n(t)}})},function(t,e){t.exports=function(e,i){var r=i===Object(i)?function(t){return i[t]}:i;return function(t){return String(t).replace(e,r)}}},function(t,e,i){var r,n,s,o;o=function(t,e,i,r,n,s,o,a,u,h,l,c,f,p,d,g,y,v,m,x,b,k,M,S,A,_,w,P,C,L,O,E,T,X,D,j,I,N,Y,F,B,R,H,W){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var z=Ot(i),V=Ot(r),G=Ot(n),U=Ot(s),Z=Ot(o),q=Ot(a),K=Ot(u),J=Ot(h),Q=Ot(l),$=Ot(c),tt=Ot(f),et=Ot(p),it=Ot(d),rt=Ot(g),nt=Ot(y),st=Ot(v),ot=Ot(m),at=Ot(x),ut=Ot(b),ht=Ot(k),lt=Ot(M),ct=Ot(S),ft=Ot(A),pt=Ot(_),dt=Ot(w),gt=Ot(P),yt=Ot(C),vt=Ot(L),mt=Ot(O),xt=Ot(E),bt=(Ot(T),Ot(X)),kt=Ot(D),Mt=Ot(j),St=Ot(I),At=Ot(N),_t=Ot(Y),wt=Ot(F),Pt=Ot(B),Ct=Ot(R),Lt=Ot(H);Ot(W);function Ot(t){return t&&t.__esModule?t:{default:t}}z.default.registerConstructor("graph.position",V.default),z.default.registerConstructor("graph.axis.x",U.default),z.default.registerConstructor("graph.axis.y",Z.default),z.default.registerConstructor("graph.axis.x.bar",q.default),z.default.registerConstructor("graph.axis.x.time",K.default),z.default.registerConstructor("graph.serie.line",J.default),z.default.registerConstructor("graph.serie.line.3d",Q.default),z.default.registerConstructor("graph.serie.line.color",et.default),z.default.registerConstructor("graph.serie.contour",ot.default),z.default.registerConstructor("graph.serie.bar",$.default),z.default.registerConstructor("graph.serie.box",tt.default),z.default.registerConstructor("graph.serie.scatter",it.default),z.default.registerConstructor("graph.serie.zone",rt.default),z.default.registerConstructor("graph.serie.zone.3d",nt.default),z.default.registerConstructor("graph.serie.densitymap",st.default),z.default.registerConstructor(z.default.SERIE_LINE,J.default),z.default.registerConstructor(z.default.SERIE_LINE_3D,Q.default),z.default.registerConstructor(z.default.SERIE_LINE_COLORED,et.default),z.default.registerConstructor(z.default.SERIE_CONTOUR,ot.default),z.default.registerConstructor(z.default.SERIE_BAR,$.default),z.default.registerConstructor(z.default.SERIE_BOX,tt.default),z.default.registerConstructor(z.default.SERIE_SCATTER,it.default),z.default.registerConstructor(z.default.SERIE_ZONE,rt.default),z.default.registerConstructor(z.default.SERIE_ZONE_3D,nt.default),z.default.registerConstructor(z.default.SERIE_DENSITYMAP,st.default),z.default.registerConstructor("graph.plugin.shape",kt.default),z.default.registerConstructor("graph.plugin.drag",bt.default),z.default.registerConstructor("graph.plugin.zoom",St.default),z.default.registerConstructor("graph.plugin.selectScatter",Mt.default),z.default.registerConstructor("graph.plugin.timeSerieManager",At.default),z.default.registerConstructor("graph.plugin.serielinedifference",_t.default),z.default.registerConstructor("graph.plugin.serieLineDifference",_t.default),z.default.registerConstructor("graph.plugin.axissplitting",wt.default),z.default.registerConstructor("graph.plugin.makeTracesDifferent",Pt.default),z.default.registerConstructor("graph.plugin.peakPicking",Ct.default),z.default.registerConstructor("graph.shape",at.default),z.default.registerConstructor("graph.shape.areaundercurve",ut.default),z.default.registerConstructor("graph.shape.arrow",ht.default),z.default.registerConstructor("graph.shape.ellipse",lt.default),z.default.registerConstructor("graph.shape.label",ct.default),z.default.registerConstructor("graph.shape.polyline",ft.default),z.default.registerConstructor("graph.shape.line",pt.default),z.default.registerConstructor("graph.shape.nmrintegral",dt.default),z.default.registerConstructor("graph.shape.html",xt.default),z.default.registerConstructor("graph.shape.peakintegration2d",gt.default),z.default.registerConstructor("graph.shape.rect",yt.default),z.default.registerConstructor("graph.shape.rectangle",yt.default),z.default.registerConstructor("graph.shape.cross",vt.default),z.default.registerConstructor("graph.shape.peakboundariescenter",mt.default),z.default.registerConstructor("graph.legend",G.default),z.default.registerConstructor("graph.waveform",Lt.default),e.default=z.default,t.exports=e.default},n=[t,e,i(45),i(55),i(348),i(101),i(139),i(349),i(350),i(51),i(351),i(352),i(353),i(354),i(141),i(142),i(355),i(356),i(357),i(28),i(358),i(359),i(377),i(360),i(361),i(102),i(362),i(363),i(143),i(364),i(365),i(366),i(29),i(367),i(368),i(369),i(370),i(371),i(373),i(374),i(375),i(376),i(46),i(138)],void 0===(s="function"==typeof(r=o)?r.apply(e,n):r)||(t.exports=s)},function(t,e,i){var r,n,s,o;o=function(t,e,i,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,s=(n=i)&&n.__esModule?n:{default:n},o=function(t){{if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e.default=t,e}}(r);var a=function(){function r(t,e){for(var i=0;i<e.length;i++){var r=e[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(t,e,i){return e&&r(t.prototype,e),i&&r(t,i),t}}(),u={backgroundColor:"rgba(255, 255, 255, 0.8)",frame:!0,frameWidth:1,frameColor:"black",paddingTop:10,paddingLeft:10,paddingBottom:10,paddingRight:10,color:"black",frameRounding:0,movable:!1,shapesToggleable:!0,isSerieHideable:!0,isSerieSelectable:!0},h=function(){function n(t,e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,n),this.options=o.extend({},u,e),this.graph=t,this.svg=document.createElementNS(this.graph.ns,"g"),this.subG=document.createElementNS(this.graph.ns,"g"),this.groups=[],this.rect=document.createElementNS(this.graph.ns,"rect"),this.rectBottom=document.createElementNS(this.graph.ns,"rect"),this.rect.setAttribute("x",0),this.rect.setAttribute("y",0),this.rectBottom.setAttribute("x",0),this.rectBottom.setAttribute("y",0),this.series=!1,this.svg.setAttribute("display","none"),this.pos={x:void 0,y:void 0,transformX:0,transformY:0},this.setEvents(),this.eyeId=o.guid(),this.eyeCrossedId=o.guid();var i=o.SVGParser('<svg xmlns="http://www.w3.org/2000/svg"><symbol id="'+this.eyeCrossedId+'" viewBox="0 -256 1850 1850"><rect pointer-events="fill" fill="transparent" x="-256" y="0" width="2106" height="1850" /><g transform="matrix(1,0,0,-1,30.372881,1214.339)"><path d="m 555,201 78,141 q -87,63 -136,159 -49,96 -49,203 0,121 61,225 Q 280,812 128,576 295,318 555,201 z m 389,759 q 0,20 -14,34 -14,14 -34,14 -125,0 -214.5,-89.5 Q 592,829 592,704 q 0,-20 14,-34 14,-14 34,-14 20,0 34,14 14,14 14,34 0,86 61,147 61,61 147,61 20,0 34,14 14,14 14,34 z m 363,191 q 0,-7 -1,-9 Q 1201,954 991,576 781,198 675,9 l -49,-89 q -10,-16 -28,-16 -12,0 -134,70 -16,10 -16,28 0,12 44,87 Q 349,154 228.5,262 108,370 20,507 0,538 0,576 q 0,38 20,69 153,235 380,371 227,136 496,136 89,0 180,-17 l 54,97 q 10,16 28,16 5,0 18,-6 13,-6 31,-15.5 18,-9.5 33,-18.5 15,-9 31.5,-18.5 16.5,-9.5 19.5,-11.5 16,-10 16,-27 z m 37,-447 Q 1344,565 1265,450.5 1186,336 1056,286 l 280,502 q 8,-45 8,-84 z m 448,-128 q 0,-35 -20,-69 Q 1733,443 1663,362 1513,190 1315.5,95 1118,0 896,0 l 74,132 q 212,18 392.5,137 180.5,119 301.5,307 -115,179 -282,294 l 63,112 q 95,-64 182.5,-153 87.5,-89 144.5,-184 20,-34 20,-69 z" fill="#c0c0c0"></path></g></symbol></svg>'),r=o.SVGParser('<svg xmlns="http://www.w3.org/2000/svg"><symbol id="'+this.eyeId+'" viewBox="0 -256 1850 1850"><rect pointer-events="fill" x="-256" y="0" fill="transparent" width="2106" height="1850" /><g transform="matrix(1,0,0,-1,30.372881,1259.8983)"><path d="m 1664,576 q -152,236 -381,353 61,-104 61,-225 0,-185 -131.5,-316.5 Q 1081,256 896,256 711,256 579.5,387.5 448,519 448,704 448,825 509,929 280,812 128,576 261,371 461.5,249.5 662,128 896,128 1130,128 1330.5,249.5 1531,371 1664,576 z M 944,960 q 0,20 -14,34 -14,14 -34,14 -125,0 -214.5,-89.5 Q 592,829 592,704 q 0,-20 14,-34 14,-14 34,-14 20,0 34,14 14,14 14,34 0,86 61,147 61,61 147,61 20,0 34,14 14,14 14,34 z m 848,-384 q 0,-34 -20,-69 Q 1632,277 1395.5,138.5 1159,0 896,0 633,0 396.5,139 160,278 20,507 0,542 0,576 q 0,34 20,69 140,229 376.5,368 236.5,139 499.5,139 263,0 499.5,-139 236.5,-139 376.5,-368 20,-35 20,-69 z" fill="#444444" /></g></symbol></svg>');this.svg.appendChild(document.adoptNode(r.documentElement.firstChild)),this.svg.appendChild(document.adoptNode(i.documentElement.firstChild)),this.svg.appendChild(this.subG),this.applyStyle()}return a(n,[{key:"setPosition",value:function(t,e,i){t&&(this.position=t,this.alignToX=e||"left",this.alignToY=i||"top")}},{key:"setDraggable",value:function(t){this.options.movable=t}},{key:"setAutoPosition",value:function(t){if(-1<["bottom","left","top","right"].indexOf(t=t.toLowerCase()))return this.autoPosition=t,this;this.requireDelayedUpdate(),this.autoPosition=!1}},{key:"autoPosition",value:function(){return this.setAutoPosition.apply(this,arguments)}},{key:"buildLegendBox",value:function(){var t=this.series||this.graph.getSeries(),e=0,i=this.options.paddingTop;this.autoPosition?this.graph.getDom().appendChild(this.getDom()):this.graph.graphingZone.appendChild(this.getDom());for(var r=0,n=t.length;r<n;r++)if(!t[r].excludedFromLegend||this.series){if("bottom"==this.autoPosition||"top"==this.autoPosition)e+(s=f(this.groups[r])).width>this.graph.getDrawingWidth()-this.options.paddingRight&&(i+=16,e=0);this.groups[r].setAttribute("transform","translate( "+e+", "+i+")"),"bottom"==this.autoPosition||"top"==this.autoPosition?(e+=s.width+10,i+=0):(e=0,i+=16)}var s=f(this.subG);switch(this.width=s.width+this.options.paddingRight+this.options.paddingLeft,this.height=s.height+this.options.paddingBottom+this.options.paddingTop,this.rect.setAttribute("width",this.width),this.rect.setAttribute("height",this.height),this.rect.setAttribute("fill","none"),this.rect.setAttribute("pointer-events","fill"),this.rect.setAttribute("display","none"),this.options.movable&&(this.rectBottom.style.cursor="move"),this.rectBottom.setAttribute("width",this.width),this.rectBottom.setAttribute("height",this.height),this.rectBottom.setAttribute("x",s.x-this.options.paddingLeft),this.rectBottom.setAttribute("y",s.y-this.options.paddingTop),this.position=this.position||{},this.autoPosition){case"bottom":this.position.y=this.graph.getHeight()+"px",this.position.x=(this.graph.drawingSpaceWidth-this.width)/2+this.graph.drawingSpaceMinX+"px",this.alignToY="bottom",this.alignToX=!1;break;case"left":this.position.x="6px",this.position.y=(this.graph.getHeight()-this.height)/2+"px",this.alignToX="left",this.alignToY=!1;break;case"right":this.position.x=this.graph.getWidth()+"px",this.position.y=(this.graph.getHeight()-this.height)/2+"px",this.alignToX="right",this.alignToY=!1;break;case"top":this.position.x=(this.graph.drawingSpaceWidth-this.width)/2+this.graph.drawingSpaceMinX+"px",this.position.y="10px",this.alignToY="top",this.alignToX=!1}if(this.autoPosition){switch(this.autoPosition){case"bottom":this.graph.options.paddingBottom=this.height+10;break;case"left":this.graph.options.paddingLeft=this.width+5;break;case"right":this.graph.options.paddingRight=this.width+10;break;case"top":this.graph.options.paddingTop=this.height+14}this.graph.updateGraphingZone(),this.graph.getDrawingHeight(),this.graph.getDrawingWidth()}this.bbox=s}},{key:"calculatePosition",value:function(){var t=s.default.check(this.position),e=t.compute(this.graph,this.graph.getXAxis(),this.graph.getYAxis());e&&("max"==t.y&&(e.y+=this.graph.getPaddingTop()),"max"==t.x&&(e.x-=this.graph.getPaddingRight()),"right"==this.alignToX&&(e.x-=this.width,e.x-=this.bbox.x),"bottom"==this.alignToY&&(e.y-=this.height),e.y-=this.bbox.y,this.pos.transformX=e.x,this.pos.transformY=e.y,this._setPosition())}},{key:"update",value:function(t){if(!(this.graph.isDelayedUpdate()||!this._requiredUpdate&&t)){this._requiredUpdate=!1;var h=this;for(this.applyStyle();this.subG.hasChildNodes();)this.subG.removeChild(this.subG.lastChild);this.svg.insertBefore(this.rectBottom,this.svg.firstChild);var l=this.series||this.graph.getSeries();if(0<l.length){if(this.svg.setAttribute("display","block"),"bottom"==this.autoPosition||"top"==this.autoPosition)this.graph.getDrawingWidth();for(var c=0,e=l.length;c<e;c++)l[c].excludedFromLegend&&!this.series||function(i){var t;if("bottom"==this.autoPosition||"top"==this.autoPosition)this.graph.getDrawingWidth();t=document.createElementNS(h.graph.ns,"g");var e=document.createElementNS(h.graph.ns,"rect");h.subG.appendChild(t),t.appendChild(e);var r=l[i].getSymbolForLegend(),n=l[i].getMarkerForLegend(),s=l[i].getTextForLegend(),o=35;if(this.isHideable()){o+=20;var a=document.createElementNS(h.graph.ns,"use");a.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href","#"+(l[c].isShown()?this.eyeId:this.eyeCrossedId)),a.setAttribute("width",15),a.setAttribute("height",15),a.setAttribute("x",35),a.setAttribute("y",-8),a.addEventListener("click",function(t){var e;t.stopPropagation(),l[i].isShown()?(l[i].hide(h.options.hideShapesOnHideSerie),e=h.eyeCrossedId):(l[i].show(h.options.hideShapesOnHideSerie),e=h.eyeId),a.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href","#"+e)})}s.setAttribute("transform","translate("+o+", 3)"),s.setAttribute("fill",this.options.color),r&&t.appendChild(r),"scatter"==l[i].getType()&&r.setAttribute("transform","translate( 20, 0 )"),n&&t.appendChild(n),a&&t.appendChild(a),t.appendChild(s);var u=f(t);e.setAttribute("x",u.x),e.setAttribute("y",u.y),e.setAttribute("width",u.width),e.setAttribute("height",u.height),e.setAttribute("fill","none"),e.setAttribute("pointer-events","fill"),(h.groups[i]=t).addEventListener("click",function(t){var e=l[i];e.isShown()&&(h.isSelectable()&&!e.isSelected()?h.graph.selectSerie(e):h.graph.unselectSerie(e),t.preventDefault(),t.stopPropagation())})}.call(this,c);this.svg.appendChild(this.rect),this.buildLegendBox(),this.calculatePosition()}}}},{key:"isHideable",value:function(){return this.options.isSerieHideable}},{key:"notHideable",value:function(){return this.options.isSerieHideable=!1,this}},{key:"hideable",value:function(){return this.options.isSerieHideable=!0,this}},{key:"isSelectable",value:function(){return this.options.isSerieSelectable}},{key:"isToggleShapes",value:function(){return this.options.shapesToggleable}},{key:"getDom",value:function(){return this.svg}},{key:"setEvents",value:function(){var e=this,i=this.pos;this.svg.addEventListener("mousedown",function(t){t.stopPropagation(),console.log("down"),e.options.movable&&(i.x=t.clientX,i.y=t.clientY,t.preventDefault(),e.mousedown=!0,e.graph.elementMoving(e),e.rect.setAttribute("display","block"))}),this.svg.addEventListener("click",function(t){t.stopPropagation()}),this.svg.addEventListener("dblclick",function(t){t.stopPropagation()}),this.svg.addEventListener("mousemove",function(t){e.handleMouseMove(t)})}},{key:"handleMouseUp",value:function(t){t.stopPropagation(),t.preventDefault(),this.mousedown=!1,this.rect.setAttribute("display","none"),this.graph.elementMoving(!1)}},{key:"handleMouseMove",value:function(t){if(this.mousedown){var e=this.pos,i=t.clientX-e.x,r=t.clientY-e.y;e.transformX+=i,e.transformY+=r,e.x=t.clientX,e.y=t.clientY,t.stopPropagation(),t.preventDefault(),this._setPosition()}}},{key:"_setPosition",value:function(){var t=this.pos;isNaN(t.transformX)||isNaN(t.transformY)||!1===t.transformX||!1===t.transformY||this.svg.setAttribute("transform","translate("+t.transformX+", "+t.transformY+")")}},{key:"applyStyle",value:function(){this.options.frame&&(this.rectBottom.setAttribute("stroke",this.options.frameColor),this.rectBottom.setAttribute("stroke-width",this.options.frameWidth+"px"),this.rectBottom.setAttribute("rx",this.options.frameRounding),this.rectBottom.setAttribute("ry",this.options.frameRounding)),this.rectBottom.setAttribute("fill",this.options.backgroundColor)}},{key:"fixSeries",value:function(){var t=[];if(!1===arguments[0])return this.series=!1,void this.update();for(var e=0,i=arguments.length;e<i;e++)Array.isArray(arguments[e])?t=t.concat(arguments[e]):t.push(arguments[e]);this.update(),this.series=t}},{key:"fixSeriesAdd",value:function(t){this.series=this.series||[],this.series.push(t)}},{key:"requireDelayedUpdate",value:function(){this._requiredUpdate=!0}},{key:"seriesHideable",set:function(t){this.options.isSerieHideable=!!t},get:function(){return this.options.isSerieHideable}}]),n}();function f(t){try{return t.getBBox()}catch(t){return{height:0,width:0,x:0,y:0}}}e.default=h,t.exports=e.default},n=[t,e,i(55),i(5)],void 0===(s="function"==typeof(r=o)?r.apply(e,n):r)||(t.exports=s)},function(t,e,i){var r,n,s,o;o=function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r,n=(r=i)&&r.__esModule?r:{default:r};var s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};var o=function(){function r(t,e){for(var i=0;i<e.length;i++){var r=e[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(t,e,i){return e&&r(t.prototype,e),i&&r(t,i),t}}();var a=function(t){function r(t,e){var i=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{};return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(r.__proto__||Object.getPrototypeOf(r)).call(this,t,e,i))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(r,n.default),o(r,[{key:"draw",value:function(){var t,e=this,i=this._barCategories;if(this.forceMin(0),this.forceMax(1),this.cacheCurrentMin(),this.cacheCurrentMax(),this.cacheInterval(),i){Array.isArray(i)||(i=[i]);for(var r=0;r<=i.length;r++)this.drawTick(r/i.length,2),r<i.length&&((t=this.nextTickLabel(function(t){t.setAttribute("y",(e.top?-1:1)*((1==e.options.tickPosition?8:20)+(e.top?10:0))),t.setAttribute("text-anchor","middle"),"black"!==e.getTicksLabelColor()&&t.setAttribute("fill",e.getTicksLabelColor()),t.style.dominantBaseline="hanging"})).setAttribute("x",this.getPos((r+.5)/i.length)),t.textContent=i[r].title);return this.drawSpecifics(),this}}},{key:"autoSeries",value:function(){var t=[],e=!0,i=!1,r=void 0;try{for(var n,s=this.graph.series[Symbol.iterator]();!(e=(n=s.next()).done);e=!0){var o=n.value;o.getXAxis()==this&&t.push(o)}}catch(t){i=!0,r=t}finally{try{!e&&s.return&&s.return()}finally{if(i)throw r}}return this.setSeries.apply(this,t),this}},{key:"setSeries",value:function(){var i=this;return this.series=arguments,Array.prototype.map.call(this.series,function(t,e){"object"!=(void 0===t?"undefined":s(t))&&(t=i.graph.getSerie(t)),t.setCategoryConfig&&t.setCategoryConfig(e,i._barCategories,i.series.length)}),this._getUsedCategories(),this}},{key:"_getUsedCategories",value:function(){var u={},h=0;Array.prototype.map.call(this.series,function(t){var e=t.getUsedCategories(),i=!0,r=!1,n=void 0;try{for(var s,o=e[Symbol.iterator]();!(i=(s=o.next()).done);i=!0){var a=s.value;u.hasOwnProperty(a)||(u[a]=1,h+=1),u[a]++,h++}}catch(t){r=!0,n=t}finally{try{!i&&o.return&&o.return()}finally{if(r)throw n}}});var t=0;for(var e in u){var i=u[e];u[e]=t,t+=i}var r={};Array.prototype.map.call(this.series,function(t){var e=t.getUsedCategories(),i={};e.forEach(function(t){r[t]=r[t]||.5,i[t]=(u[t]+r[t])/h,r[t]++}),t.setDataIndices(i,h)})}},{key:"getType",value:function(){return"category"}},{key:"categories",set:function(t){return this._barCategories=t,this}}]),r}();e.default=a,t.exports=e.default},n=[t,e,i(101)],void 0===(s="function"==typeof(r=o)?r.apply(e,n):r)||(t.exports=s)},function(t,e,i){var r,n,s,o;o=function(t,e,i,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,s=(n=i)&&n.__esModule?n:{default:n},d=function(t){{if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e.default=t,e}}(r);var o=function(){function r(t,e){for(var i=0;i<e.length;i++){var r=e[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(t,e,i){return e&&r(t.prototype,e),i&&r(t,i),t}}();var m,x,b,k,g=[{threshold:20,increments:{1:{increment:1,unit:"i",format:'HH"h"MM (dd/mm/yy)'},2:{increment:1,unit:"s",format:'MM:ss"s"'}}},{threshold:50,increments:{1:{increment:1,unit:"i",format:'HH"h"MM (dd/mm/yy)'},2:{increment:2,unit:"s",format:'MM:ss"s"'}}},{threshold:100,increments:{1:{increment:1,unit:"i",format:'HH"h"MM (dd/mm/yy)'},2:{increment:5,unit:"s",format:'MM:ss"s"'}}},{threshold:600,increments:{1:{increment:10,unit:"i",format:'HH"h"MM (dd/mm/yy)'},2:{increment:30,unit:"s",format:'MM:ss"s"'}}},{threshold:1e3,increments:{1:{increment:1,unit:"h",format:'HH"h"MM (dd/mm/yy)'},2:{increment:10,unit:"i",format:'MM"min"'}}},{threshold:1500,increments:{1:{increment:1,unit:"d",format:"dd/mm/yyyy"},2:{increment:1,unit:"i",format:'H"h"MM'}}},{threshold:3e3,increments:{1:{increment:1,unit:"d",format:"dd/mm/yyyy"},2:{increment:2,unit:"i",format:'H"h"MM'}}},{threshold:8e3,increments:{1:{increment:1,unit:"d",format:"dd/mm/yyyy"},2:{increment:10,unit:"i",format:'H"h"MM'}}},{threshold:26400,increments:{1:{increment:1,unit:"d",format:"dd/mm/yyyy"},2:{increment:20,unit:"i",format:'H"h"MM'}}},{threshold:86400,increments:{1:{increment:1,unit:"d",format:"dd/mm/yyyy"},2:{increment:1,unit:"h",format:'H"h"MM'}}},{threshold:2e5,increments:{1:{increment:1,unit:"d",format:"dd/mm/yyyy"},2:{increment:2,unit:"h",format:'H"h"MM'}}},{threshold:4e5,increments:{1:{increment:1,unit:"d",format:"dd/mm/yyyy"},2:{increment:6,unit:"h",format:'H"h"MM'}}},{threshold:14e5,increments:{1:{increment:1,unit:"d",format:"dd/mm/yyyy"},2:{increment:12,unit:"h",format:'HH"h"MM'}}},{threshold:64e5,increments:{1:{increment:1,unit:"m",format:"mmmm yyyy"},2:{increment:1,unit:"d",format:"dd"}}},{threshold:124e5,increments:{1:{increment:1,unit:"m",format:"mmmm yyyy"},2:{increment:2,unit:"d",format:"dd"}}},{threshold:432e5,increments:{1:{increment:1,unit:"m",format:"mmmm yyyy"},2:{increment:7,unit:"d",format:"dd"}}},{threshold:6912e4,increments:{1:{increment:1,unit:"m",format:"mmmm yyyy"},2:{increment:15,unit:"d",format:"dd"}}},{threshold:864e5,increments:{1:{increment:1,unit:"y",format:"yyyy"},2:{increment:3,unit:"m",format:"mm/yyyy"}}},{threshold:1728e5,increments:{1:{increment:1,unit:"y",format:"yyyy"},2:{increment:4,unit:"m",format:"mm/yyyy"}}},{threshold:864e6,increments:{1:{increment:1,unit:"y",format:"yyyy"},2:{increment:6,unit:"m",format:"mm/yyyy"}}},{threshold:10368e5,increments:{1:{increment:1,unit:"y",format:"yyyy"},2:{increment:1,unit:"y",format:"yyyy"}}}],M=(m=/d{1,4}|m{1,4}|yy(?:yy)?|([HhMsTt])\1?|[WLloSZ]|"[^"]*"|'[^']*'/g,x=/\b(?:[PMCEA][SDP]T|(?:Pacific|Mountain|Central|Eastern|Atlantic) (?:Standard|Daylight|Prevailing) Time|(?:GMT|UTC)(?:[-+]\d{4})?)\b/g,b=/[^-+\dA-Z]/g,k=function(t,e){for(t=String(t),e=e||2;t.length<e;)t="0"+t;return t},function(t,e,i){var r=M;if(1!=arguments.length||"[object String]"!=Object.prototype.toString.call(t)||/\d/.test(t)||(e=t,t=void 0),t=t?new Date(t):new Date,isNaN(t))throw SyntaxError("invalid date:"+t);"UTC:"==(e=String(r.masks[e]||e||r.masks.default)).slice(0,4)&&(e=e.slice(4),i=!0);var n,s,o,a=i?"getUTC":"get",u=t[a+"Date"](),h=t[a+"Day"](),l=t[a+"Month"](),c=t[a+"FullYear"](),f=t[a+"Hours"](),p=t[a+"Minutes"](),d=t[a+"Seconds"](),g=t[a+"Milliseconds"](),y=i?0:t.getTimezoneOffset(),v={d:u,dd:k(u),ddd:r.i18n.dayNames[h],dddd:r.i18n.dayNames[h+7],m:l+1,mm:k(l+1),mmm:r.i18n.monthNames[l],mmmm:r.i18n.monthNames[l+12],yy:String(c).slice(2),yyyy:c,h:f%12||12,hh:k(f%12||12),H:f,HH:k(f),M:p,MM:k(p),s:d,ss:k(d),l:k(g,3),L:k(99<g?Math.round(g/10):g),t:f<12?"a":"p",tt:f<12?"am":"pm",T:f<12?"A":"P",TT:f<12?"AM":"PM",Z:i?"UTC":(String(t).match(x)||[""]).pop().replace(b,""),o:(0<y?"-":"+")+k(100*Math.floor(Math.abs(y)/60)+Math.abs(y)%60,4),S:["th","st","nd","rd"][3<u%10?0:(u%100-u%10!=10)*u%10],W:(n=t,s=a,o=new Date(n[s+"FullYear"](),0,1),Math.ceil(((n-o)/864e5+o[s+"Day"]()+1)/7))};return e.replace(m,function(t){return t in v?v[t]:t.slice(1,t.length-1)})});function a(t,e){return Math.round(t/e)*e}function y(t,e){switch(e.unit){case"s":t.setSeconds(a(t.getSeconds(),e.increment)),t.setMilliseconds(0);break;case"i":t.setMinutes(a(t.getMinutes(),e.increment)),t.setSeconds(0),t.setMilliseconds(0);break;case"h":t.setHours(a(t.getHours(),e.increment)),t.setMinutes(0),t.setSeconds(0),t.setMilliseconds(0);break;case"d":t.setMinutes(0),t.setSeconds(0),t.setMilliseconds(0),t.setHours(0),t.setDate(a(t.getDate(),e.increment));break;case"m":t.setMinutes(0),t.setSeconds(0),t.setMilliseconds(0),t.setHours(0),t.setDate(1),t.setMonth(a(t.getMonth(),e.increment));break;case"y":t.setMinutes(0),t.setSeconds(0),t.setMilliseconds(0),t.setHours(0),t.setDate(1),t.setMonth(0);break;default:throw new Error("Date format not recognized")}return t}function v(t,e){switch(e.unit){case"s":t.setSeconds(t.getSeconds()+e.increment),t.setMilliseconds(0);break;case"i":t.setMinutes(t.getMinutes()+e.increment),t.setSeconds(0),t.setMilliseconds(0);break;case"h":t.setHours(t.getHours()+e.increment),t.setMinutes(0),t.setSeconds(0),t.setMilliseconds(0);break;case"d":t.setDate(t.getDate()+e.increment),t.setMinutes(0),t.setSeconds(0),t.setMilliseconds(0),t.setHours(0);break;case"m":t.setMonth(t.getMonth()+e.increment),t.setMinutes(0),t.setSeconds(0),t.setMilliseconds(0),t.setHours(0),t.setDate(1);break;case"y":t.setFullYear(t.getFullYear()+e.increment),t.setMinutes(0),t.setSeconds(0),t.setMilliseconds(0),t.setHours(0),t.setDate(1),t.setMonth(0);break;default:throw new Error("Date format not recognized")}return t}function S(t,e,i){if(t.groups[e][i])return t.groups[e][i].group.setAttribute("display","block"),t.groups[e][i];var r={group:document.createElementNS(t.graph.ns,"g"),text:document.createElementNS(t.graph.ns,"text")},n=document.createElementNS(t.graph.ns,"line");switch(n.setAttribute("stroke","black"),n.setAttribute("y1",0),e){case 2:n.setAttribute("y2",6),r.text.setAttribute("y",15),r.line=n,r.group.appendChild(r.line);break;default:case 1:n.setAttribute("y2",20),r.text.setAttribute("y",10),r.line1=n,r.line2=n.cloneNode(),r.group.appendChild(r.line1),r.group.appendChild(r.line2)}return r.text.setAttribute("text-anchor","middle"),r.text.setAttribute("dominant-baseline","middle"),r.group.appendChild(r.text),t.getWrapper(e).appendChild(r.group),t.groups[e][i]=r}function A(t,e,i){for(;i<t.groups[e].length;i++)h(t.groups[e][i])}function h(t){t.group.setAttribute("display","none")}function _(t,e,i,r,n,s,o){switch(t){case 2:if(s<r||n<s)return void h(e);e.line.setAttribute("x1",s),e.line.setAttribute("x2",s),e.text.setAttribute("x",s),e.text.textContent=i;break;default:case 1:var a=Math.max(r,Math.min(n,s)),u=Math.max(r,Math.min(n,o));if(isNaN(u)||isNaN(a))return;for(e.line1.setAttribute("x1",a),e.line2.setAttribute("x1",u),e.line1.setAttribute("x2",a),e.line2.setAttribute("x2",u),e.text.setAttribute("x",(a+u)/2);8*i.length>u-a;)if(1==(i=i.substr(0,i.length-2)+".").length){i="";break}e.text.textContent=i}}M.masks={default:"ddd mmm dd yyyy HH:MM:ss",shortDate:"m/d/yy",mediumDate:"mmm d, yyyy",longDate:"mmmm d, yyyy",fullDate:"dddd, mmmm d, yyyy",shortTime:"h:MM TT",mediumTime:"h:MM:ss TT",longTime:"h:MM:ss TT Z",isoDate:"yyyy-mm-dd",isoTime:"HH:MM:ss",isoDateTime:"yyyy-mm-dd'T'HH:MM:ss",isoUtcDateTime:"UTC:yyyy-mm-dd'T'HH:MM:ss'Z'"},M.i18n={dayNames:["Sun","Mon","Tue","Wed","Thu","Fri","Sat","Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],monthNames:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec","January","February","March","April","May","June","July","August","September","October","November","December"]};var u=function(t){function r(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(r.__proto__||Object.getPrototypeOf(r)).apply(this,arguments))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(r,s.default),o(r,[{key:"init",value:function(t,e){(function t(e,i,r){null===e&&(e=Function.prototype);var n=Object.getOwnPropertyDescriptor(e,i);if(void 0===n){var s=Object.getPrototypeOf(e);return null===s?void 0:t(s,i,r)}if("value"in n)return n.value;var o=n.get;return void 0!==o?o.call(r):void 0})(r.prototype.__proto__||Object.getPrototypeOf(r.prototype),"init",this).call(this,t,e),this.wrapper={1:document.createElementNS(t.ns,"g"),2:document.createElementNS(t.ns,"g")},this.groups={1:[],2:[]};var i=document.createElementNS(t.ns,"rect");i.setAttribute("fill","#c0c0c0"),i.setAttribute("stroke","#808080"),i.setAttribute("height","20"),i.setAttribute("x","0"),i.setAttribute("y","0"),this.rect=i,this.wrapper[1].appendChild(this.rect),this.group.appendChild(this.wrapper[1]),this.group.appendChild(this.wrapper[2]),this.wrapper[1].setAttribute("transform","translate( 0, 25 )"),this.wrapper[2].setAttribute("transform","translate( 0, 00 )")}},{key:"draw",value:function(){this.cacheCurrentMax(),this.cacheCurrentMin(),null!=this.currentAxisMin&&null!=this.currentAxisMax||this.setMinMaxToFitSeries(!0),this.line.setAttribute("x1",this.getMinPx()),this.line.setAttribute("x2",this.getMaxPx()),this.line.setAttribute("y1",0),this.line.setAttribute("y2",0);var t,e=this.maxPx-this.minPx,i=this.getCurrentInterval()/e,r=this.getCurrentMax(),n=this.getCurrentMin();if(this.rect.setAttribute("width",e),this.rect.setAttribute("x",this.minPx),!r||!n)return 0;for(l=0;l<g.length;l++)if(g[l].threshold>i){t=g[l];break}t||(t=g[g.length-1]);var s,o,a,u,h,l,c,f,p=0;for(p=1;p<=2;p++){if(!d.isNumeric(n)){A(this,p,0);break}a=y(new Date(n),t.increments[p]),l=0;do{if(c=a,f=t.increments[p].format,u=M(c,f),h=S(this,p,l),s=this.getPx(a.getTime()),a=v(a,t.increments[p]),o=this.getPx(a.getTime()),_(p,h,u,this.getMinPx(),this.getMaxPx(),s,o),100<++l)break}while(a.getTime()<r);A(this,p,l)}}},{key:"isX",value:function(){return!0}},{key:"getWrapper",value:function(t){return this.wrapper[t]}},{key:"setShift",value:function(t){this.shift=t,this.group.setAttribute("transform","translate(0 "+(this.top?this.shift:this.graph.getDrawingHeight()-this.shift)+")")}},{key:"getAxisPosition",value:function(){return 60}},{key:"setMinMaxFlipped",value:function(){var t=this.maxPx-this.minPx,e=t*this.options.span[1]+this.minPx,i=t*this.options.span[0]+this.minPx;this.minPxFlipped=this.isFlipped()?e:i,this.maxPxFlipped=this.isFlipped()?i:e}}]),r}();e.default=u,t.exports=e.default},n=[t,e,i(73),i(5)],void 0===(s="function"==typeof(r=o)?r.apply(e,n):r)||(t.exports=s)},function(t,e,i){var r,n,s,o;o=function(t,e,i,r,n,s,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});l(i),l(r);var a=l(n),u=function(t){{if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e.default=t,e}}(s),h=l(o);function l(t){return t&&t.__esModule?t:{default:t}}var c=function(){function r(t,e){for(var i=0;i<e.length;i++){var r=e[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(t,e,i){return e&&r(t.prototype,e),i&&r(t,i),t}}();var f=function(t){function r(t,e,i){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(r.__proto__||Object.getPrototypeOf(r)).apply(this,arguments))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(r,h.default),c(r,null,[{key:"defaults",value:function(){return{zpos:0}}}]),c(r,[{key:"setZPos",value:function(t){return this.options.zpos=t,this}},{key:"setz",value:function(){return this.setZPos.apply(this,arguments)}}]),r}();u.mix(f,a.default),e.default=f,t.exports=e.default},n=[t,e,i(45),i(46),i(140),i(5),i(51)],void 0===(s="function"==typeof(r=o)?r.apply(e,n):r)||(t.exports=s)},function(t,e,i){var r,n,s,o;o=function(t,e,i,r,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});(function(t){{if(t&&t.__esModule)return;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);e.default=t}})(i),o(r);var s=o(n);function o(t){return t&&t.__esModule?t:{default:t}}var a=function(){function r(t,e){for(var i=0;i<e.length;i++){var r=e[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(t,e,i){return e&&r(t.prototype,e),i&&r(t,i),t}}();var u=function(t){function n(t,e,i){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,n);var r=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(n.__proto__||Object.getPrototypeOf(n)).apply(this,arguments));return r.groupMain=document.createElementNS(r.graph.ns,"g"),r.pathDom=document.createElementNS(r.graph.ns,"path"),r.groupMain.appendChild(r.pathDom),r.styles={},r.styles.unselected={lineColor:r.options.lineColor,lineStyle:r.options.lineStyle,lineWidth:r.options.lineWidth,fillColor:r.options.fillColor,fillOpacity:r.options.fillOpacity,markers:r.options.markers},r}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(n,s.default),a(n,[{key:"setData",value:function(t){for(var e in this.data=t,this.minY=Number.MAX_SAFE_INTEGER,this.maxY=Number.MIN_SAFE_INTEGER,this.data)this._checkY(this.data[e]);return this}},{key:"setFillColor",value:function(t,e,i){return e=e||"unselected",this.styles[e]=this.styles[e]||{},this.styles[e].fillColor=t,i&&this.setFillColor(t,"selected"),this.styleHasChanged(e),this}},{key:"getFillColor",value:function(t){return this.getStyle(t).fillColor}},{key:"setFillOpacity",value:function(t,e,i){return e=e||"unselected",this.styles[e]=this.styles[e]||{},this.styles[e].fillOpacity=t,i&&this.setLineWidth(t,"selected"),this.styleHasChanged(e),this}},{key:"getFillOpacity",value:function(t){return this.getStyle(t).fillOpacity||1}},{key:"applyLineStyles",value:function(){this.applyLineStyle(this.pathDom)}},{key:"applyLineStyle",value:function(t){t.setAttribute("stroke",this.getLineColor()),t.setAttribute("stroke-width",this.getLineWidth()),this.getLineDashArray()?t.setAttribute("stroke-dasharray",this.getLineDashArray()):t.removeAttribute("stroke-dasharray"),t.setAttribute("fill",this.getFillColor()),t.setAttribute("fill-opacity",this.getFillOpacity()||1)}},{key:"draw",value:function(){var t="";for(var e in this.error&&this.errorDrawInit(),this.data)this.categoryIndices[e]&&(t+="M "+this.getXAxis().getPos(this.categoryIndices[e])+" "+this.getYAxis().getPos(0)+" V "+this.getYAxis().getPos(this.data[e])+" h "+this.getXAxis().getDeltaPx(1/this.nbCategories)+" V "+this.getYAxis().getPos(0),this.error&&this.errorAddPointBarChart(e,this.data[e],this.getXAxis().getPos(this.categoryIndices[e]+.5/this.nbCategories),this.getYAxis().getPos(this.data[e])));this.error&&this.errorDraw(),this.pathDom.setAttribute("d",t),this.applyLineStyles()}},{key:"setMarkers",value:function(){}},{key:"getUsedCategories",value:function(){return Object.keys(this.data)}}]),n}();e.default=u,t.exports=e.default},n=[t,e,i(5),i(74),i(51)],void 0===(s="function"==typeof(r=o)?r.apply(e,n):r)||(t.exports=s)},function(t,e,i){var r,n,s,o;o=function(t,e,_,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r,s=(r=i)&&r.__esModule?r:{default:r};var o=function(){function r(t,e){for(var i=0;i<e.length;i++){var r=e[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(t,e,i){return e&&r(t.prototype,e),i&&r(t,i),t}}();var n=function(t){function n(t,e,i){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,n);var r=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(n.__proto__||Object.getPrototypeOf(n)).apply(this,arguments));return r.groupMain=document.createElementNS(r.graph.ns,"g"),r.pathDom=document.createElementNS(r.graph.ns,"path"),r.groupMain.appendChild(r.pathDom),r.styles={},r.styles.unselected=r.options.defaultStyle,r}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(n,s.default),o(n,null,[{key:"default",value:function(){return{orientation:"y",maxBoxWidth:20,defaultStyle:{meanLineColor:"rgb( 100, 0, 0 )",meanLineWidth:2,boxAboveLineWidth:1,boxAboveLineColor:"rgb( 0, 0, 0 )",boxAboveFillColor:"transparent",boxAboveFillOpacity:1,boxBelowLineWidth:1,boxBelowLineColor:"rgb( 0, 0, 0 )",boxBelowFillColor:"transparent",boxBelowFillOpacity:1,barAboveLineColor:"rgba( 0, 0, 0, 1 )",barAboveLineWidth:1,barBelowLineColor:"rgba( 0, 0, 0, 1 )",barBelowLineWidth:1,outlierLineWidth:1,outlierLineColor:"rgb( 255, 255, 255 )",outlierFillColor:"rgb( 0, 0, 0 )",outlierFillOpacity:1}}}}]),o(n,[{key:"setData",value:function(t,e){if(this.data=t,Array.isArray(t)){var i=void 0,r=void 0,n=void 0,s=void 0,o=void 0;for(var a in"y"==this.options.orientation?(i=this.getXAxis(),r=this.getYAxis(),n=this._checkX.bind(this),s=this._checkY.bind(this),o=!0,this.minY=t[0].Q2,this.maxY=t[0].Q2,this.maxX=t[0].x,this.minX=t[0].x):(i=this.getYAxis(),r=this.getXAxis(),n=this._checkY.bind(this),s=this._checkX.bind(this),o=!1,this.minX=t[0].Q2,this.maxX=t[0].Q2,this.maxY=t[0].y,this.minY=t[0].y),e&&(n=function(){},s=function(){}),i&&r||(0,_.throwError)("Error in setting data of the box serie. The X and Y axes must be set beforehand"),this.data)o?(n(this.data[a].x),this.data[a].pos=this.data[a].x):(n(this.data[a].y),this.data[a].pos=this.data[a].y),this.data[a].Q3&&s(this.data[a].Q3),this.data[a].Q1&&s(this.data[a].Q1),this.data[a].whiskers?Array.isArray(this.data[a].whiskers)?(0<this.data[a].whiskers.length&&s(this.data[a].whiskers[0]),1<this.data[a].whiskers.length&&s(this.data[a].whiskers[1])):(s(this.data[a].whiskers),this.data[a].whiskers=[this.data[a].whiskers]):this.data[a].whiskers=[],Array.isArray(this.data[a].outliers)?this.data[a].outliers.map(function(t){return s(t)}):this.data[a].outliers=[];return this.dataHasChanged(),this.graph.updateDataMinMaxAxes(),this}}},{key:"_style",value:function(t,e){var i=2<arguments.length&&void 0!==arguments[2]?arguments[2]:"unselected",r=3<arguments.length&&void 0!==arguments[3]&&arguments[3];return this.styles[i]=this.styles[i]||{},this.styles[i][t]=e,r&&this._set(t,e,"selected"),this.styleHasChanged(i),this}},{key:"_gstyle",value:function(t,e){return this.getStyle(e)[t]}},{key:"getStyle",value:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"unselected";return this.styles[t]||{}}},{key:"setMeanLineColor",value:function(){return this._style.apply(this,["meanLineColor"].concat(Array.prototype.slice.call(arguments)))}},{key:"getMeanLineColor",value:function(){return this._gstyle.apply(this,["meanLineColor"].concat(Array.prototype.slice.call(arguments)))}},{key:"setStyle",value:function(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"unselected";this.styles[e]=(0,_.extend)({},this.default().defaultStyle,this.styles.unselected,t),this.styleHasChanged(e)}},{key:"setMeanLineWidth",value:function(){return this._style.apply(this,["meanLineWidth"].concat(Array.prototype.slice.call(arguments)))}},{key:"getMeanLineWidth",value:function(){return this._gstyle.apply(this,["meanLineWidth"].concat(Array.prototype.slice.call(arguments)))}},{key:"setBoxAboveLineColor",value:function(){return this._style.apply(this,["boxAboveLineColor"].concat(Array.prototype.slice.call(arguments)))}},{key:"getBoxAboveLineColor",value:function(){return this._gstyle.apply(this,["boxAboveLineColor"].concat(Array.prototype.slice.call(arguments)))}},{key:"setBoxBelowLineColor",value:function(){return this._style.apply(this,["boxBelowLineColor"].concat(Array.prototype.slice.call(arguments)))}},{key:"getBoxBelowLineColor",value:function(){return this._gstyle.apply(this,["boxBelowLineColor"].concat(Array.prototype.slice.call(arguments)))}},{key:"setBoxAboveLineWidth",value:function(){return this._style.apply(this,["boxAboveLineWidth"].concat(Array.prototype.slice.call(arguments)))}},{key:"getBoxAboveLineWidth",value:function(){return this._gstyle.apply(this,["boxAboveLineWidth"].concat(Array.prototype.slice.call(arguments)))}},{key:"setBoxBelowLineWidth",value:function(){return this._style.apply(this,["boxBelowLineWidth"].concat(Array.prototype.slice.call(arguments)))}},{key:"getBoxBelowLineWidth",value:function(){return this._gstyle.apply(this,["boxBelowLineWidth"].concat(Array.prototype.slice.call(arguments)))}},{key:"setBoxAboveFillColor",value:function(){return this._style.apply(this,["boxAboveFillColor"].concat(Array.prototype.slice.call(arguments)))}},{key:"getBoxAboveFillColor",value:function(){return this._gstyle.apply(this,["boxAboveFillColor"].concat(Array.prototype.slice.call(arguments)))}},{key:"setBoxBelowFillColor",value:function(){return this._style.apply(this,["boxBelowFillColor"].concat(Array.prototype.slice.call(arguments)))}},{key:"getBoxBelowFillColor",value:function(){return this._gstyle.apply(this,["boxBelowFillColor"].concat(Array.prototype.slice.call(arguments)))}},{key:"setBoxAboveFillOpacity",value:function(){return this._style.apply(this,["boxAboveFillOpacity"].concat(Array.prototype.slice.call(arguments)))}},{key:"getBoxAboveFillOpacity",value:function(){return this._gstyle.apply(this,["boxAboveFillOpacity"].concat(Array.prototype.slice.call(arguments)))}},{key:"setBoxBelowFillOpacity",value:function(){return this._style.apply(this,["boxBelowFillOpacity"].concat(Array.prototype.slice.call(arguments)))}},{key:"getBoxBelowFillOpacity",value:function(){return this._gstyle.apply(this,["boxBelowFillOpacity"].concat(Array.prototype.slice.call(arguments)))}},{key:"setBarAboveLineColor",value:function(){return this._style.apply(this,["barAboveLineColor"].concat(Array.prototype.slice.call(arguments)))}},{key:"getBarAboveLineColor",value:function(){return this._gstyle.apply(this,["barAboveLineColor"].concat(Array.prototype.slice.call(arguments)))}},{key:"setBarBelowLineColor",value:function(){return this._style.apply(this,["barBelowLineColor"].concat(Array.prototype.slice.call(arguments)))}},{key:"getBarBelowLineColor",value:function(){return this._gstyle.apply(this,["barBelowLineColor"].concat(Array.prototype.slice.call(arguments)))}},{key:"setBarAboveLineWidth",value:function(){return this._style.apply(this,["barAboveLineWidth"].concat(Array.prototype.slice.call(arguments)))}},{key:"getBarAboveLineWidth",value:function(){return this._gstyle.apply(this,["barAboveLineWidth"].concat(Array.prototype.slice.call(arguments)))}},{key:"setBarBelowLineWidth",value:function(){return this._style.apply(this,["barBelowLineWidth"].concat(Array.prototype.slice.call(arguments)))}},{key:"getBarBelowLineWidth",value:function(){return this._gstyle.apply(this,["barBelowLineWidth"].concat(Array.prototype.slice.call(arguments)))}},{key:"setOutlierLineColor",value:function(){return this._style.apply(this,["outlierLineColor"].concat(Array.prototype.slice.call(arguments)))}},{key:"getOutlierLineColor",value:function(){return this._gstyle.apply(this,["outlierLineColor"].concat(Array.prototype.slice.call(arguments)))}},{key:"setOutlierLineWidth",value:function(){return this._style.apply(this,["outlierLineWidth"].concat(Array.prototype.slice.call(arguments)))}},{key:"getOutlierLineWidth",value:function(){return this._gstyle.apply(this,["outlierLineWidth"].concat(Array.prototype.slice.call(arguments)))}},{key:"setOutlierFillColor",value:function(){return this._style.apply(this,["outlierFillColor"].concat(Array.prototype.slice.call(arguments)))}},{key:"getOutlierFillColor",value:function(){return this._gstyle.apply(this,["outlierFillColor"].concat(Array.prototype.slice.call(arguments)))}},{key:"setOutlierFillOpacity",value:function(){return this._style.apply(this,["outlierFillOpacity"].concat(Array.prototype.slice.call(arguments)))}},{key:"getOutlierFillOpacity",value:function(){return this._gstyle.apply(this,["outlierFillOpacity"].concat(Array.prototype.slice.call(arguments)))}},{key:"applyLineStyles",value:function(){this.applyLineStyle(this.pathDom)}},{key:"applyLineStyle",value:function(t){t.setAttribute("stroke",this.getLineColor()),t.setAttribute("stroke-width",this.getLineWidth()),t.removeAttribute("stroke-dasharray"),t.setAttribute("fill",this.getFillColor()),t.setAttribute("fill-opacity",this.getFillOpacity()||1)}},{key:"draw",value:function(){var i=this;if(this.data){var r=void 0,e="y"==this.options.orientation?this.getYAxis():this.getXAxis(),t="y"==this.options.orientation?this.getXAxis():this.getYAxis(),n=void 0,s=void 0,o=void 0,a=void 0,u=void 0,h=void 0,l=void 0;if((0,_.emptyDom)(this.groupMain),"category"==t.getType())n=t.getRelPx(.8/this.nbCategories),!0;else{n=this.options.maxBoxWidth,console.log(n);for(var c=0,f=this.data.length;c<f-1;c++)n=Math.max(5,Math.min(n,Math.abs(t.getPx(this.data[c+1].pos)-t.getPx(this.data[c].pos))))}for(c=0,f=this.data.length;c<f;c++){if("category"==t.getType()){var p="y"==this.options.orientation?this.data[c].x:this.data[c].y;if(this.categoryIndices.hasOwnProperty(p))r=[t.getPos(this.categoryIndices[p])+1.2*n/2];else if(Array.isArray(this._linkedToScatterSeries)){var d=!0,g=!1,y=void 0;try{for(var v,m=this._linkedToScatterSeries[Symbol.iterator]();!(d=(v=m.next()).done);d=!0){var x=v.value;if(x.categoryIndices.hasOwnProperty(p)){r=[t.getPos(x.categoryIndices[p])+1.2*n/2],e="y"==this.options.orientation?x.getYAxis():x.getXAxis();break}}}catch(t){g=!0,y=t}finally{try{!d&&m.return&&m.return()}finally{if(g)throw y}}}}else r=[t.getPos("y"==this.options.orientation?this.data[c].x:this.data[c].y),n];s=e.getPos(this.data[c].Q2),o=e.getPos(this.data[c].Q3),a=e.getPos(this.data[c].Q1),this.data[c].whiskers.map(function(t){t<i.data[c].Q1?h=e.getPos(t):u=e.getPos(t)}),l=this.data[c].outliers.map(function(t){return e.getPos(t)});var b=document.createElementNS(this.graph.ns,"line");this.applyMeanStyle(b);var k=document.createElementNS(this.graph.ns,"rect"),M=document.createElementNS(this.graph.ns,"rect");"y"==this.options.orientation?(k.setAttribute("width",n),k.setAttribute("x",r[0]-n/2),M.setAttribute("width",n),M.setAttribute("x",r[0]-n/2),b.setAttribute("x1",r[0]-n/2),b.setAttribute("x2",r[0]+n/2),b.setAttribute("y1",s),b.setAttribute("y2",s)):(k.setAttribute("height",n),k.setAttribute("y",r[0]-n/2),M.setAttribute("height",n),M.setAttribute("y",r[0]-n/2),b.setAttribute("y1",r[0]-n/2),b.setAttribute("y2",r[0]+n/2),b.setAttribute("x1",s),b.setAttribute("x2",s)),this.boxPos(k,s,o,"x"==this.options.orientation),this.boxPos(M,s,a,"x"==this.options.orientation),this.applyBoxStyle(k,M);var S=document.createElementNS(this.graph.ns,"line"),A=document.createElementNS(this.graph.ns,"line");"y"==this.options.orientation?(void 0!==u&&(S.setAttribute("y1",o),S.setAttribute("y2",u),S.setAttribute("x1",r[0]),S.setAttribute("x2",r[0])),void 0!==h&&(A.setAttribute("y1",a),A.setAttribute("y2",h),A.setAttribute("x1",r[0]),A.setAttribute("x2",r[0]))):(void 0!==u&&(S.setAttribute("x1",o),S.setAttribute("x2",u),S.setAttribute("y1",r[0]),S.setAttribute("y2",r[0])),void 0!==h&&(A.setAttribute("x1",a),A.setAttribute("x2",h),A.setAttribute("y1",r[0]),A.setAttribute("y2",r[0]))),l.map(function(t){var e=document.createElementNS(i.graph.ns,"circle");e.setAttribute("r",2),"y"==i.options.orientation?(e.setAttribute("cx",r[0]),e.setAttribute("cy",t)):(e.setAttribute("cy",r[0]),e.setAttribute("cx",t)),i.setOutlierStyle(e),i.groupMain.appendChild(e)}),void 0!==u&&this.groupMain.appendChild(S),void 0!==h&&this.groupMain.appendChild(A),void 0!==o&&this.groupMain.appendChild(k),void 0!==a&&this.groupMain.appendChild(M),this.groupMain.appendChild(b),this.applyWhiskerStyle(S,A)}}}},{key:"applyBoxStyle",value:function(t,e){t.setAttribute("stroke",this.getBoxAboveLineColor()),t.setAttribute("stroke-width",this.getBoxAboveLineWidth()),void 0!==this.getBoxAboveFillColor()&&t.setAttribute("fill",this.getBoxAboveFillColor()),void 0!==this.getBoxAboveFillOpacity()&&t.setAttribute("fill-opacity",this.getBoxAboveFillOpacity()),e.setAttribute("stroke",this.getBoxBelowLineColor()),e.setAttribute("stroke-width",this.getBoxBelowLineWidth()),void 0!==this.getBoxBelowFillColor()&&e.setAttribute("fill",this.getBoxBelowFillColor()),void 0!==this.getBoxAboveFillOpacity()&&e.setAttribute("fill-opacity",this.getBoxBelowFillOpacity())}},{key:"applyWhiskerStyle",value:function(t,e){t.setAttribute("stroke",this.getBarAboveLineColor()),t.setAttribute("stroke-width",this.getBarAboveLineWidth()),e.setAttribute("stroke",this.getBarBelowLineColor()),e.setAttribute("stroke-width",this.getBarBelowLineWidth())}},{key:"applyMeanStyle",value:function(t){t.setAttribute("stroke",this.getMeanLineColor()),t.setAttribute("stroke-width",this.getMeanLineWidth())}},{key:"setOutlierStyle",value:function(t){t.setAttribute("stroke",this.getOutlierLineColor()),t.setAttribute("stroke-width",this.getOutlierLineWidth()),void 0!==this.getBoxBelowFillColor()&&t.setAttribute("fill",this.getOutlierFillColor()),void 0!==this.getBoxAboveFillOpacity()&&t.setAttribute("fill-opacity",this.getOutlierFillOpacity())}},{key:"getCategoryIndex",value:function(t){if(!this.categories)throw new Error("No categories were defined. Probably axis.setSeries was not called");for(var e=0;e<this.categories.length;e++)if(this.categories[e].name==t)return e;return!1}},{key:"setMarkers",value:function(){}},{key:"boxPos",value:function(t,e,i,r){i<e?(t.setAttribute(r?"x":"y",i),t.setAttribute(r?"width":"height",e-i)):(t.setAttribute(r?"x":"y",e),t.setAttribute(r?"width":"height",i-e))}},{key:"getUsedCategories",value:function(){var e="y"==this.options.orientation?"x":"y",i=this.data.map(function(t){return t[e]});return Array.isArray(this._linkedToScatterSeries)&&this._linkedToScatterSeries.map(function(t){t.getUsedCategories().map(function(t){var e;-1<(e=i.indexOf(t))&&i.splice(e,1)})}),i}},{key:"linkToScatterSerie",value:function(){for(var t=arguments.length,e=Array(t),i=0;i<t;i++)e[i]=arguments[i];this._linkedToScatterSeries=e}}]),n}();e.default=n,t.exports=e.default},n=[t,e,i(5),i(57)],void 0===(s="function"==typeof(r=o)?r.apply(e,n):r)||(t.exports=s)},function(t,e,i){var r,n,s,o;o=function(t,e,i,r,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});(function(t){{if(t&&t.__esModule)return;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);e.default=t}})(i),o(r);var s=o(n);function o(t){return t&&t.__esModule?t:{default:t}}var a=function(){function r(t,e){for(var i=0;i<e.length;i++){var r=e[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(t,e,i){return e&&r(t.prototype,e),i&&r(t,i),t}}();var u=function(t){function n(t,e,i){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,n);var r=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(n.__proto__||Object.getPrototypeOf(n)).apply(this,arguments));return r.lines=r.lines||{},r}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(n,s.default),a(n,[{key:"setColors",value:function(t){this.colors=t}},{key:"_draw",value:function(){var t,e,i,r,n,s,o,a,u=this,h=(this._dataToUse,0),l=!1,c=!1,f=this.getXAxis(),p=this.getYAxis(),d=f.getCurrentMin(),g=p.getCurrentMin(),y=f.getCurrentMax(),v=p.getCurrentMax();for(this.eraseLines(),this.isFlipped()&&(1,0),this.currentLine="",e=this.waveform.getLength(),t=0;t<e;t+=2)if(i=this.waveform.getX(t),r=this.waveform.getY(t),i<d&&l<d||y<i&&y<l||(r<g&&c<g||v<r&&v<c)&&!this.options.lineToZero)l=i,c=r,!0;else if(this.counter2=t,this.markersShown()&&this.getMarkerCurrentFamily(this.counter2),o=this.getX(i),a=this.getY(r),o!=n||a!=s)if(i<d||r<g||y<i||v<r,isNaN(o)||isNaN(a))this.counter;else{var m=this.colors[t];this._addPoint(o,a,i,r,n,s,l,c,t,m,!1,!0),n=o,s=a,l=i,c=r}if(this.latchLines(),this._tracker){this._trackerDom&&this._trackerDom.remove();var x=this.groupLines.cloneNode(!0);this.groupMain.appendChild(x);h=0;for(var b=x.children.length;h<b;h++)x.children[h].setAttribute("stroke","transparent"),x.children[h].setAttribute("stroke-width","25px"),x.children[h].setAttribute("pointer-events","stroke");u._trackerDom=x,u.groupMain.addEventListener("mousemove",function(t){var e=u.graph._getXY(t),i=u.handleMouseMove(!1,!1);u._trackingCallback(u,i,e.x,e.y)}),u.groupMain.addEventListener("mouseleave",function(t){u._trackingOutCallback(u)})}return this}},{key:"_addPoint",value:function(t,e,i,r,n,s,o,a,u,h,l,c){if(void 0!==n&&void 0!==s&&!isNaN(t)&&!isNaN(e)){h._rgb&&(h="rgba("+h._rgb[0]+","+h._rgb[1]+","+h._rgb[2]+","+(h._rgb[3]||1)+")");var f=this.lines[h];f||((f=this.lines[h]={object:document.createElementNS(this.graph.ns,"path"),path:"",color:h}).object.setAttribute("stroke",h),f.color=h,this.groupLines.appendChild(f.object)),f.path+="M "+n+" "+s+" L "+t+" "+e,this.hasErrors()&&this.errorAddPoint(u,i,r,t,e)}}},{key:"removeExtraLines",value:function(){}},{key:"latchLines",value:function(){for(var t in this.lines)this.lines[t].object.setAttribute("d",this.lines[t].path)}},{key:"eraseLines",value:function(){for(var t in this.lines)this.lines[t].path="",this.lines[t].object.setAttribute("d","")}},{key:"applyLineStyle",value:function(t){t.setAttribute("stroke-width",this.getLineWidth()),this.getLineDashArray()?t.setAttribute("stroke-dasharray",this.getLineDashArray()):t.removeAttribute("stroke-dasharray"),t.setAttribute("fill","none")}}]),n}();e.default=u,t.exports=e.default},n=[t,e,i(5),i(74),i(51)],void 0===(s="function"==typeof(r=o)?r.apply(e,n):r)||(t.exports=s)},function(t,e,i){var r,n,s,o;o=function(t,e,i,r,n,s,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});l(i),l(r);var a=l(n),u=function(t){{if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e.default=t,e}}(s),h=l(o);function l(t){return t&&t.__esModule?t:{default:t}}var c=function(){function r(t,e){for(var i=0;i<e.length;i++){var r=e[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(t,e,i){return e&&r(t.prototype,e),i&&r(t,i),t}}();var f=function(t){function r(t,e,i){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(r.__proto__||Object.getPrototypeOf(r)).apply(this,arguments))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(r,h.default),c(r,null,[{key:"default",value:function(){return{zpos:0}}}]),c(r,[{key:"setZPos",value:function(t){return this.options.zpos=t,this}},{key:"setz",value:function(){return this.setZPos.apply(this,arguments)}}]),r}();u.mix(f,a.default),e.default=f,t.exports=e.default},n=[t,e,i(45),i(46),i(140),i(5),i(142)],void 0===(s="function"==typeof(r=o)?r.apply(e,n):r)||(t.exports=s)},function(t,e,i){var r,n,s,o;o=function(t,e,i,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,s=function(t){{if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e.default=t,e}}(i),o=(n=r)&&n.__esModule?n:{default:n};var a=function(){function r(t,e){for(var i=0;i<e.length;i++){var r=e[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(t,e,i){return e&&r(t.prototype,e),i&&r(t,i),t}}();var u=function(t){function n(t,e,i){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,n);var r=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(n.__proto__||Object.getPrototypeOf(n)).apply(this,arguments));return s.mapEventEmission(r.options,r),r.groupMain=document.createElementNS(r.graph.ns,"g"),r.rects=[],r.paths=[],r.recalculateBinsOnDraw=!1,r}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(n,o.default),a(n,[{key:"setData",value:function(t){this.minX=this.maxX=this.minY=this.maxY=0;var e=0,i=t.length;for(this.data=t,this.minX=Number.POSITIVE_INFINITY,this.minY=Number.POSITIVE_INFINITY,this.maxX=Number.NEGATIVE_INFINITY,this.maxY=Number.NEGATIVE_INFINITY,e=0;e<i;e++)this._checkX(t[e][0]),this._checkY(t[e][1]);return this.dataHasChanged(),this.graph.updateDataMinMaxAxes(),this}},{key:"calculateDensity",value:function(t,e,i,r,n,s){var o,a,u,h=[],l=this.data.length,c=Number.POSITIVE_INFINITY,f=Number.NEGATIVE_INFINITY;for(o=0;o<l;o++)a=~~((this.data[o][0]-t)/e),u=~~((this.data[o][1]-r)/n),i<a||s<u||a<0||u<0||(h[a]=h[a]||[],h[a][u]=h[a][u]+1||1,c=h[a][u]<c?h[a][u]:c,f=h[a][u]>f?h[a][u]:f);return this.maxIndexX=i,this.maxIndexY=s,this.binMin=c,this.binMax=f,this.deltaX=e,this.deltaY=n,this.fromX=t,this.fromY=r,this.numX=i,this.numY=s,this.densitymap=h}},{key:"setDensityMap",value:function(t,e,i,r,n){var s,o,a=Number.POSITIVE_INFINITY,u=Number.NEGATIVE_INFINITY;for(s=0;s<t.length;s++)for(o=0;o<t[s].length;o++)a=t[s][o]<a?t[s][o]:a,u=t[s][o]>u?t[s][o]:u;return this.maxIndexX=t.length,this.maxIndexY=t[0].length,console.log(t),this.binMin=a,this.binMax=u,this.deltaX=i,this.deltaY=n,this.fromX=e,this.fromY=r,this.numX=this.maxIndexX,this.numY=this.maxIndexY,this.densitymap=t}},{key:"calculateDensityWeighted",value:function(t,e,i,r,n,s){var o,a,u,h,l,c,f,p,d,g,y,v=[],m=this.data.length,x=Number.POSITIVE_INFINITY,b=Number.NEGATIVE_INFINITY;for(o=0;o<m;o++)c=(this.data[o][0]-t)/e-.5,f=(this.data[o][1]-r)/n-.5,d=(p=a=Math.floor(c))+1,y=(g=u=Math.floor(f))+1,h=1-(c-a),l=1-(f-u),i<a||s<u||a<0||u<0||(v[p]=v[p]||[],v[d]=v[d]||[],v[p][g]=v[p][g]||0,v[d][g]=v[d][g]||0,v[p][y]=v[p][y]||0,v[d][y]=v[d][y]||0,v[p][g]+=h*l,v[d][g]+=(1-h)*l,v[p][y]+=h*(1-l),v[d][y]+=(1-h)*(1-l),x=v[p][g]<x?v[p][g]:x,b=v[p][g]>b?v[p][g]:b,x=v[d][g]<x?v[d][g]:x,b=v[d][g]>b?v[d][g]:b,x=v[p][y]<x?v[p][y]:x,b=v[p][y]>b?v[p][y]:b,x=v[d][y]<x?v[d][y]:x,b=v[d][y]>b?v[d][y]:b);return this.maxIndexX=i,this.maxIndexY=s,this.binMin=x,this.binMax=b,this.deltaX=e,this.deltaY=n,this.fromX=t,this.fromY=r,this.numX=i,this.numY=s,this.densitymap=v}},{key:"autoBins",value:function(t,e){return this.numX=t||400,this.numY=e||this.numX,this.calculateDensity(this.minX,(this.maxX-this.minX)/t,t,this.minY,(this.maxY-this.minY)/e,e),this.recalculateBinsOnDraw=!1,this}},{key:"setPxPerBin",value:function(t,e,i){return t&&this.calculationDensityMap({from:"min",to:"max",pxPerBin:t,weighted:i}),e&&this.calculationDensityMap(!1,{from:"min",to:"max",pxPerBin:e,weighted:i}),this}},{key:"setBinsFromTo",value:function(t,e,i,r){return this.densityMapCalculation=this.densityMapCalculation||{},this.densityMapCalculation[t]={from:e,to:i,numBins:r},this.calculationDensityMap(),this}},{key:"calculationDensityMap",value:function(t,e){this.method=this.calculateDensityAdvanced,this.densityMapCalculation=this.densityMapCalculation||{},t&&(this.densityMapCalculation.x=t),e&&(this.densityMapCalculation.y=e)}},{key:"calculateDensityAdvanced",value:function(){var t={x:{from:0,num:0,delta:0,weighing:!1},y:{from:0,num:0,delta:0,weighing:!1}},e={x:this.graph.drawingSpaceWidth,y:this.graph.drawingSpaceHeight},i={x:this.getXAxis,y:this.getYAxis},r=!1;for(var n in this.densityMapCalculation)if(this.densityMapCalculation[n].weighted&&(r=!0,t[n].weighing=!0),this.densityMapCalculation[n].pxPerBin){var s="min"==this.densityMapCalculation[n].from?i[n].call(this).getCurrentMin():this.densityMapCalculation[n].from,o="max"==this.densityMapCalculation[n].to?i[n].call(this).getCurrentMax():this.densityMapCalculation[n].to,a=Math.abs(i[n].call(this).getRelPx(o-s));t[n].num=Math.ceil(e[n]/this.densityMapCalculation[n].pxPerBin),t[n].from=s-Math.abs(i[n].call(this).getRelVal((t[n].num*this.densityMapCalculation[n].pxPerBin-a)/2)),t[n].delta=Math.abs(i[n].call(this).getRelVal(this.densityMapCalculation[n].pxPerBin))}else t[n].num=this.densityMapCalculation[n].numBins||400,t[n].from="min"==this.densityMapCalculation[n].from?i[n].call(this).getCurrentMin():this.densityMapCalculation[n].from,t[n].delta=this.densityMapCalculation[n].to?(("max"==this.densityMapCalculation[n].to?i[n].call(this).getCurrentMax():this.densityMapCalculation[n].to)-t[n].from)/t[n].num:this.densityMapCalculate[n].delta;(r?this.calculateDensityWeighted:this.calculateDensity).call(this,t.x.from,t.x.delta,t.x.num,t.y.from,t.y.delta,t.y.num)}},{key:"setColorMapBinBoundaries",value:function(t,e,i){return this.colorMapMin=t,this.colorMapMax=e,i||(this.callbackColorMapMinMax="manual"),this}},{key:"autoColorMapBinBoundaries",value:function(){return this.colorMapMin=this.binMin,this.colorMapMax=this.binMax,this}},{key:"onRedrawColorMapBinBoundaries",value:function(t){return this.callbackColorMapMinMax=t,this}},{key:"colorMapHSL",value:function(t,e,i){i=i||"linear";for(var r,n,s={exp:function(t){return(Math.exp(t/e*1)-Math.exp(0))/(Math.exp(1)-Math.exp(0))},log:function(t){return(Math.log(t+1)-Math.log(1))/(Math.log(e+1)-Math.log(1))},linear:function(t){return(t-0)/(e-0)}},o=0,a=[],u=[],h={h:null,s:null,l:null,a:null},l=t.length-1,c=0;c<=e;c++){for(var f in r=s[i](c),(n=Math.floor(r*l))==t.length-1&&(n=l-1),r=(r-n/l)/(1/l),h)h[f]=(t[n+1][f]-t[n][f])*r+t[n][f];a[o]="hsl("+h.h+", "+Math.round(100*h.s)+"%, "+Math.round(100*h.l)+"%)",u[o]=h.a,o++}return this.opacities=u,this.colorMap=a,this.colorMapNum=e,this}},{key:"autoColorMapHSL",value:function(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"linear";return this.colorMapHSL(t,100,e),this}},{key:"getColorIndex",value:function(t){return Math.max(0,Math.min(this.colorMapNum,Math.floor((t-this.colorMapMin)/(this.colorMapMax-this.colorMapMin)*this.colorMapNum)))}},{key:"draw",value:function(){var t;if(this.method&&this.method(),this.callbackColorMapMinMax&&null!=this.colorMapMin&&null!=this.colorMapMax&&"auto"!=this.callbackColorMapMinMax){if("function"==typeof this.callbackColorMapMinMax){var e=this.callbackColorMapMinMax(this.binMin,this.binMax);this.setColorMapBinBoundaries(e[0],e[1],!0)}}else this.autoColorMapBinBoundaries();for(var i=this.getXAxis().getRelPx(this.deltaX),r=this.getYAxis().getRelPx(this.deltaY),n=0;n<this.paths.length;n++)this.paths[n]="";console.log(this.maxIndexX,this.maxIndexY);for(n=0;n<this.maxIndexX;n++)for(var s=0;s<this.maxIndexY;s++)null!=this.densitymap[n]&&null!=this.densitymap[n][s]&&(t=this.getColorIndex(this.densitymap[n][s]),this.paths[t]||(this.paths[t]=""),this.paths[t]+=" M "+this.getXAxis().getPx(n*this.deltaX+this.fromX)+" "+this.getYAxis().getPx(s*this.deltaY+this.fromY)+" h "+i+" v "+r+" h -"+i+" z");this.drawRects()}},{key:"drawRects",value:function(){for(var t=0;t<this.paths.length;t++)this.rects[t]||(this.rects[t]=document.createElementNS(this.graph.ns,"path"),this.rects[t].setAttribute("shape-rendering","crispEdges")),void 0!==this.paths[t]&&(this.rects[t].setAttribute("d",this.paths[t]),this.rects[t].setAttribute("fill",this.colorMap[t]),this.rects[t].setAttribute("fill-opacity",this.opacities[t])),this.groupMain.appendChild(this.rects[t])}},{key:"setOptions",value:function(t){return this.options=s.extend(!0,{},this.defaults(),t||{}),this}}]),n}();e.default=u,t.exports=e.default},n=[t,e,i(5),i(57)],void 0===(s="function"==typeof(r=o)?r.apply(e,n):r)||(t.exports=s)},function(t,e,i){var r,n,s,o;o=function(t,e,i,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,a=function(t){{if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e.default=t,e}}(i),s=(n=r)&&n.__esModule?n:{default:n};var h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};var o=function(){function r(t,e){for(var i=0;i<e.length;i++){var r=e[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(t,e,i){return e&&r(t.prototype,e),i&&r(t,i),t}}();var u=function(t){function n(t,e,i){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,n);var r=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(n.__proto__||Object.getPrototypeOf(n)).apply(this,arguments));return r.negativeDelta=0,r.positiveDelta=0,r.negativeThreshold=0,r.positiveThreshold=0,r.groupMain.setAttribute("clip-path","url(#_clipplot"+t._creation+")"),r}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(n,s.default),o(n,[{key:"setData",value:function(t,e,i){i=i||"float";var r,n,s,o,a=t.length,u=[];for(t instanceof Array||"object"==(void 0===t?"undefined":h(t))&&(this.minX=t.minX,this.minY=t.minY,this.maxX=t.maxX,this.maxY=t.maxY,a=(t=t.segments).length),r=0;r<a;r++){for(s=t[r].lines.length,o=this._addData(i,s),n=0;n<s;n+=2)o[n]=t[r].lines[n],this._checkX(o[n]),o[n+1]=t[r].lines[n+1],this._checkY(o[n+1]);u.push({lines:o,zValue:t[r].zValue})}return this.data=u,this.graph.updateDataMinMaxAxes(),this.dataHasChanged(!0),this}},{key:"draw",value:function(t){if(t||this.hasDataChanged()){var e,i,r,n,s,o,a,u=this.currentLine=0,h=this.data.length,l=0;this.minZ=1/0,this.maxZ=-1/0;var c=this.groupLines.nextSibling;this.groupMain.removeChild(this.groupLines),this.zValues={};var f=0,p=1;this.getFlip()&&(f=0,p=1);var d=this.getYAxis().getCurrentMin(),g=this.getXAxis().getCurrentMin(),y=this.getXAxis().getCurrentMax(),v=this.getYAxis().getCurrentMax();for(this.counter=0,this.currentLineId=0;u<h;u++){for(this.currentLine="",l=0,s=(a=this.data[u].lines).length;l<s;l+=4){a[l+f]<g&&a[l+2+f]<g||a[l+p]<d&&a[l+2+p]<d||a[l+p]>v&&a[l+2+p]>v||a[l+f]>y&&a[l+2+f]>y||(r=this.getX(a[l+f]),n=this.getY(a[l+p]),e=this.getX(a[l+2+f]),i=this.getY(a[l+2+p]),e==r&&i==n||(this.currentLine+="M ",this.currentLine+=r,this.currentLine+=" ",this.currentLine+=n,this.currentLine+="L ",this.currentLine+=e,this.currentLine+=" ",this.currentLine+=i,this.counter++,e,i,0))}this.currentLine+=" z",(o=this._createLine()).setAttribute("data-zvalue",this.data[u].zValue),this.zValues[this.data[u].zValue]={dom:o},this.minZ=Math.min(this.minZ,this.data[u].zValue),this.maxZ=Math.max(this.maxZ,this.data[u].zValue)}for(u++,u=this.currentLine+1;u<this.lines.length;u++)this.groupLines.removeChild(this.lines[u]),this.lines.splice(u,1);for(u=0;u<h;u++)this.setColorTo(this.lines[u],this.data[u].zValue,this.minZ,this.maxZ);this.onMouseWheel(0,{shiftKey:!1}),this.groupMain.insertBefore(this.groupLines,c)}else if(this.hasStyleChanged(this.selectionType))for(;u<h;u++)this.setColorTo(this.lines[u],this.data[u].zValue,this.minZ,this.maxZ)}},{key:"onMouseWheel",value:function(t,e,i,r){for(var n in t/=250,void 0!==i?(r||(this.negativeThreshold=-i*this.minZ,this.negativeDelta=-Math.pow(Math.abs(this.negativeThreshold/-this.minZ),1/3)),r&&(this.positiveThreshold=i*this.maxZ,this.positiveDelta=Math.pow(this.positiveThreshold/this.maxZ,1/3))):e.shiftKey&&this.options.hasNegative?(this.negativeDelta=Math.min(0,Math.max(-1,this.negativeDelta+Math.min(.1,Math.max(-.1,t)))),this.negativeThreshold=-this.minZ*Math.pow(this.negativeDelta,3)):(this.positiveDelta=Math.min(1,Math.max(0,this.positiveDelta+Math.min(.1,Math.max(-.1,t)))),this.positiveThreshold=this.maxZ*Math.pow(this.positiveDelta,3)),isNaN(this.positiveDelta)&&(this.positiveDelta=0),isNaN(this.negativeDelta)&&(this.negativeDelta=0),this.zValues)this.zValues[n].dom.setAttribute("display",0<=n&&n>=this.positiveThreshold||n<=0&&n<=this.negativeThreshold?"block":"none");this._shapeZoom&&(this.options.hasNegative?(this._shapeZoom.setHandleNeg(-Math.pow(this.negativeDelta,3),this.minZ),this._shapeZoom.showHandleNeg()):this._shapeZoom.hideHandleNeg(),this._shapeZoom.setHandlePos(Math.pow(this.positiveDelta,3),this.maxZ))}},{key:"handleMouseMove",value:function(t,e,i){var r=t||this.getXAxis().getMouseVal(),n=i||this.getYAxis().getMouseVal();return{trueX:r,interpolatedY:n,xClosest:r,yClosest:n}}},{key:"setDynamicColor",value:function(t){this.lineColors=t,this.styleHasChanged()}},{key:"setNegative",value:function(t){(this.options.hasNegative=t)&&(this.negativeThreshold=0)}},{key:"setColorTo",value:function(t,e,i,r){if(this.lineColors){var n={h:0,s:0,l:0};for(var s in n)n[s]=0<e?this.lineColors.fromPositive[s]+(this.lineColors.toPositive[s]-this.lineColors.fromPositive[s])*(e/r):this.lineColors.fromNegative[s]+(this.lineColors.toNegative[s]-this.lineColors.fromNegative[s])*(e/i);n.h/=360;var o=a.hslToRgb(n.h,n.s,n.l);t.setAttribute("stroke","rgb("+o.join()+")")}}},{key:"getSymbolForLegend",value:function(){if(!this.lineForLegend){var t=document.createElementNS(this.graph.ns,"ellipse");t.setAttribute("cx",7),t.setAttribute("cy",0),t.setAttribute("rx",8),t.setAttribute("ry",3),t.setAttribute("cursor","pointer"),this.lineForLegend=t}return this.applyLineStyle(this.lineForLegend,this.maxZ),this.lineForLegend}},{key:"applyLineStyle",value:function(t,e){t.setAttribute("stroke",this.getLineColor()),t.setAttribute("stroke-width",this.getLineWidth()+(this.isSelected()?2:0)),this.getLineDashArray()&&t.setAttribute("stroke-dasharray",this.getLineDashArray()),t.setAttribute("fill","none"),this.setColorTo(t,void 0!==e?e:t.getAttribute("data-zvalue"),this.minZ,this.maxZ),this.hasStyleChanged(!1)}},{key:"setShapeZoom",value:function(t){this._shapeZoom=t}}]),n}();e.default=u,t.exports=e.default},n=[t,e,i(5),i(51)],void 0===(s="function"==typeof(r=o)?r.apply(e,n):r)||(t.exports=s)},function(t,e,i){var r,n,s,o;o=function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r,n=(r=i)&&r.__esModule?r:{default:r};var s=function(){function r(t,e){for(var i=0;i<e.length;i++){var r=e[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(t,e,i){return e&&r(t.prototype,e),i&&r(t,i),t}}();var o=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,n.default),s(e,[{key:"createDom",value:function(){this._dom=document.createElementNS(this.graph.ns,"path")}},{key:"createHandles",value:function(){this._createHandles(2,"line",{"stroke-width":"3",stroke:"transparent","pointer-events":"stroke",cursor:"ew-resize"})}},{key:"handleMouseMoveImpl",value:function(t,e,i){if(!this.isLocked()){if(this.moving)this.getPosition(0).deltaPosition("x",e,this.getXAxis()),this.getPosition(1).deltaPosition("x",e,this.getXAxis());else if(this.serie&&this.handleSelected){this.resizingPosition=1==this.handleSelected?this.getPosition(0):this.getPosition(1);var r=this.serie.searchClosestValue(this.getXAxis().getVal(this.graph._getXY(t).x-this.graph.getPaddingLeft()));if(!r)return;this.resizingPosition.x!=r.xMin&&(this.preventUnselect=!0),this.resizingPosition.x=r.xMin}else this.handleSelected&&(this.resizingPosition=1==this.handleSelected?this.getPosition(0):this.getPosition(1),this.resizingPosition.deltaPosition("x",e,this.getXAxis()));this.applyPosition()}}},{key:"applyPosition",value:function(){if(this.serie){var t=this.computePosition(0),e=this.computePosition(1),i=Math.abs(t.x-e.x),r=Math.min(t.x,e.x);if(i<2||r+i<0||r>this.graph.getDrawingWidth())return this.setDom("d",""),!1;var n,s,o,a,u,h,l,c=this.serie.searchClosestValue(this.getPosition(0).x),f=this.serie.searchClosestValue(this.getPosition(1).x),p=0,d=Number.MAX_VALUE;if(!c||!f)return!1;for(c.xBeforeIndex>f.xBeforeIndex&&(n=c,c=f,f=n),this.counter=0,s=c.dataIndex;s<=f.dataIndex;s++){for(this.currentLine="",h=0,(a=s==c.dataIndex?c.xBeforeIndexArr:0)==(u=s==f.dataIndex?f.xBeforeIndexArr:this.serie.data[s].length)&&u++,o=a;o<=u;o+=2)r=this.serie.getX(this.serie.data[s][o+0]),l=this.serie.getY(this.serie.data[s][o+1]),p=Math.max(this.serie.data[s][o+1],p),d=Math.min(this.serie.data[s][o+1],d),o==a&&(this.firstX=r,this.firstY=l),this.currentLine+=0<h?" L "+r+" "+l+" ":" M "+r+" "+l+" ",h++;if(this.lastX=r,this.lastY=l,!(this.firstX&&this.firstY&&this.lastX&&this.lastY))return;this.currentLine+=" V "+this.getYAxis().getPx(0)+" H "+this.firstX+" z",this.setDom("d",this.currentLine)}return this.maxY=this.serie.getY(p),this.setHandles(),this.changed(),!0}}},{key:"setHandles",value:function(){if(this.firstX){var t=this.computePosition(0),e=this.computePosition(1);t.x<e.x?(this.handles[1].setAttribute("x1",this.firstX),this.handles[1].setAttribute("x2",this.firstX),this.handles[2].setAttribute("x1",this.lastX),this.handles[2].setAttribute("x2",this.lastX)):(this.handles[1].setAttribute("x1",this.lastX),this.handles[1].setAttribute("x2",this.lastX),this.handles[2].setAttribute("x1",this.firstX),this.handles[2].setAttribute("x2",this.firstX)),this.handles[1].setAttribute("y1",this.getYAxis().getMaxPx()),this.handles[1].setAttribute("y2",this.serie.getY(0)),this.handles[2].setAttribute("y1",this.getYAxis().getMaxPx()),this.handles[2].setAttribute("y2",this.serie.getY(0))}}}]),e}();e.default=o,t.exports=e.default},n=[t,e,i(28)],void 0===(s="function"==typeof(r=o)?r.apply(e,n):r)||(t.exports=s)},function(t,e,i){var r,n,s,o;o=function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r,n=(r=i)&&r.__esModule?r:{default:r};var s=function(){function r(t,e){for(var i=0;i<e.length;i++){var r=e[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(t,e,i){return e&&r(t.prototype,e),i&&r(t,i),t}}();var o=function(t){function e(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,n.default),s(e,[{key:"createDom",value:function(){this._dom=document.createElementNS(this.graph.ns,"line"),this._dom.setAttribute("marker-end","url(#arrow"+this.graph._creation+")"),this.createHandles(this.nbHandles,"rect",{transform:"translate(-3 -3)",width:6,height:6,stroke:"black",fill:"white",cursor:"nwse-resize"}),this.setStrokeColor("black"),this.setStrokeWidth(1)}}]),e}();e.default=o,t.exports=e.default},n=[t,e,i(102)],void 0===(s="function"==typeof(r=o)?r.apply(e,n):r)||(t.exports=s)},function(t,e,i){var r,n,s,o;o=function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r,n=(r=i)&&r.__esModule?r:{default:r};var s=function(){function r(t,e){for(var i=0;i<e.length;i++){var r=e[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(t,e,i){return e&&r(t.prototype,e),i&&r(t,i),t}}();var o=function(t){function i(t,e){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(i.__proto__||Object.getPrototypeOf(i)).call(this,t,e))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(i,n.default),s(i,[{key:"createDom",value:function(){return!1}},{key:"applyPosition",value:function(){return!0}}]),i}();e.default=o,t.exports=e.default},n=[t,e,i(28)],void 0===(s="function"==typeof(r=o)?r.apply(e,n):r)||(t.exports=s)},function(t,e,i){var r,n,s,o;o=function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r,n=(r=i)&&r.__esModule?r:{default:r};var s=function(){function r(t,e){for(var i=0;i<e.length;i++){var r=e[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(t,e,i){return e&&r(t.prototype,e),i&&r(t,i),t}}();var o=function(t){function i(t,e){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(i.__proto__||Object.getPrototypeOf(i)).call(this,t,e))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(i,n.default),s(i,[{key:"createDom",value:function(){this._dom=document.createElementNS(this.graph.ns,"path"),this.getStrokeColor()||this.setStrokeColor("black"),null==this.getStrokeWidth()&&this.setStrokeWidth(1)}},{key:"createHandles",value:function(){}},{key:"setPointsPx",value:function(t){return this.setProp("pxPoints",t),this}},{key:"applyPosition",value:function(){var t=void 0,e=this.computePosition(0);if(t=this.getProp("pxPoints"))t=" M "+e.x+" "+e.y+" "+t,this.setDom("d",t);else if(this.points){var i,r;this.serie?(i=this.serie.getXAxis(),r=this.serie.getYAxis()):this.xAxis&&this.yAxis&&(i=this.xAxis,r=this.yAxis),this.setDom("d","M "+this.points.map(function(t){return i.getPx(t[0])+", "+r.getPx(t[1])}).join(" L "))}return this.changed(),!0}}]),i}();e.default=o,t.exports=e.default},n=[t,e,i(28)],void 0===(s="function"==typeof(r=o)?r.apply(e,n):r)||(t.exports=s)},function(t,e,i){var r,n,s,o;o=function(t,e,i,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});s(i);var n=s(r);function s(t){return t&&t.__esModule?t:{default:t}}var o=function(){function r(t,e){for(var i=0;i<e.length;i++){var r=e[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(t,e,i){return e&&r(t.prototype,e),i&&r(t,i),t}}();var a=function(t){function r(t,e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r);var i=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(r.__proto__||Object.getPrototypeOf(r)).call(this,t,e));return i.nbHandles=2,i}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(r,n.default),o(r,[{key:"createDom",value:function(){this._dom=document.createElementNS(this.graph.ns,"path"),this._domShadow=document.createElementNS(this.graph.ns,"path"),(this._domShadow.jsGraphIsShape=this)._dom.setAttribute("pointer-events","stroke"),this._domShadow.setAttribute("pointer-events","stroke"),this._domShadow.setAttribute("stroke-width","12"),this._domShadow.setAttribute("fill","transparent"),this._domShadow.setAttribute("stroke","transparent"),this.group.appendChild(this._domShadow)}},{key:"initImpl",value:function(){this.setFillColor("transparent"),this.setStrokeColor("black")}},{key:"createHandles",value:function(){this._createHandles(2,"rect",{transform:"translate(-3 -3)",width:6,height:6,stroke:"black",fill:"white"}),this.handles[1].setAttribute("fill","red")}},{key:"xor",value:function(t,e){return t&&!e||!t&&e}},{key:"applyPosition",value:function(){var t=void 0,e=void 0,i=void 0,r=void 0,n=this.getAxis(),s=[],o="",a=this.getProp("baseLine",0)||300,u=void 0;if(!this.serie)throw"No serie exists for this shape";var h=this.getPosition(0),l=this.getPosition(1);if(h.x<this.serie.getXAxis().getCurrentMin()&&l.x<this.serie.getXAxis().getCurrentMin()||h.x>this.serie.getXAxis().getCurrentMax()&&l.x>this.serie.getXAxis().getCurrentMax())return this.setDom("d",""),this._domShadow.setAttribute("d",""),this.hideLabel(0),!1;this.showLabel(0);var c=0,f=void 0,p=this.serie.getWaveform();if(p){var d=p.getIndexFromX(h[n],!0,Math.floor),g=p.getIndexFromX(l[n],!0,Math.ceil),y=void 0,v=!1;d==g&&("aggregate"==p.getReductionType()?g+=4:g++),g<d&&(y=d,d=g,g=y,v=!0);var m=void 0,x=void 0,b=void 0,k=(p.getDataInUse(),void 0),M=void 0;for("aggregate"==p.getReductionType()&&!1,p.getXMonotoneousAscending()||(p.getXMonotoneousAscending(),0)?(f=g,k=!0,M=-1):(f=d,k=!1,M=1);k?d<=f:f<=g;f+=M)i=p.getX(f,!0),r=p.getY(f,!0),t=this.serie.getX(i),e=this.serie.getY(r),c+=p.getY(f,!0),m||(m=t,x=e,p.getX(f),p.getY(f)),null!=b?(b=t,e,s.push([t,e,c]),i):(b=t,e,p.getX(f),p.getY(f));b=!1,0==c&&(c=1),this._sumVal=p.integrate(h.x,l.x),u=this.ratio?this.ratio*(this.sumVal/c):200/c;var S=void 0;if(0!=s.length){for(var A=0,_=s.length;A<_;A++){if(S=a-s[A][2]*u,0<A&&(s[A-1][2]>c/2&&s[A][2]<=c/2||s[A-1][2]<c/2&&s[A][2]>=c/2)){var w=a-(s[A-1][2]+s[A][2])/2*u;this.setPosition({x:s[A][0]+"px",y:w+"px"},3),this.setLabelPosition(this.getPosition(3),0)}o+=" L "+s[A][0]+", "+S+" ",this.lastPointX=s[A][0],this.lastPointY=S}return this.points=s,this._sum=c,o=this.serie.isFlipped()?" M "+a+", "+m+" "+o:" M "+m+", "+a+" "+o,this.firstPointX=m,this.firstPointY=a,this.setDom("d",o),this._domShadow.setAttribute("d",o),this.firstX=m,this.firstY=x,this.serie.ratioLabel&&this.updateIntegralValue(this.serie.ratioLabel)||this.updateLabels(),this.changed(),this.handleCondition=!this.xor(-1==M,v),this.setHandles(),this.updateIntegralValue(),!0}}}},{key:"updateIntegralValue",value:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:this.serie.ratioLabel,e=arguments[1];return console.log(t),t&&(this.serie.ratioLabel=t),isNaN(e)||isNaN(this.sumVal)||!this.sumVal||(this.serie.ratioLabel=e/this.sumVal),this.setLabelText(t?(Math.round(100*this.sumVal*t)/100).toPrecision(3):"N/A",0),this.updateLabels(),this.serie.ratioLabel}},{key:"getAxis",value:function(){return this._data.axis||"x"}},{key:"selectStyle",value:function(){this.setDom("stroke-width","2px")}},{key:"selectHandles",value:function(){}},{key:"setHandles",value:function(){null!=this.points&&this.isSelected()&&(this.addHandles(),this.handleCondition?(this.handles[1].setAttribute("x",this.firstPointX),this.handles[1].setAttribute("y",this.firstPointY),this.handles[2].setAttribute("x",this.lastPointX),this.handles[2].setAttribute("y",this.lastPointY)):(this.handles[2].setAttribute("x",this.firstPointX),this.handles[2].setAttribute("y",this.firstPointY),this.handles[1].setAttribute("x",this.lastPointX),this.handles[1].setAttribute("y",this.lastPointY)))}},{key:"handleMouseMoveImpl",value:function(t,e,i,r,n){if(!this.isLocked()){var s,o=this.getPosition(0),a=this.getPosition(1);return 1==this.handleSelected?s=o:2==this.handleSelected&&(s=a),s&&(this._data.vertical||s.deltaPosition("x",e,this.getXAxis())),this.moving&&(o.x&&o.deltaPosition("x",e,this.getXAxis()),a.x&&a.deltaPosition("x",e,this.getXAxis())),this.rectEvent&&this.setEventReceptacle(),this.redraw(),this.changed(),!0}}},{key:"ratio",set:function(t){this._ratio=t},get:function(){return this._ratio}},{key:"sum",get:function(){return this._sum}},{key:"sumVal",get:function(){return this._sumVal}}]),r}();e.default=a,t.exports=e.default},n=[t,e,i(55),i(28)],void 0===(s="function"==typeof(r=o)?r.apply(e,n):r)||(t.exports=s)},function(t,e,i){var r,n,s,o;o=function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r,n=(r=i)&&r.__esModule?r:{default:r};var s=function(){function r(t,e){for(var i=0;i<e.length;i++){var r=e[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(t,e,i){return e&&r(t.prototype,e),i&&r(t,i),t}}();var o=function(t){function r(t,e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r);var i=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(r.__proto__||Object.getPrototypeOf(r)).call(this,t,e));return i.nbHandles=4,i}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(r,n.default),s(r,[{key:"createDom",value:function(){this._dom=document.createElementNS(this.graph.ns,"rect"),(this._dom.element=this).createHandles(this.nbHandles,"rect",{transform:"translate(-3 -3)",width:6,height:6,stroke:"black",fill:"white",cursor:"nwse-resize"})}},{key:"redrawImpl",value:function(){this.setPosition(),this.setHandles(),this.setBindableToDom(this._dom)}}]),r}();e.default=o,t.exports=e.default},n=[t,e,i(143)],void 0===(s="function"==typeof(r=o)?r.apply(e,n):r)||(t.exports=s)},function(t,e,i){var r,n,s,o;o=function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r,n=(r=i)&&r.__esModule?r:{default:r};var s=function(){function r(t,e){for(var i=0;i<e.length;i++){var r=e[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(t,e,i){return e&&r(t.prototype,e),i&&r(t,i),t}}();var o=function(t){function r(t,e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r);var i=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(r.__proto__||Object.getPrototypeOf(r)).call(this,t,e));return i.nbHandles=1,i}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(r,n.default),s(r,[{key:"createDom",value:function(){this._dom=document.createElementNS(this.graph.ns,"path"),this._dom.setAttribute("d","M -"+this.width/2+" 0 h "+this.width+" m -"+this.width/2+" -"+this.width/2+" v "+this.width)}},{key:"createHandles",value:function(){this._createHandles(this.nbHandles,"rect",{transform:"translate(-3 -3)",width:6,height:6,stroke:"black",fill:"white",cursor:"nwse-resize"})}},{key:"applyPosition",value:function(){var t=this.calculatePosition(0);if(t&&t.x&&t.y)return this.setDom("transform","translate( "+t.x+", "+t.y+")"),this.currentPos1x=t.x,this.currentPos1y=t.y,!0}},{key:"redrawImpl",value:function(){this.setHandles()}},{key:"handleCreateImpl",value:function(){}},{key:"handleMouseDownImpl",value:function(t){return this.moving=!0}},{key:"handleMouseUpImpl",value:function(){return this.triggerChange(),!0}},{key:"handleMouseMoveImpl",value:function(t,e,i,r,n){if(!this.isLocked()){var s=this.getFromData("pos");return this.moving&&(s.x=this.graph.deltaPosition(s.x,e,this.getXAxis()),s.y=this.graph.deltaPosition(s.y,i,this.getYAxis())),this.redrawImpl(),!0}}},{key:"setHandles",value:function(){this.areHandlesInDom()&&(isNaN(this.currentPos1x)||(this.handles[1].setAttribute("x",this.currentPos1x),this.handles[1].setAttribute("y",this.currentPos1y)))}},{key:"selectStyle",value:function(){this.setDom("stroke","red"),this.setDom("stroke-width","2")}},{key:"width",get:function(){return this.options.width||10},set:function(t){this.options.width=t}}]),r}();e.default=o,t.exports=e.default},n=[t,e,i(28)],void 0===(s="function"==typeof(r=o)?r.apply(e,n):r)||(t.exports=s)},function(t,e,i){var r,n,s,o;o=function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r,n=(r=i)&&r.__esModule?r:{default:r};var s=function(){function r(t,e){for(var i=0;i<e.length;i++){var r=e[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(t,e,i){return e&&r(t.prototype,e),i&&r(t,i),t}}();var o=function(t){function i(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i);var e=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(i.__proto__||Object.getPrototypeOf(i)).call(this,t));return e.lineHeight=6,e}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(i,n.default),s(i,[{key:"createDom",value:function(){this._dom=document.createElementNS(this.graph.ns,"line"),this.line1=document.createElementNS(this.graph.ns,"line"),this.line2=document.createElementNS(this.graph.ns,"line"),this.line3=document.createElementNS(this.graph.ns,"line"),this.rectBoundary=document.createElementNS(this.graph.ns,"path"),this.rectBoundary.setAttribute("fill","transparent"),this.rectBoundary.setAttribute("stroke","none"),this.rectBoundary.setAttribute("pointer-events","fill"),this.rectBoundary.jsGraphIsShape=!0,this.group.appendChild(this.rectBoundary),this.group.appendChild(this.line1),this.group.appendChild(this.line2),this.group.appendChild(this.line3),this._dom.element=this}},{key:"createHandles",value:function(){this._createHandles(3,"rect",{transform:"translate(-3 -3)",width:6,height:6,stroke:"black",fill:"white",cursor:"nwse-resize"})}},{key:"redrawImpl",value:function(){this.line1.setAttribute("stroke",this.getStrokeColor()),this.line2.setAttribute("stroke",this.getStrokeColor()),this.line3.setAttribute("stroke",this.getStrokeColor()),this.line1.setAttribute("stroke-width",this.getStrokeWidth()),this.line2.setAttribute("stroke-width",this.getStrokeWidth()),this.line3.setAttribute("stroke-width",this.getStrokeWidth()),this.setHandles(),this.redrawLines()}},{key:"redrawLines",value:function(){var t=this.computePosition(0),e=this.computePosition(1),i=this.computePosition(2);if(t.x&&e.x&&i.x&&this.posYPx){var r=this.lineHeight;this.rectBoundary.setAttribute("d","M "+t.x+" "+(this.posYPx-r)+" v "+2*r+" H "+e.x+" v "+-2*r+"z"),this.line1.setAttribute("x1",t.x),this.line1.setAttribute("x2",t.x),this.line2.setAttribute("x1",e.x),this.line2.setAttribute("x2",e.x),this.line3.setAttribute("x1",i.x),this.line3.setAttribute("x2",i.x),this._dom.setAttribute("x1",t.x),this._dom.setAttribute("x2",e.x),this.redrawY(r)}return this}},{key:"redrawY",value:function(){if(!this.posYPx)return this;var t=this.lineHeight;return this.line1.setAttribute("y1",this.posYPx-t),this.line1.setAttribute("y2",this.posYPx+t),this.line2.setAttribute("y1",this.posYPx-t),this.line2.setAttribute("y2",this.posYPx+t),this.line3.setAttribute("y1",this.posYPx-t),this.line3.setAttribute("y2",this.posYPx+t),this._dom.setAttribute("y1",this.posYPx),this._dom.setAttribute("y2",this.posYPx),this}},{key:"setHandles",value:function(){if(this.posYPx){var t=this.computePosition(0),e=this.computePosition(1),i=this.computePosition(2);t.x&&e.x&&i.x&&(this.handles[1].setAttribute("x",t.x),this.handles[1].setAttribute("y",this.posYPx),this.handles[2].setAttribute("x",e.x),this.handles[2].setAttribute("y",this.posYPx),this.handles[3].setAttribute("x",i.x),this.handles[3].setAttribute("y",this.posYPx))}}},{key:"setY",value:function(t){return this.posYPx=t,this}},{key:"setLineHeight",value:function(t){this.lineHeihgt=t}},{key:"handleMouseMoveImpl",value:function(t,e,i){if(!this.isLocked()){var r=this.getPosition(0),n=this.getPosition(1),s=this.getPosition(2);switch(this.handleSelected){case 1:r.deltaPosition("x",e,this.getXAxis()),(Math.abs(s.x-n.x)>Math.abs(n.x-r.x)||Math.abs(s.x-r.x)>Math.abs(n.x-r.x))&&(s.x=r.x+.1*(n.x-r.x));break;case 2:n.deltaPosition("x",e,this.getXAxis()),(Math.abs(s.x-n.x)>Math.abs(n.x-r.x)||Math.abs(s.x-r.x)>Math.abs(n.x-r.x))&&(s.x=n.x+.1*(r.x-n.x));break;case 3:if(s.deltaPosition("x",e,this.getXAxis()),Math.abs(s.x-n.x)>Math.abs(n.x-r.x)||Math.abs(s.x-r.x)>Math.abs(n.x-r.x))return}this.setLabelPosition({y:this.getLabelPosition(0).y,x:s.x}),this.updateLabels(),this.redrawLines(),this.setHandles()}}},{key:"applyPosition",value:function(){return this.redrawLines(),!0}}]),i}();e.default=o,t.exports=e.default},n=[t,e,i(102)],void 0===(s="function"==typeof(r=o)?r.apply(e,n):r)||(t.exports=s)},function(t,e,i){var r,n,s,o;o=function(t,e,r,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,s=(n=i)&&n.__esModule?n:{default:n};var o=function(){function r(t,e){for(var i=0;i<e.length;i++){var r=e[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(t,e,i){return e&&r(t.prototype,e),i&&r(t,i),t}}();var a=function(t){function i(t,e){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(i.__proto__||Object.getPrototypeOf(i)).call(this,t,e))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(i,s.default),o(i,[{key:"createDom",value:function(){this._dom=document.createElement("div"),this._dom.setAttribute("style","position: absolute");var t=document.createElement("div");this._dom.appendChild(t),this.div=t}},{key:"createHandles",value:function(){}},{key:"setHeight",value:function(t){this.setProp("height",t)}},{key:"setWidth",value:function(t){this.setProp("width",t)}},{key:"setContent",value:function(t){this.setProp("content",t)}},{key:"setRenderer",value:function(t){this._renderer=t}},{key:"redraw",value:function(){this._renderer?this._renderer(this.div):this.div.innerHTML=this.getProp("content"),function t(e,i,r){null===e&&(e=Function.prototype);var n=Object.getOwnPropertyDescriptor(e,i);if(void 0===n){var s=Object.getPrototypeOf(e);return null===s?void 0:t(s,i,r)}if("value"in n)return n.value;var o=n.get;return void 0!==o?o.call(r):void 0}(i.prototype.__proto__||Object.getPrototypeOf(i.prototype),"redraw",this).apply(this,arguments)}},{key:"applyPosition",value:function(){var t=this.calculatePosition(0);if(t&&(0,r.isNumeric)(t.x)&&(0,r.isNumeric)(t.y))return this._dom.style.left=t.x+"px",this._dom.style.top=t.y+"px",this.currentPosX=t.x,this.currentPosY=t.y,!0}},{key:"handleMouseMoveImpl",value:function(t,e,i,r,n){return!0}},{key:"setHandles",value:function(){}},{key:"isHTML",value:function(){return!0}}]),i}();e.default=a,t.exports=e.default},n=[t,e,i(5),i(28)],void 0===(s="function"==typeof(r=o)?r.apply(e,n):r)||(t.exports=s)},function(t,e,i){var r,n,s,o;o=function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r,n=(r=i)&&r.__esModule?r:{default:r};var s=function(){function r(t,e){for(var i=0;i<e.length;i++){var r=e[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(t,e,i){return e&&r(t.prototype,e),i&&r(t,i),t}}();var o=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,n.default),s(e,[{key:"init",value:function(t){this.graph=t,this.time=null,this.totaltime=2e3}},{key:"onMouseDown",value:function(t,e,i,r,n){return this._draggingX=e,this._draggingY=i,this._lastDraggingX=this._draggingX,this._lastDraggingY=this._draggingY,this.stopAnimation=!0,!(this.moved=!1)}},{key:"onMouseMove",value:function(t,e,i,r,n){var s=e-this._draggingX,o=i-this._draggingY;this.options.dragX&&t._applyToAxes(function(t){t.setCurrentMin(t.getVal(t.getMinPx()-s)),t.setCurrentMax(t.getVal(t.getMaxPx()-s))},!1,!0,!1),this.options.dragY&&t._applyToAxes(function(t){t.setCurrentMin(t.getVal(t.getMinPx()-o)),t.setCurrentMax(t.getVal(t.getMaxPx()-o))},!1,!1,!0),this._lastDraggingX=this._draggingX,this._lastDraggingY=this._draggingY,this._draggingX=e,this._draggingY=i,this.moved=!0,this.time=Date.now(),this.emit("dragging"),t.draw(!0)}},{key:"onMouseUp",value:function(t,e,i,r,n){var s=Date.now()-this.time;e!=this._lastDraggingX&&i!=this._lastDraggingY?(this.speedX=(e-this._lastDraggingX)/s,this.speedY=(i-this._lastDraggingY)/s,isNaN(this.speedX)||isNaN(this.speedY)?this.emit("dragged"):(t._applyToAxes(function(t){t._pluginDragMin=t.getCurrentMin(),t._pluginDragMax=t.getCurrentMax()},!1,!0,!0),this.stopAnimation=!1,this.accelerationX=-this.speedX/this.totaltime,this.accelerationY=-this.speedY/this.totaltime,this.options.persistanceX||this.options.persistanceY?this._persistanceMove(t):this.emit("dragged"))):this.moved&&this.emit("dragged")}},{key:"_persistanceMove",value:function(r){var n=this;n.stopAnimation?n.emit("dragged"):window.requestAnimationFrame(function(){var t=Date.now()-n.time,e=(.5*n.accelerationX*t+n.speedX)*t,i=(.5*n.accelerationY*t+n.speedY)*t;n.options.persistanceX&&r._applyToAxes(function(t){t.setCurrentMin(-t.getRelVal(e)+t._pluginDragMin),t.setCurrentMax(-t.getRelVal(e)+t._pluginDragMax),t.cacheCurrentMin(),t.cacheCurrentMax(),t.cacheInterval()},!1,!0,!1),n.options.persistanceY&&r._applyToAxes(function(t){t.setCurrentMin(-t.getRelVal(i)+t._pluginDragMin),t.setCurrentMax(-t.getRelVal(i)+t._pluginDragMax),t.cacheCurrentMin(),t.cacheCurrentMax(),t.cacheInterval()},!1,!1,!0),r.draw(),t<n.totaltime?(n.emit("dragging"),n._persistanceMove(r)):n.emit("dragged")})}}],[{key:"default",value:function(){return{dragX:!0,dragY:!0,persistanceX:!1,persistanceY:!1}}}]),e}();e.default=o,t.exports=e.default},n=[t,e,i(29)],void 0===(s="function"==typeof(r=o)?r.apply(e,n):r)||(t.exports=s)},function(t,e,i){var r,n,s,o;o=function(t,e,i,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,f=function(t){{if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e.default=t,e}}(i),s=(n=r)&&n.__esModule?n:{default:n};var o=function(){function r(t,e){for(var i=0;i<e.length;i++){var r=e[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(t,e,i){return e&&r(t.prototype,e),i&&r(t,i),t}}();var a=function(t){function i(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(i.__proto__||Object.getPrototypeOf(i)).apply(this,arguments))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(i,s.default),o(i,[{key:"init",value:function(t,e){(function t(e,i,r){null===e&&(e=Function.prototype);var n=Object.getOwnPropertyDescriptor(e,i);if(void 0===n){var s=Object.getPrototypeOf(e);return null===s?void 0:t(s,i,r)}if("value"in n)return n.value;var o=n.get;return void 0!==o?o.call(r):void 0})(i.prototype.__proto__||Object.getPrototypeOf(i.prototype),"init",this).call(this,t,e),this.shapeType=e.type}},{key:"setShape",value:function(t){this.shapeInfo.shapeType=t}},{key:"onMouseDown",value:function(e,t,i,r,n){var s=this;if(this.shapeType||this.options.url){var o,a,u=this;this.count=this.count||0,t-=e.getPaddingLeft(),i-=e.getPaddingTop();var h={position:[{x:o=e.getXAxis().getVal(t),y:a=e.getYAxis().getVal(i)},{x:o,y:a}],onChange:function(t){e.triggerEvent("onAnnotationChange",t)},locked:!1,selectable:!0,resizable:!0,movable:!0},l=this.options.properties;if(f.extend(!0,h,this.options),this.emit("beforeNewShape",r,h),!this.graph.prevent(!1)){var c=e.newShape(h.type,h,!1,l);this.emit("createdShape",r,c),c&&(u.currentShape=c,u.currentShapeEvent=r),e.once("mouseUp",function(){console.log(s.currentShape),s.currentShape||u.emit("newShape",r,c)})}}}},{key:"onMouseMove",value:function(t,e,i,r){if(this.currentShape){console.log("mv"),this.count++;var n=this.currentShape;this.currentShape=!1,t.selectedSerie&&!n.serie&&n.setSerie(t.selectedSerie),n.resizing=!0,n.options&&n.options.onCreate&&n.options.onCreate.call(n),n.draw(),t.selectShape(n),n.handleMouseDown(this.currentShapeEvent,!0),n.handleSelected=this.options.handleSelected||1,n.handleMouseMove(r,!0)}}},{key:"onMouseUp",value:function(){this.currentShape&&(this.currentShape.kill(),this.currentShape=!1)}}],[{key:"default",value:function(){return{}}}]),i}();e.default=a,t.exports=e.default},n=[t,e,i(5),i(29)],void 0===(s="function"==typeof(r=o)?r.apply(e,n):r)||(t.exports=s)},function(t,e,i){var r,n,s,o;o=function(t,e,i,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,s=function(t){{if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e.default=t,e}}(i),o=(n=r)&&n.__esModule?n:{default:n};var a=function(){function r(t,e){for(var i=0;i<e.length;i++){var r=e[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(t,e,i){return e&&r(t.prototype,e),i&&r(t,i),t}}();var u=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,o.default),a(e,[{key:"init",value:function(t,e){this._path=document.createElementNS(t.ns,"path"),s.setAttributeTo(this._path,{display:"none",fill:"rgba(0,0,0,0.1)",stroke:"rgba(0,0,0,1)","shape-rendering":"crispEdges",x:0,y:0,height:0,width:0,d:""}),(this.graph=t).dom.appendChild(this._path)}},{key:"setSerie",value:function(t){this.serie=t}},{key:"onMouseDown",value:function(t,e,i,r,n){this.serie&&(this.path="M "+e+" "+i+" ",this.currentX=e,this.currentY=i,this.xs=[this.serie.getXAxis().getVal(e-t.getPaddingLeft())],this.ys=[this.serie.getYAxis().getVal(i-t.getPaddingTop())],this._path.setAttribute("d",""),this._path.setAttribute("display","block"))}},{key:"onMouseMove",value:function(t,e,i,r,n){25<Math.pow(e-this.currentX,2)+Math.pow(i-this.currentY,2)&&(this.path+=" L "+e+" "+i+" ",this.currentX=e,this.currentY=i,this.xs.push(this.serie.getXAxis().getVal(e-t.getPaddingLeft())),this.ys.push(this.serie.getYAxis().getVal(i-t.getPaddingTop())),this._path.setAttribute("d",this.path+" z"),this.findPoints())}},{key:"findPoints",value:function(){for(var t,e=this.serie.waveform,i=[],r=0,n=0,s=e.getLength();n<s;n+=1){for(var o=r=0,a=this.xs.length;o<a;o+=1)t=o==a-1?0:o+1,(this.ys[o]<e.getY(n)&&this.ys[t]>e.getY(n)||this.ys[o]>e.getY(n)&&this.ys[t]<e.getY(n))&&e.getX(n)>(e.getY(n)-this.ys[o])/(this.ys[t]-this.ys[o])*(this.xs[t]-this.xs[o])+this.xs[o]&&r++;r%2==1?(i.push(n),this.serie.selectPoint(n,!0,"selected")):this.serie.unselectPoint(n)}this.selected=i,this.emit("selectionProcess",i)}},{key:"onMouseUp",value:function(t,e,i,r){this._path.setAttribute("display","none"),this.emit("selectionEnd",this.selected)}}],[{key:"default",value:function(){return{}}}]),e}();e.default=u,t.exports=e.default},n=[t,e,i(5),i(29)],void 0===(s="function"==typeof(r=o)?r.apply(e,n):r)||(t.exports=s)},function(t,e,i){var r,n,s,o;o=function(t,e,i,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,s=function(t){{if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e.default=t,e}}(i),o=(n=r)&&n.__esModule?n:{default:n};var a=function(){function r(t,e){for(var i=0;i<e.length;i++){var r=e[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(t,e,i){return e&&r(t.prototype,e),i&&r(t,i),t}}();var u=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,o.default),a(e,[{key:"init",value:function(t,e){this._zoomingGroup=document.createElementNS(t.ns,"g"),this._zoomingSquare=document.createElementNS(t.ns,"rect"),this._zoomingSquare.setAttribute("display","none"),s.setAttributeTo(this._zoomingSquare,{display:"none",fill:"rgba(171,12,12,0.2)",stroke:"rgba(171,12,12,1)","shape-rendering":"crispEdges",x:0,y:0,height:0,width:0,"pointer-events":"none"}),(this.graph=t).groupEvent.appendChild(this._zoomingGroup),this._zoomingGroup.appendChild(this._zoomingSquare)}},{key:"onMouseDown",value:function(t,e,i,r,n){var s=this.options.zoomMode;if(s){switch(this._zoomingMode=s,void 0===e&&(this._backedUpZoomMode=this._zoomingMode,this._zoomingMode="y",e=0),void 0===i&&(this._backedUpZoomMode=this._zoomingMode,this._zoomingMode="x",i=0),this._zoomingXStart=e,this._zoomingYStart=i,this.x1=e-t.getPaddingLeft(),this.y1=i-t.getPaddingTop(),this._zoomingSquare.setAttribute("width",0),this._zoomingSquare.setAttribute("height",0),this._zoomingSquare.setAttribute("display","block"),this._zoomingMode){case"x":this._zoomingSquare.setAttribute("y",t.options.paddingTop),this._zoomingSquare.setAttribute("height",t.getDrawingHeight()-t.shift.bottom);break;case"y":this._zoomingSquare.setAttribute("x",t.options.paddingLeft),this._zoomingSquare.setAttribute("width",t.getDrawingWidth());break;case"forceY2":this.y2=t.getYAxis().getPx(this.options.forcedY)+t.options.paddingTop}this.options.onZoomStart&&!n&&this.options.onZoomStart(t,e,i,r,n)}}},{key:"onMouseMove",value:function(t,e,i,r,n){switch(this._zoomingMode){case"xy":this._zoomingSquare.setAttribute("x",Math.min(this._zoomingXStart,e)),this._zoomingSquare.setAttribute("y",Math.min(this._zoomingYStart,i)),this._zoomingSquare.setAttribute("width",Math.abs(this._zoomingXStart-e)),this._zoomingSquare.setAttribute("height",Math.abs(this._zoomingYStart-i));break;case"forceY2":this._zoomingSquare.setAttribute("y",Math.min(this._zoomingYStart,this.y2)),this._zoomingSquare.setAttribute("height",Math.abs(this._zoomingYStart-this.y2)),this._zoomingSquare.setAttribute("x",Math.min(this._zoomingXStart,e)),this._zoomingSquare.setAttribute("width",Math.abs(this._zoomingXStart-e));break;case"x":this._zoomingSquare.setAttribute("x",Math.min(this._zoomingXStart,e)),this._zoomingSquare.setAttribute("width",Math.abs(this._zoomingXStart-e));break;case"y":this._zoomingSquare.setAttribute("y",Math.min(this._zoomingYStart,i)),this._zoomingSquare.setAttribute("height",Math.abs(this._zoomingYStart-i))}this.options.onZoomMove&&!n&&this.options.onZoomMove(t,e,i,r,n)}},{key:"onMouseUp",value:function(t,e,i,r,n){var s=this;this.removeZone();var o=e-t.options.paddingLeft,a=i-t.options.paddingTop;if(this.emit("beforeZoom",{graph:t,x:e,y:i,e:r,mute:n}),!t.prevent(!1)&&!(e-this._zoomingXStart==0&&"y"!=this._zoomingMode||i-this._zoomingYStart==0&&"x"!=this._zoomingMode))if(this.options.transition||this.options.smooth){var u=!1,h=!1;"x"!=this._zoomingMode&&"xy"!=this._zoomingMode&&"forceY2"!=this._zoomingMode||(this.fullX=!1,this.toAxes(function(t){t._pluginZoomMin=t.getCurrentMin(),t._pluginZoomMax=t.getCurrentMax(),t._pluginZoomMinFinal=Math.min(t.getVal(o),t.getVal(s.x1)),t._pluginZoomMaxFinal=Math.max(t.getVal(o),t.getVal(s.x1))},!1,!0,!1),u=!0),"y"!=this._zoomingMode&&"xy"!=this._zoomingMode||(this.fullY=!1,this.toAxes(function(t){t._pluginZoomMin=t.getCurrentMin(),t._pluginZoomMax=t.getCurrentMax(),t._pluginZoomMinFinal=Math.min(t.getVal(a),t.getVal(s.y1)),t._pluginZoomMaxFinal=Math.max(t.getVal(a),t.getVal(s.y1))},!1,!1,!0),h=!0),"forceY2"==this._zoomingMode&&(this.fullY=!1,this.toAxes(function(t){t._pluginZoomMin=t.getCurrentMin(),t._pluginZoomMax=t.getCurrentMax(),t._pluginZoomMinFinal=Math.min(t.getVal(s.y2),t.getVal(s.y1)),t._pluginZoomMaxFinal=Math.max(t.getVal(s.y2),t.getVal(s.y1))},!1,!1,!0),h=!0),this.transition(u,h,"zoomEnd")}else{switch(this._zoomingMode){case"x":this.fullX=!1,this.toAxes("_doZoom",[o,this.x1],!0,!1);break;case"y":this.fullY=!1,this.toAxes("_doZoom",[a,this.y1],!1,!0);break;case"xy":this.fullX=!1,this.fullY=!1,this.toAxes("_doZoom",[o,this.x1],!0,!1),this.toAxes("_doZoom",[a,this.y1],!1,!0);break;case"forceY2":this.fullX=!1,this.fullY=!1,this.toAxes("_doZoom",[o,this.x1],!0,!1),this.toAxes("_doZoom",[this.y1,this.y2],!1,!0)}t.draw(),this._backedUpZoomMode&&(this._zoomingMode=this._backedUpZoomMode),this.emit("zoomed"),t.pluginYieldActiveState()}}},{key:"removeZone",value:function(){this._zoomingSquare.setAttribute("display","none")}},{key:"onMouseWheel",value:function(t,e,i,r,n){n||(n={}),n.baseline||(n.baseline=0);var s=n.baseline;"mousePosition"==n.baseline&&(s=this.graph.getYAxis().getVal(r),console.log(s));var o="x"==n.direction,a=!("y"!==n.direction);this.toAxes("handleMouseWheel",[t,e,s],o,a),this.graph.drawSeries()}},{key:"onDblClick",value:function(t,e,i,r,n){var s=this.graph;if(this.emit("beforeDblClick",{graph:s,x:t,y:e,pref:r,e:i,mute:n}),!s.prevent(!1)){if(this.options.transition||this.options.smooth){var o=!1,a=!1;"xtotal"!=r.mode&&"total"!=r.mode||(this.toAxes(function(t){t._pluginZoomMin=t.getCurrentMin(),t._pluginZoomMax=t.getCurrentMax(),t._pluginZoomMinFinal=t.getMinValue()-t.options.axisDataSpacing.min*t.getInterval(),t._pluginZoomMaxFinal=t.getMaxValue()+t.options.axisDataSpacing.max*t.getInterval()},!1,!0,!1),o=!0),"ytotal"!=r.mode&&"total"!=r.mode||(this.toAxes(function(t){t._pluginZoomMin=t.getCurrentMin(),t._pluginZoomMax=t.getCurrentMax(),t._pluginZoomMinFinal=t.getMinValue()-t.options.axisDataSpacing.min*t.getInterval(),t._pluginZoomMaxFinal=t.getMaxValue()+t.options.axisDataSpacing.max*t.getInterval()},!1,!1,!0),a=!0);var u=void 0,h=void 0;return"gradualX"!=r.mode&&"gradualY"!=r.mode&&"gradual"!=r.mode&&"gradualXY"!=r.mode||(h=u=!1,"gradualX"!=r.mode&&"gradual"!=r.mode&&"gradualXY"!=r.mode||(o=u=!0),"gradualY"!=r.mode&&"gradual"!=r.mode&&"gradualXY"!=r.mode||(a=h=!0),this.toAxes(function(t){t._pluginZoomMin=t.getCurrentMin(),t._pluginZoomMax=t.getCurrentMax(),t._pluginZoomMinFinal=t.getCurrentMin()-(t.getCurrentMax()-t.getCurrentMin()),t._pluginZoomMaxFinal=t.getCurrentMax()+(t.getCurrentMax()-t.getCurrentMin())},!1,u,h)),void this.transition(o,a,"dblClick")}var l=this.graph.getXAxis(),c=this.graph.getYAxis();if("xtotal"==r.mode)this.toAxes("setMinMaxToFitSeries",null,!0,!1),this.fullX=!0,this.fullY=!1;else if("ytotal"==r.mode)this.toAxes("setMinMaxToFitSeries",null,!1,!0),this.fullX=!1,this.fullY=!0;else if("total"==r.mode)this.toAxes("setMinMaxToFitSeries",null,!0,!0),this.fullX=!0,this.fullY=!0;else{t-=this.graph.options.paddingLeft,e-=this.graph.options.paddingTop;var f=l.getCurrentMin(),p=l.getCurrentMax(),d=l.getVal(t),g=p-f,y=c.getCurrentMin(),v=c.getCurrentMax(),m=c.getVal(e),x=v-y;if("gradualXY"==r.mode||"gradualX"==r.mode){var b=(d-f)/(p-f);f=Math.max(l.getMinValue()-l.getInterval()*l.options.axisDataSpacing.min,f-g*b),p=Math.min(l.getMaxValue()+l.getInterval()*l.options.axisDataSpacing.max,p+g*(1-b)),l.setCurrentMin(f),l.setCurrentMax(p),l.options.onZoom&&l.options.onZoom(f,p),l.cacheCurrentMin(),l.cacheCurrentMax(),l.cacheInterval()}if("gradualXY"==r.mode||"gradualY"==r.mode){b=(m-y)/(v-y);y=Math.max(c.getMinValue()-c.getInterval()*c.options.axisDataSpacing.min,y-x*b),v=Math.min(c.getMaxValue()+c.getInterval()*c.options.axisDataSpacing.max,v+x*(1-b)),c.setCurrentMin(y),c.setCurrentMax(v),c.options.onZoom&&c.options.onZoom(y,v),c.cacheCurrentMin(),c.cacheCurrentMax(),c.cacheInterval()}}s.pluginYieldActiveState(),this.graph.draw()}}},{key:"transition",value:function(i,r,n){var s=this;s.gradualUnzoomStart||(s.gradualUnzoomStart=Date.now()),window.requestAnimationFrame(function(){var t=Date.now()-s.gradualUnzoomStart;500<t&&(t=500);var e=Math.sin(t/500*Math.PI/2);s.toAxes(function(t){t.setCurrentMin(t._pluginZoomMin+(t._pluginZoomMinFinal-t._pluginZoomMin)*e),t.setCurrentMax(t._pluginZoomMax+(t._pluginZoomMaxFinal-t._pluginZoomMax)*e),t.cacheCurrentMin(),t.cacheCurrentMax(),t.cacheInterval()},!1,i,r),s.graph.draw(),t<500?(s.transition(i,r,n),s.emit("zooming")):(s.emit("zoomed"),s.graph.pluginYieldActiveState(),n&&s.emit(n),s.gradualUnzoomStart=0)})}},{key:"isFullX",value:function(){return this.fullX}},{key:"isFullY",value:function(){return this.fullY}},{key:"toAxes",value:function(t,e,i,r){var n=this.options.axes;switch(n&&("serieSelected"!=n||this.graph.getSelectedSerie())||(n="all"),n){case"all":this.graph._applyToAxes.apply(this.graph,arguments);break;case"serieSelected":var s=this.graph.getSelectedSerie();s&&(i&&("string"==typeof t?s.getXAxis()[t].apply(s.getXAxis(),e):t.apply(s.getXAxis(),e)),r&&("string"==typeof t?s.getYAxis()[t].apply(s.getYAxis(),e):t.apply(s.getYAxis(),e)));break;default:Array.isArray(n)||(n=[n]);var o=!0,a=!1,u=void 0;try{for(var h,l=n[Symbol.iterator]();!(o=(h=l.next()).done);o=!0){var c=h.value;c.isX()&&i?"string"==typeof t?c[t].apply(c,e):t.apply(c,e):c.isY()&&r&&("string"==typeof t?c[t].apply(c,e):t.apply(c,e))}}catch(t){a=!0,u=t}finally{try{!o&&l.return&&l.return()}finally{if(a)throw u}}}}}],[{key:"default",value:function(){return{axes:"all"}}}]),e}();e.default=u,t.exports=e.default},n=[t,e,i(5),i(29)],void 0===(s="function"==typeof(r=o)?r.apply(e,n):r)||(t.exports=s)},function(t,e,i){var r,n,s,o;o=function(t,e,i,r,n,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=h(i),d=h(r),a=function(t){{if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e.default=t,e}}(n),u=h(s);function h(t){return t&&t.__esModule?t:{default:t}}var l=function(){function r(t,e){for(var i=0;i<e.length;i++){var r=e[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(t,e,i){return e&&r(t.prototype,e),i&&r(t,i),t}}();var c=function(t){function e(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var i=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments));return i.series=[],i.plugins=[],i.currentSlots={},i.requestLevels=new Map,i.update=function(e,t){i.series.forEach(function(t){this.updateSerie(t,e)}),e||i.recalculateSeries(t)},i}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,u.default),l(e,[{key:"init",value:function(t,e){this.graph=t,d.default.create(this.options.LRUName,200),this.requestsRunning=0}},{key:"setURL",value:function(t){return this.options.url=t,this}},{key:"setAvailableIntervals",value:function(){this.options.intervals=arguments}},{key:"newSerie",value:function(t,e,i,r,n){var s=this.graph.newSerie(t,e,i);return this.currentSlots[t]={min:0,max:0,interval:0},s.on("hide",function(){s._zoneSerie&&s._zoneSerie.hide()}),s.on("show",function(){s._zoneSerie&&s._zoneSerie.show()}),s.setInfo("timeSerieManagerDBElements",r),n||(s._zoneSerie=this.graph.newSerie(t+"_zone",{},o.default.SERIE_ZONE)),this.series.push(s),s}},{key:"registerPlugin",value:function(t,e){if(-1<this.plugins.indexOf(t))for(var i=1;i<arguments.length;i++)t.removeListener(arguments[i],this.update);for(i=1;i<arguments.length;i++)t.on(arguments[i],this.update)}},{key:"updateSerie",value:function(n,s){var o,a=this,t=n.getXAxis().getCurrentMin(),e=n.getXAxis().getCurrentMax(),u=this.getOptimalInterval(e-t),i=this.options.intervals.indexOf(u);this.cleanRegister(i);for(var r=i;r<=i+1;r++){o=this.options.intervals[r];var h=a.computeSlotID(t,o),l=a.computeSlotID(e,o);[[2,5,6],[1,2,4],[0,1,3]].forEach(function(t){for(var e=h-t[0]*(l-h),i=l+t[0]*(l-h),r=e;r<=i&&!(a.computeTimeMin(r,o)>Date.now());)a.register(n,r,o,o==u?t[1]:t[2],!0,s),r++})}this.processRequests()}},{key:"cleanRegister",value:function(r){this.requestLevels&&this.requestLevels.forEach(function(i){i.forEach(function(t,e){t[4]<r&&i.splice(e,1)})})}},{key:"register",value:function(t,e,i,r,n,s){var o=this.computeUniqueID(t,e,i),a=d.default.get(this.options.LRUName,o);(!a||this.computeTimeMax(e,i)>Date.now()&&a.timeout<Date.now()-(s?5e3:1e5)&&1==r)&&this.request(t,e,i,r,o,n)}},{key:"request",value:function(t,e,i,r,n,s){for(var o in this.requestLevels)o!=r&&this.requestLevels[o][n]&&(1!==this.requestLevels[o][n][0]?delete this.requestLevels[o][n]:this.requestLevels[o][n][5]=r);this.requestLevels[r]&&this.requestLevels[r][n]||(this.requestLevels[r]=this.requestLevels[r]||{},this.requestLevels[r][n]=[0,n,t.getName(),e,i,r,t.getInfo("timeSerieManagerDBElements")],s||this.processRequests())}},{key:"processRequests",value:function(){if(!(this.requestsRunning>=this.options.maxParallelRequests)){for(var e,i=this,r=1;;){for(var n in this.requestLevels[r])if(1!=this.requestLevels[r][n][0]){e=this.requestLevels[r][n];break}if(e)break;if(10<++r)return}this.requestsRunning++,e&&(e[0]=1,a.ajaxGet({url:this.getURL(e),method:"GET",json:!0}).done(function(t){1==t.status&&(i.requestsRunning--,delete i.requestLevels[r][n],d.default.store(i.options.LRUName,e[1],t.data),i.processRequests(),1==e[5]&&0==Object.keys(i.requestLevels[1]).length&&i.recalculateSeries(!0))}))}}},{key:"computeTimeMax",value:function(t,e){return(t+1)*(e*this.options.nbPoints)}},{key:"computeTimeMin",value:function(t,e){return t*(e*this.options.nbPoints)}},{key:"getURL",value:function(t){var e=this.options.url.replace("<measurementid>",t[2]).replace("<from>",this.computeTimeMin(t[3],t[4])).replace("<to>",this.computeTimeMax(t[3],t[4])).replace("<interval>",t[4]),i=t[6]||{};for(var r in i)e=e.replace("<"+r+">",i[r]);return e}},{key:"getOptimalInterval",value:function(t){var i,r=(this.options.optimalPxPerPoint||1)*t/this.graph.getDrawingWidth(),n=1/0;return this.options.intervals.forEach(function(t){var e=Math.min(n,Math.abs(t-r));n!==e&&(i=t,n=e)}),i||1e3}},{key:"computeUniqueID",value:function(t,e,i){var r="",n=t.getInfo("timeSerieManagerDBElements");for(var s in n)r+=";"+s+":"+n[s];return t.getName()+";"+e+";"+i+r}},{key:"computeSlotID",value:function(t,e){return Math.floor(t/(e*this.options.nbPoints))}},{key:"computeSlotTime",value:function(t,e){return t*(e*this.options.nbPoints)}},{key:"getZoneSerie",value:function(t){return t._zoneSerie}},{key:"updateZoneSerie",value:function(t){var e=this.graph.getSerie(t);e&&e._zoneSerie&&(e._zoneSerie.setXAxis(e.getXAxis()),e._zoneSerie.setYAxis(e.getYAxis()),e._zoneSerie.setFillColor(e.getLineColor()),e._zoneSerie.setLineColor(e.getLineColor()),e._zoneSerie.setFillOpacity(.2),e._zoneSerie.setLineOpacity(.3))}},{key:"recalculateSeries",value:function(e){var i=this;this.locked||(this.changed=!1,this.series.map(function(t){i.recalculateSerie(t,e)}),this.changed=!1,i.graph.draw())}},{key:"recalculateSerie",value:function(t,e){var i=t.getXAxis().getCurrentMin(),r=t.getXAxis().getCurrentMax(),n=this.getOptimalInterval(r-i),s=this.computeSlotID(i,n),o=this.computeSlotID(r,n),a=[],u=[];if(!(!e&&n==this.currentSlots[t.getName()].interval&&this.currentSlots[t.getName()].min<=s&&this.currentSlots[t.getName()].max>=o)){s-=2,o+=2,this.currentSlots[t.getName()].min=s,this.currentSlots[t.getName()].max=o,this.currentSlots[t.getName()].interval=n;for(var h=s;h<=o;){var l=d.default.get(this.options.LRUName,this.computeUniqueID(t,h,n));l?(a=a.concat(l.data.mean),u=u.concat(l.data.minmax)):this.recalculateSerieUpwards(t,h,n,a,u),h++}this.changed=!0,t.setData(a),t._zoneSerie&&t._zoneSerie.setData(u)}}},{key:"setIntervalCheck",value:function(t){var e=this;this.interval&&clearInterval(this.interval),this.update(!0,!0),this.interval=setInterval(function(){e.update(!0,!1)},t)}},{key:"recalculateSerieUpwards",value:function(t,e,i,r,n){var s=this.options.intervals.slice(0);s.sort();var o=s[s.indexOf(i)+1]||-1;if(o<0)return[];var a=this.computeSlotTime(e,i),u=this.computeSlotTime(e+1,i),h=this.computeSlotID(a,o),l=!1,c=d.default.get(this.options.LRUName,this.computeUniqueID(t,h,o));if(c)for(var f=0,p=c.data.mean.length;f<p;f+=2)if(!(c.data.mean[f]<a)&&(!1===l&&(l=f),c.data.mean[f]>=u))return void(n=(r=r.concat(c.data.mean.slice(l,f))).concat(c.data.minmax.slice(l,f)));return this.recalculateSerieUpwards(t,h,o,r,n)}},{key:"lockRedraw",value:function(){this.locked=!0}},{key:"unlockRedraw",value:function(){this.locked=!1}},{key:"isRedrawLocked",value:function(){return!!this.locked}}],[{key:"default",value:function(){return{LRUName:"PluginTimeSerieManager",intervals:[1e3,15e3,6e4,9e5,36e5,864e4],maxParallelRequests:3,optimalPxPerPoint:2,nbPoints:1e3,url:""}}}]),e}();e.default=c,t.exports=e.default},n=[t,e,i(45),i(372),i(5),i(29)],void 0===(s="function"==typeof(r=o)?r.apply(e,n):r)||(t.exports=s)},function(t,e,i){var r,n,s;n=[e],void 0===(s="function"==typeof(r=function(t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.create=function(t,e){!function(t,e){e=e||50,h[t]||(h[t]={},c[t]=0);f[t]=e}(t,e)},t.get=e,t.store=function(t,e,i){return r=t,n=e,s=i,h[r]&&void 0!==c[r]&&f[r]&&(u=l[r],h[r][n]?(p(r,n),h[r][n].data.data=s,h[r][n].data.timeout=Date.now()):(o={data:{data:s,timeout:Date.now()}},void 0===u?(o.prev=o).next=o:(o.prev=u.prev,o.next=u.next,u.next.prev=o,u.next=o),l[r]=o,h[r][n]=o,c[r]++),c[r]>f[r]&&u&&(a=u.next,(u.next.next.prev=u).next=u.next.next,a.next.next=void 0,a.next.prev=void 0,c[r]--)),i;var r,n,s,o,a,u},t.empty=function(t){e=t,h[e]={},c[e]=0;var e},t.exist=function(t){return h[t]};var h={},l={},c={},f={};function p(t,e){var i,r;if(h[t]&&h[t][e])return r=l[t],(i=h[t][e]).prev=r,i.next=r.next,r.next.prev=i,r.next=i,(l[t]=i).data}function e(t,e){var i;if(null!=(i=p(t,e)))return i}t.default=e})?r.apply(e,n):r)||(t.exports=s)},function(t,e,i){var r,n,s,o;o=function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r,n=(r=i)&&r.__esModule?r:{default:r};var s=function(){function r(t,e){for(var i=0;i<e.length;i++){var r=e[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(t,e,i){return e&&r(t.prototype,e),i&&r(t,i),t}}();var o=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,n.default),s(e,[{key:"init",value:function(t,e){this.graph=t,this.pathsPositive=[],this.pathsNegative=[],this.positivePolyline=this.graph.newShape("polyline").draw(),this.positivePolyline.setFillColor(this.options.positiveStyle.fillColor).setFillOpacity(this.options.positiveStyle.fillOpacity).setStrokeWidth(this.options.positiveStyle.strokeWidth).applyStyle(),this.negativePolyline=this.graph.newShape("polyline").draw(),this.negativePolyline.setFillColor(this.options.negativeStyle.fillColor).setFillOpacity(this.options.negativeStyle.fillOpacity).setStrokeWidth(this.options.negativeStyle.strokeWidth).applyStyle()}},{key:"setSeries",value:function(t,e){this.serie1=t,this.serie2=e}},{key:"setBoundaries",value:function(t,e){this.options.from=t,this.options.to=e}},{key:"getFrom",value:function(){return this.options.from}},{key:"getTo",value:function(){return this.options.to}},{key:"draw",value:function(){var t,e,i,r,n,s,o,a,u,h,l,c=this,f=this.serie1.searchClosestValue(this.getFrom()),p=[],d=[];function g(){!0===h?c.pathsPositive.push([p,d]):!1===h&&c.pathsNegative.push([p,d]),p=[],d=[],h=void 0}for(f?(t=f.dataIndex,e=2*f.xAfterIndex):e=t=0,n=this.interpolate(this.serie1,this.getFrom()),p.push(this.getFrom()),p.push(n),n=this.interpolate(this.serie2,this.getFrom()),d.push(this.getFrom()),d.push(n);t<this.serie1.data.length;t++){for(;e<this.serie1.data[t].length;e+=2){if(this.serie1.data[t][e]>this.getTo()){n=this.interpolate(this.serie1,this.getTo()),s=this.interpolate(this.serie2,this.getTo()),(o=this.computeCrossing(p[p.length-2],p[p.length-1],this.getTo(),n,d[d.length-2],d[d.length-1],this.getTo(),s))&&(p.push(o.x),p.push(o.y),d.push(o.x),d.push(o.y),g(),p.push(o.x),p.push(o.y),d.push(o.x),d.push(o.y),h=this.serie1.data[t][e+1]>this.serie2.data[i][r+1]),p.push(this.getTo()),p.push(n),d.push(this.getTo()),d.push(s),l=!0;break}if(!u){if(!(u=this.serie2.searchClosestValue(this.serie1.data[t][e])))continue;i=u.dataIndex,r=2*u.xBeforeIndex,n=this.interpolate(this.serie2,this.serie1.data[t][e]),p.push(this.serie1.data[t][e]),p.push(this.serie1.data[t][e+1]),d.push(this.serie1.data[t][e]),d.push(n),h=this.serie1.data[t][e+1]>n}for(a=!1,(o=this.computeCrossing(p[p.length-2],p[p.length-1],this.serie1.data[t][e],this.serie1.data[t][e+1],d[d.length-2],d[d.length-1],this.serie2.data[i][r],this.serie2.data[i][r+1]))&&(p.push(o.x),p.push(o.y),d.push(o.x),d.push(o.y),g(),p.push(o.x),p.push(o.y),d.push(o.x),d.push(o.y),h=this.serie1.data[t][e+1]>this.serie2.data[i][r+1]);this.serie2.data[i][r]<this.serie1.data[t][e];){if(d.push(this.serie2.data[i][r]),d.push(this.serie2.data[i][r+1]),(r+=2)==this.serie2.data[i].length){a=this.serie2.data[i][r-2],i++,r=0;break}(o=this.computeCrossing(p[p.length-2],p[p.length-1],this.serie1.data[t][e],this.serie1.data[t][e+1],d[d.length-2],d[d.length-1],this.serie2.data[i][r],this.serie2.data[i][r+1]))&&(p.push(o.x),p.push(o.y),d.push(o.x),d.push(o.y),g(),p.push(o.x),p.push(o.y),d.push(o.x),d.push(o.y),h=this.serie1.data[t][e+1]>this.serie2.data[i][r+1])}!1===a?(p.push(this.serie1.data[t][e]),p.push(this.serie1.data[t][e+1])):(p.push(a),p.push(this.interpolate(this.serie1,a)),u=!1,e-=2,g())}if(l){g();break}(n=this.interpolate(this.serie2,p[p.length-2]))&&(d.push(p[p.length-2]),d.push(n)),g(),e=0,u=!1}var y=this.pathsPositive.reduce(v,"");this.positivePolyline.setPointsPx(y).redraw();y=this.pathsNegative.reduce(v,"");function v(t,e){for(var i=0;i<e[0].length;i+=2)0==i&&(t+="M "),t+=" "+Math.round(c.serie1.getXAxis().getPx(e[0][i]))+", "+Math.round(c.serie1.getYAxis().getPx(e[0][i+1])),i<e[0].length-2&&(t+=" L ");for(i=e[1].length-2;0<=i;i-=2)t+=" L "+Math.round(c.serie2.getXAxis().getPx(e[1][i]))+", "+Math.round(c.serie2.getYAxis().getPx(e[1][i+1])),0==i&&(t+=" z ");return t}this.negativePolyline.setPointsPx(y).redraw()}},{key:"interpolate",value:function(t,e){var i=t.searchClosestValue(e);if(!i)return!1;if(null==i.xMax)return i.yMin;if(null==i.xMin)return i.yMax;var r=(e-i.xMin)/(i.xMax-i.xMin);return(1-r)*i.yMin+r*i.yMax}},{key:"computeCrossing",value:function(t,e,i,r,n,s,o,a){var u=(r-e)/(i-t),h=(a-s)/(o-n),l=r-u*i;if(t==i||n==o)return!1;if(u==h)return{x:t,y1:e,y2:e};var c=(l-(a-h*o))/(h-u);return!(i<c||c<t||c<n||o<c)&&{x:c,y:u*c+l}}},{key:"getPositivePolyline",value:function(){return this.positivePolyline}},{key:"getNegativePolyline",value:function(){return this.negativePolyline}}],[{key:"default",value:function(){return{positiveStyle:{fillColor:"green",fillOpacity:.2,strokeWidth:0},negativeStyle:{fillColor:"red",fillOpacity:.2,strokeWidth:0},from:0,to:0}}}]),e}();e.default=o,t.exports=e.default},n=[t,e,i(29)],void 0===(s="function"==typeof(r=o)?r.apply(e,n):r)||(t.exports=s)},function(t,e,i){var r,n,s,o;o=function(t,e,i,r,n,s,o,a,u,h){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var l=v(i),c=v(r),f=v(n),p=function(t){{if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e.default=t,e}}(s),d=v(o),g=v(a),y=(v(u),v(h));function v(t){return t&&t.__esModule?t:{default:t}}var m=function t(e,i,r){null===e&&(e=Function.prototype);var n=Object.getOwnPropertyDescriptor(e,i);if(void 0===n){var s=Object.getPrototypeOf(e);return null===s?void 0:t(s,i,r)}if("value"in n)return n.value;var o=n.get;return void 0!==o?o.call(r):void 0};function x(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var b=function(){function r(t,e){for(var i=0;i<e.length;i++){var r=e[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(t,e,i){return e&&r(t.prototype,e),i&&r(t,i),t}}();function k(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function M(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var S=function(t){function e(){x(this,e);var t=k(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments));return t.subSeries=[],t}return M(e,d.default),b(e,[{key:"draw",value:function(){return this.eraseMarkers(),this}},{key:"getSymbolForLegend",value:function(){return!!this.subSeries[0]&&this.subSeries[0].getSymbolForLegend()}},{key:"getMarkerForLegend",value:function(){return!!this.subSeries[0]&&this.subSeries[0].getMarkerForLegend()}}]),e}(),A=function(t){function e(){x(this,e);var t=k(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments));return t.subSeries=[],t}return M(e,g.default),b(e,[{key:"draw",value:function(){return this}},{key:"getSymbolForLegend",value:function(){return!!this.subSeries[0]&&this.subSeries[0].getSymbolForLegend()}},{key:"getMarkerForLegend",value:function(){return!!this.subSeries[0]&&this.subSeries[0].getMarkerForLegend()}}]),e}(),_=["constructor","init","draw","setLineColor","setLineWidth","setLineStyle","getLineColor","getLineWidth","getLineStyle","setMarkers","showMarkers","hideMarkers","getMarkerDom","getMarkerDomIndependant","getMarkerPath","eraseMarkers","_recalculateMarkerPoints"];Object.getOwnPropertyNames(d.default.prototype).concat([]).map(function(t){var i;-1<_.indexOf(t)||(S.prototype[t]=(i=t,function(){var e=arguments;this.subSeries.map(function(t){console.log(i),t[i].apply(t,function(t){if(Array.isArray(t)){for(var e=0,i=Array(t.length);e<t.length;e++)i[e]=t[e];return i}return Array.from(t)}(e))})}))});var w=function(t){function i(t){x(this,i);var e=k(this,(i.__proto__||Object.getPrototypeOf(i)).apply(this,arguments));return e.series=new Map,e}return M(i,y.default),b(i,[{key:"init",value:function(t){this.graph=t}},{key:"newXAxis",value:function(t){return this.newBottomAxis(t)}},{key:"newYAxis",value:function(t){return this.newLeftAxis(t)}},{key:"newTopAxis",value:function(t){return t=this.getOptions(t),new L(this.graph,"top",t)}},{key:"newBottomAxis",value:function(t){return t=this.getOptions(t),new L(this.graph,"bottom",t)}},{key:"newLeftAxis",value:function(t){return t=this.getOptions(t),new O(this.graph,"left",t)}},{key:"newRightAxis",value:function(t){return t=this.getOptions(t),new O(this.graph,"right",t)}},{key:"getOptions",value:function(t){var e={marginMin:this.options.axes.margins.low,marginMax:this.options.axes.margins.high};return p.extend(!0,e,t)}},{key:"preDraw",value:function(){var a,s,u=this;this.series.forEach(function(t){var o=t.serie;a=o.getXAxis(),s=o.getYAxis();var e=1;for(a.splitNumber&&(e*=a.splitNumber),s.splitNumber&&(e*=s.splitNumber);o.subSeries.length<e;){var i=o.getName()+"_"+o.subSeries.length,r=u.graph.newSerie(i,{},o.getType()||l.default.SERIE_LINE);r.excludedFromLegend=!0,r.styles=o.styles,r.waveform=o.waveform,o.getType()==l.default.SERIE_LINE&&(r.markerPoints=o.markerPoints,r.markerFamilies=o.markerFamilies),o.subSeries.push(r),o.postInit()}for(;o.subSeries.length>e;){var n=u.graph.getSerie(o.getName()+"_"+(o.subSeries.length-1));n&&n.kill&&n.kill(),o.subSeries.pop()}!o.getXAxis().splitNumber&&o.getXAxis().splitAxis&&o.getXAxis().splitAxis(),!o.getYAxis().splitNumber&&o.getYAxis().splitAxis&&o.getYAxis().splitAxis(),o.subSeries.map(function(t,e){var i,r;if(o.getXAxis().getSubAxis){var n=e%(a.splitNumber||1);i=o.getXAxis().getSubAxis(n)}else i=o.getXAxis();if(t.setXAxis(i),o.getYAxis().getSubAxis){var s=Math.floor(e/(a.splitNumber||1));r=o.getYAxis().getSubAxis(s)}else r=o.getYAxis();t.setYAxis(r),t.draw(!0)})})}},{key:"newSerie",value:function(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},i=arguments[2];switch(i){case"line":return this.newLineSerie(t,e);case"scatter":return this.newScatterSerie(t,e)}throw"Cannot create a split serie of type "+i}},{key:"newLineSerie",value:function(t,e){var i={type:"lineSerie",serie:new S(this.graph,t,e,"line")};return this.series.set(t,i),this.graph.series.push(i.serie),i.serie}},{key:"newScatterSerie",value:function(t,e){var i={type:"scatterSerie",serie:new A(this.graph,t,e,"scatter")};return this.series.set(t,i),this.graph.series.push(i.serie),i.serie}}],[{key:"default",value:function(){return{axes:{margins:{high:5,low:5}}}}}]),i}(),P={splitMarks:!0},C=function(e){var r=function(t){function o(t,e){var i=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{};x(this,o);var r=k(this,(o.__proto__||Object.getPrototypeOf(o)).call(this,t,e,i));return r.axes=[],r.position=e,r.constructorOptions=p.extend(!0,{},P,i),r._splitVal=[],r}return M(o,e),b(o,[{key:"all",value:function(t){if("function"==typeof t)return this.axes.map(t),this}},{key:"splitAxis",value:function(){for(var t=arguments.length,e=Array(t),i=0;i<t;i++)e[i]=arguments[i];e.push(1);for(var r=e.length;this.axes.length>r;)this.axes.pop().kill(!0,!0);for(;this.axes.length<r;){var n=new(this.getConstructor())(this.graph,this.position,this.constructorOptions);this.axes.push(n),n.zoomLock=!0,n.init(this.graph,this.constructorOptions)}var s=0,o=0,a=!0,u=!1,h=void 0;try{for(var l,c=this.axes[Symbol.iterator]();!(a=(l=c.next()).done);a=!0){var f=l.value;f.options.marginMin=10,f.options.marginMax=10,0==o&&(f.options.marginMin=0),o==this.axes.length-1&&(f.options.marginMax=0),f.setSpan(s,s=e[o]),f.setMinMaxFlipped(),o++}}catch(t){u=!0,h=t}finally{try{!a&&c.return&&c.return()}finally{if(u)throw h}}return this._splits=e,this}},{key:"fixGridIntervalBasedOnAxis",value:function(t){return this.fixGridFor=t,this.graph._axisHasChanged(),this}},{key:"splitSpread",value:function(t){return this.autoSpread=!!t,this}},{key:"hasAxis",value:function(t){return-1<this.axes.indexOf(t)}},{key:"_splitSpread",value:function(){var t=[],e=0,i=0,r=!0,n=!1,s=void 0;try{for(var o,a=this._splitVal[Symbol.iterator]();!(r=(o=a.next()).done);r=!0){var u=o.value;e+=u[1]-u[0]}}catch(t){n=!0,s=t}finally{try{!r&&a.return&&a.return()}finally{if(n)throw s}}var h=!0,l=!1,c=void 0;try{for(var f,p=this._splitVal[Symbol.iterator]();!(h=(f=p.next()).done);h=!0){var d=f.value;t.push(i+=(d[1]-d[0])/e)}}catch(t){l=!0,c=t}finally{try{!h&&p.return&&p.return()}finally{if(l)throw c}}t.pop(),this.splitAxis.apply(this,t)}},{key:"setChunkBoundaries",value:function(t){var e=0,i=void 0,r=void 0,n=!0,s=!1,o=void 0;try{for(var a,u=this.axes[Symbol.iterator]();!(n=(a=u.next()).done);n=!0){var h=a.value;Array.isArray(t[e])&&1<t[e].length&&!i&&(i=t[e][1]-t[e][0],r=e),1!=t[e].length&&Array.isArray(t[e])?h.forceMin(t[e][0]).forceMax(t[e][1]):(h._mean=t[e],Array.isArray(h._mean)&&(h._mean=h._mean[0])),e++}}catch(t){s=!0,o=t}finally{try{!n&&u.return&&u.return()}finally{if(s)throw o}}return this._baseWidthVal=i,this._baseWidthIndex=r,this._splitVal=t,this.graph._axisHasChanged(),this}},{key:"setMinMaxToFitSeries",value:function(){(!this._splitVal||this._splitVal.length<1)&&(m(o.prototype.__proto__||Object.getPrototypeOf(o.prototype),"setMinMaxToFitSeries",this).apply(this,arguments),this._splitVal[0]=this._splitVal[0]||[],this._splitVal[this._splitVal.length-1]=this._splitVal[this._splitVal.length-1]||[],this._splitVal[0][0]=this.getCurrentMin(),this._splitVal[this._splitVal.length-1][1]=this.getCurrentMax(),this.setChunkBoundaries(this._splitVal))}},{key:"draw",value:function(){var i=this;this.autoSpread&&this._splitSpread();var r=0,n=void 0,s=void 0,o=void 0;if(0<=this._baseWidthIndex&&(s=this.getSubAxis(this._baseWidthIndex))&&(o=s.getSpan()),s=void 0,0<=this.fixGridFor&&(s=this.getSubAxis(this.fixGridFor))){if(void 0!==s._mean){var t=(s.getSpan()[1]-s.getSpan()[0])/(o[1]-o[0])*this._baseWidthVal;s.forceMin(s._mean-t/2),s.forceMax(s._mean+t/2)}r=s.draw(),n=s.getPrimaryTickUnit()}return this.axes.map(function(t){if(s!==t){if(void 0!==t._mean){var e=(t.getSpan()[1]-t.getSpan()[0])/(o[1]-o[0])*i._baseWidthVal;t.forceMin(t._mean-e/2),t.forceMax(t._mean+e/2)}n&&t.forcePrimaryTickUnit(n),r=Math.max(r,t.draw())}}),this.writeUnit(),r}},{key:"setMinPx",value:function(t){m(o.prototype.__proto__||Object.getPrototypeOf(o.prototype),"setMinPx",this).call(this,t);var e=!0,i=!1,r=void 0;try{for(var n,s=this.axes[Symbol.iterator]();!(e=(n=s.next()).done);e=!0){n.value.setMinPx(t)}}catch(t){i=!0,r=t}finally{try{!e&&s.return&&s.return()}finally{if(i)throw r}}}},{key:"setMaxPx",value:function(t){m(o.prototype.__proto__||Object.getPrototypeOf(o.prototype),"setMaxPx",this).call(this,t);var e=!0,i=!1,r=void 0;try{for(var n,s=this.axes[Symbol.iterator]();!(e=(n=s.next()).done);e=!0){n.value.setMaxPx(t)}}catch(t){i=!0,r=t}finally{try{!e&&s.return&&s.return()}finally{if(i)throw r}}}},{key:"setShift",value:function(){m(o.prototype.__proto__||Object.getPrototypeOf(o.prototype),"setShift",this).apply(this,arguments);var t=!0,e=!1,i=void 0;try{for(var r,n=this.axes[Symbol.iterator]();!(t=(r=n.next()).done);t=!0){var s=r.value;s.setShift.apply(s,arguments)}}catch(t){e=!0,i=t}finally{try{!t&&n.return&&n.return()}finally{if(e)throw i}}}},{key:"init",value:function(){m(o.prototype.__proto__||Object.getPrototypeOf(o.prototype),"init",this).apply(this,arguments),this.splitAxis()}},{key:"getAxisPosition",value:function(){var e=0;return this.axes.map(function(t){e=Math.max(e,t.getAxisPosition())}),e}},{key:"getSubAxis",value:function(t){if(this.axes.length<=t)throw"Impossible to reach axis. Index "+t+" is out of range";return this.axes[t]}},{key:"splitNumber",get:function(){return this._splits.length}}]),o}();return["turnGridsOff","turnGridsOn","gridsOff","gridsOn","setEngineering","setScientificScaleExponent","setScientific","setLabelColor","setSecondaryGridDasharray","setPrimaryGridDasharray","setSecondaryGridsOpacity","setPrimaryGridOpacity","setSecondaryGridWidth","setPrimaryGridWidth","setSecondaryGridColor","setPrimaryGridColor","setTicksLabelColor","setSecondaryTicksColor","setPrimaryTicksColor","setAxisColor","secondaryGridOn","secondaryGridOff","primaryGridOff","primaryGridOn","setSecondaryGrid","setPrimaryGrid","setGrids","setTickPosition","setExponentialFactor","setExponentialLabelFactor","setGridLinesStyle","forcePrimaryTickUnitMin","forcePrimaryTickUnitMax","forcePrimaryTickUnit","flip","show","hide","setDisplay"].map(function(t){var i;r.prototype[t]=(i=t,function(){var e=arguments;return this.axes.map(function(t){t[i].apply(t,e)}),this})}),r},L=function(t){function n(t,e,i){x(this,n);var r=k(this,(n.__proto__||Object.getPrototypeOf(n)).apply(this,arguments));return r.topbottom=e,r}return M(n,C(c.default)),b(n,[{key:"getConstructor",value:function(){return c.default}},{key:"getAxisPosition",value:function(){var t=m(n.prototype.__proto__||Object.getPrototypeOf(n.prototype),"getAxisPosition",this).apply(this,arguments);return this.labelPosY=t,this.getLabel()&&(t+=this.graph.options.fontSize),t}},{key:"drawLabel",value:function(){m(n.prototype.__proto__||Object.getPrototypeOf(n.prototype),"drawLabel",this).call(this),this.label.setAttribute("y",(this.top?-1:1)*(this.graph.options.fontSize+this.labelPosY))}},{key:"draw",value:function(){var t=m(n.prototype.__proto__||Object.getPrototypeOf(n.prototype),"draw",this).apply(this,arguments);return this.drawLabel(),t}}]),n}(),O=function(t){function r(t,e,i){return x(this,r),k(this,(r.__proto__||Object.getPrototypeOf(r)).apply(this,arguments))}return M(r,C(f.default)),b(r,[{key:"getConstructor",value:function(){return f.default}},{key:"drawLabel",value:function(){m(r.prototype.__proto__||Object.getPrototypeOf(r.prototype),"drawLabel",this).call(this)}},{key:"equalizePosition",value:function(e){var i=e;if(this.getLabel()&&this.axes.map(function(t){i=Math.max(t.equalizePosition(e),i)}),this.getLabel())return this.placeLabel(this.left?-i:i),i+this.graph.options.fontSize}}]),r}();p.mix(L,new c.default),p.mix(O,new f.default),e.default=w,t.exports=e.default},n=[t,e,i(45),i(101),i(139),i(5),i(51),i(141),i(73),i(29)],void 0===(s="function"==typeof(r=o)?r.apply(e,n):r)||(t.exports=s)},function(t,e,i){var r,n,s,o;o=function(t,e,i,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});!function(t){{if(t&&t.__esModule)return;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);e.default=t}}(i);var n,s=(n=r)&&n.__esModule?n:{default:n};var o=function(){function r(t,e){for(var i=0;i<e.length;i++){var r=e[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(t,e,i){return e&&r(t.prototype,e),i&&r(t,i),t}}();var a=function(t){function i(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(i.__proto__||Object.getPrototypeOf(i)).apply(this,arguments))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(i,s.default),o(i,[{key:"init",value:function(t,e){(function t(e,i,r){null===e&&(e=Function.prototype);var n=Object.getOwnPropertyDescriptor(e,i);if(void 0===n){var s=Object.getPrototypeOf(e);return null===s?void 0:t(s,i,r)}if("value"in n)return n.value;var o=n.get;return void 0!==o?o.call(r):void 0})(i.prototype.__proto__||Object.getPrototypeOf(i.prototype),"init",this).call(this,t,e)}},{key:"checkHSL",value:function(t){var e={},i=void 0,r=void 0,n=void 0;return(i=t.h||t.hue)?(i<1&&(i=Math.round(360*i)),e.hue=i):e.h=0,(r=t.s||t.saturation)?(1<r&&(r/=100),e.saturation=r):e.saturation=.75,(n=t.lightness||t.l)?(1<n&&(n/=100),e.lightness=n):e.lightness=.5,e}},{key:"buildHSLString",value:function(t){return"hsl( "+Math.round(t.h)+", "+Math.round(100*t.s)+"%, "+Math.round(100*t.l)+"%)"}},{key:"colorizeAll",value:function(r){var n,t,s=this,o=1<arguments.length&&void 0!==arguments[1]&&arguments[1],e=void 0;r.serieTypes?(Array.isArray(r.serieTypes)||(r.serieTypes=[r.serieTypes]),e=(t=this.graph).allSeries.apply(t,function(t){if(Array.isArray(t)){for(var e=0,i=Array(t.length);e<t.length;e++)i[e]=t[e];return i}return Array.from(t)}(r.serieTypes))):e=this.graph.getSeries();if(n=e.length,!r.startingColorHSL){if(!r.colorHSL)throw"No starting color was provided. There must exist either options.colorHSL or options.startingColorHSL";r.startingColorHSL=this.checkHSL(r.colorHSL)}if(r.endingColorHSL)r.endingColorHSL=Object.assign({},r.startingColorHSL,r.endingColorHSL);else switch(r.affect&&["h","s","l","hue","saturation","lightness"].include(r.affect)||(r.affect="h"),r.affect){case"h":case"hue":r.endingColorHSL={h:r.startingColorHSL.h+300,s:r.startingColorHSL.s,l:r.startingColorHSL.l};break;case"saturation":case"s":var i=void 0;i=.5<r.startingColorHSL.s?0:1,r.endingColorHSL={h:r.startingColorHSL.h,s:i,l:r.startingColorHSL.l};break;case"lightness":case"l":var a=void 0;a=.5<r.startingColorHSL.l?0:.75,r.endingColorHSL={h:r.startingColorHSL.h,s:r.startingColorHSL.s,l:a}}return e.map(function(t,e){if(!t.setLineColor)throw"The serie "+t.getName()+" does not implement the method `startingColor`";var i=void 0;return i=1==n?s.buildHSLString({h:r.startingColorHSL.h,s:r.startingColorHSL.s,l:r.startingColorHSL.l}):s.buildHSLString({h:r.startingColorHSL.h+e/(n-1)*(r.endingColorHSL.h-r.startingColorHSL.h),s:r.startingColorHSL.s+e/(n-1)*(r.endingColorHSL.s-r.startingColorHSL.s),l:r.startingColorHSL.l+e/(n-1)*(r.endingColorHSL.l-r.startingColorHSL.l)}),t.setLineColor(i),"function"==typeof o&&o(e,i),i})}}],[{key:"default",value:function(){return{}}}]),i}();e.default=a,t.exports=e.default},n=[t,e,i(5),i(29)],void 0===(s="function"==typeof(r=o)?r.apply(e,n):r)||(t.exports=s)},function(t,e,i){var r,n,s,o;o=function(t,e,i,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});!function(t){{if(t&&t.__esModule)return;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);e.default=t}}(i);var n,o=(n=r)&&n.__esModule?n:{default:n};var a=function(){function r(t,e){for(var i=0;i<e.length;i++){var r=e[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(t,e,i){return e&&r(t.prototype,e),i&&r(t,i),t}}();var s=function(t){function s(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,s),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(s.__proto__||Object.getPrototypeOf(s)).apply(this,arguments))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(s,o.default),a(s,[{key:"init",value:function(t,e){(function t(e,i,r){null===e&&(e=Function.prototype);var n=Object.getOwnPropertyDescriptor(e,i);if(void 0===n){var s=Object.getPrototypeOf(e);return null===s?void 0:t(s,i,r)}if("value"in n)return n.value;var o=n.get;return void 0!==o?o.call(r):void 0})(s.prototype.__proto__||Object.getPrototypeOf(s.prototype),"init",this).call(this,t,e),this.picks=[];for(var i=0,r=this.options.autoPeakPickingNb;i<r;i++){var n=this.graph.newShape({type:"label",label:{text:"",position:{x:0},anchor:"middle"},selectable:!0,shapeOptions:{minPosY:15}});n.draw(),this.picks.push(n)}}},{key:"setSerie",value:function(t){this.serie=t,this.picks.map(function(t){t.show()})}},{key:"serieRemoved",value:function(t){this.serie==t&&this.picks.map(function(t){t.hide()})}},{key:"preDraw",value:function(){this.serie&&(this.detectedPeaks=[],this.lastYPeakPicking=!1)}},{key:"postDraw",value:function(){if(this.serie){var t=!0,e=!1,i=void 0,r=[],n=this.serie.getWaveform();if(!n)throw"The serie must have a waveform for the peak picking to work";for(var s=n.getLength(),o=0,a=void 0;o<s;o++)a=n.getY(o),this.serie.options.lineToZero?r.push([n.getX(o),a]):i?a>=i[1]&&t||a<=i[1]&&e?i=[n.getX(o),a]:(a<i[1]&&t||a>i[1]&&e)&&(e?t=!(e=!1):(t=!(e=!0),r.push(i),i=!1),i=[n.getX(o),a]):i=[n.getX(o),a];var u,h,l,c,f=r,p=[],d=f.length;o=0;var g=this.graph.selectedShapes.map(function(t){return t.getProp("xval")});for(f.sort(function(t,e){return e[1]-t[1]}),c=0;o<d;o++)if(u=f[o][0],h=this.serie.getX(u),l=0,a=this.serie.getY(f[o][1]),!(h<this.serie.getXAxis().getMinPx()||h>this.serie.getXAxis().getMaxPx())&&(this.options.autoPeakPickingAllowAllY||!(a>this.serie.getYAxis().getMinPx()||a<this.serie.getYAxis().getMaxPx()))){for(;l<p.length&&!(Math.abs(p[l]-h)<this.options.autoPeakPickingMinDistance);l++);if(!(l<p.length))if(-1<g.indexOf(u))p.push(h);else{if(!this.picks[c])return;for(this.serie.getYAxis().getPx(f[o][1])-20<0?(this.picks[c].setLabelPosition({x:u,y:"5px"}),this.picks[c].setLabelBaseline("hanging")):(this.picks[c].setLabelBaseline("no-change"),this.picks[c].setLabelPosition({x:u,y:f[o][1],dy:"-15px"})),this.picks[c].setProp("xval",u),this.options.autoPeakPickingFormat?this.picks[c].setLabelText(this.options.autoPeakPickingFormat.call(this.picks[c],u,c)):this.picks[c].setLabelText(String(Math.round(1e3*u)/1e3)),this.picks[c].makeLabels(),c++;this.picks[c]&&this.picks[c].isSelected();)c++;if(p.length==this.options.autoPeakPickingNb)break}}}}},{key:"hidePeakPicking",value:function(t){if(this._hidePeakPickingLocked||(this._hidePeakPickingLocked=t),this.picks)for(var e=0;e<this.picks.length;e++)this.picks[e].hide()}},{key:"showPeakPicking",value:function(t){if((!this._hidePeakPickingLocked||t)&&this.picks)for(var e=0;e<this.picks.length;e++)this.picks[e].show()}},{key:"killPeakPicking",value:function(){if(this.picks)for(var t=0,e=this.picks.length;t<e;t++)this.picks[t].kill()}},{key:"getSerie",value:function(){return this.serie}}],[{key:"default",value:function(){return{autoPeakPicking:!1,autoPeakPickingNb:4,autoPeakPickingMinDistance:10,autoPeakPickingFormat:!1,autoPeakPickingAllowAllY:!1}}}]),s}();e.default=s,t.exports=e.default},n=[t,e,i(5),i(29)],void 0===(s="function"==typeof(r=o)?r.apply(e,n):r)||(t.exports=s)},function(t,e,i){var r,n,s,o;o=function(t,e,i,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});!function(t){{if(t&&t.__esModule)return;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);e.default=t}}(i);var n,s=(n=r)&&n.__esModule?n:{default:n};var o=function(){function r(t,e){for(var i=0;i<e.length;i++){var r=e[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(t,e,i){return e&&r(t.prototype,e),i&&r(t,i),t}}();var a=function(t){function i(t,e){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(i.__proto__||Object.getPrototypeOf(i)).call(this,t,e))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(i,s.default),o(i,[{key:"createDom",value:function(){this._dom=document.createElementNS(this.graph.ns,"ellipse")}},{key:"applyPosition",value:function(){var t=this.computePosition(0);this.setDom("cx",t.x||0),this.setDom("cy",t.y||0);var e=this.graph.newPosition({dx:this.getProp("rx"),dy:this.getProp("ry")||this.getProp("rx")}),i=this.calculatePosition(e);return this.setDom("rx",Math.abs(i.x)||0),this.setDom("ry",Math.abs(i.y)||0),!0}},{key:"setR",value:function(t,e){return this.setProp("rx",t),this.setProp("ry",e),this}},{key:"handleMouseUpImpl",value:function(){this.triggerChange()}},{key:"handleMouseMoveImpl",value:function(t,e,i,r,n){}}]),i}();e.default=a,t.exports=e.default},n=[t,e,i(5),i(28)],void 0===(s="function"==typeof(r=o)?r.apply(e,n):r)||(t.exports=s)}])});